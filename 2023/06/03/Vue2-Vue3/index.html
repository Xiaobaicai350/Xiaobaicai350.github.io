<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Vue2+Vue3 | 是小白菜哦</title><meta name="keywords" content="前端"><meta name="author" content="小白菜"><meta name="copyright" content="小白菜"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前端工程化与 webpack前端工程化1.小白眼中的前端开发 vs 实际的前端开发小白眼中的前端开发：  会写HTML + CSS + JavaScript 就会前端开发 需要美化页面样式，就拽一个bootstrap 过来 需要操作 DOM 或发起 Ajax 请求，再拽一个 jQuery 过来 需要快速实现网页布局效果，就拽一个 Layui 过来  实际的前端开发：  模块化（js 的模块化、cs">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue2+Vue3">
<meta property="og:url" content="http://example.com/2023/06/03/Vue2-Vue3/index.html">
<meta property="og:site_name" content="是小白菜哦">
<meta property="og:description" content="前端工程化与 webpack前端工程化1.小白眼中的前端开发 vs 实际的前端开发小白眼中的前端开发：  会写HTML + CSS + JavaScript 就会前端开发 需要美化页面样式，就拽一个bootstrap 过来 需要操作 DOM 或发起 Ajax 请求，再拽一个 jQuery 过来 需要快速实现网页布局效果，就拽一个 Layui 过来  实际的前端开发：  模块化（js 的模块化、cs">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220806101221.jpg">
<meta property="article:published_time" content="2023-06-03T07:56:37.000Z">
<meta property="article:modified_time" content="2023-07-30T14:02:45.776Z">
<meta property="article:author" content="小白菜">
<meta property="article:tag" content="前端">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220806101221.jpg"><link rel="shortcut icon" href="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/132124.png"><link rel="canonical" href="http://example.com/2023/06/03/Vue2-Vue3/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vue2+Vue3',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-30 22:02:45'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/mouse.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"><script src="/live2d-widget/autoload.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/css/plugins.min.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/pic.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">72</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">22</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220806101221.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">是小白菜哦</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Vue2+Vue3</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-03T07:56:37.000Z" title="发表于 2023-06-03 15:56:37">2023-06-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-30T14:02:45.776Z" title="更新于 2023-07-30 22:02:45">2023-07-30</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Vue2+Vue3"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="前端工程化与-webpack"><a href="#前端工程化与-webpack" class="headerlink" title="前端工程化与 webpack"></a>前端工程化与 webpack</h1><h2 id="前端工程化"><a href="#前端工程化" class="headerlink" title="前端工程化"></a>前端工程化</h2><h3 id="1-小白眼中的前端开发-vs-实际的前端开发"><a href="#1-小白眼中的前端开发-vs-实际的前端开发" class="headerlink" title="1.小白眼中的前端开发 vs 实际的前端开发"></a>1.小白眼中的前端开发 vs 实际的前端开发</h3><p>小白眼中的前端开发：</p>
<ul>
<li>会写HTML + CSS + JavaScript 就会前端开发</li>
<li>需要美化页面样式，就拽一个bootstrap 过来</li>
<li>需要操作 DOM 或发起 Ajax 请求，再拽一个 jQuery 过来</li>
<li>需要快速实现网页布局效果，就拽一个 Layui 过来</li>
</ul>
<p>实际的前端开发：</p>
<ul>
<li>模块化（js 的模块化、css 的模块化、资源的模块化）</li>
<li>组件化（复用现有的 UI 结构、样式、行为）</li>
<li>规范化（目录结构的划分、编码规范化、接口规范化、文档规范化、 Git 分支管理）</li>
<li>自动化（自动化构建、自动部署、自动化测试）</li>
</ul>
<h3 id="2-什么是前端工程化"><a href="#2-什么是前端工程化" class="headerlink" title="2.什么是前端工程化"></a>2.什么是前端工程化</h3><p>前端工程化指的是：在企业级的前端项目开发中，把前端开发所需的工具、技术、流程、经验等进行规范化、标准化。</p>
<p>企业中的 Vue 项目和 React 项目，都是基于工程化的方式进行开发的。</p>
<p>好处：前端开发自成体系，有一套标准的开发方案和流程。</p>
<h3 id="3-前端工程化的解决方案"><a href="#3-前端工程化的解决方案" class="headerlink" title="3.前端工程化的解决方案"></a>3.前端工程化的解决方案</h3><p>早期的前端工程化解决方案：<br>grunt（ <a target="_blank" rel="noopener" href="https://www.gruntjs.net/">https://www.gruntjs.net/</a> ）<br>gulp（ <a target="_blank" rel="noopener" href="https://www.gulpjs.com.cn/">https://www.gulpjs.com.cn/</a> ）</p>
<p>目前主流的前端工程化解决方案：<br>webpack（ <a target="_blank" rel="noopener" href="https://www.webpackjs.com/">https://www.webpackjs.com/</a> ）<br>parcel（ <a target="_blank" rel="noopener" href="https://zh.parceljs.org/">https://zh.parceljs.org/</a> ）</p>
<h2 id="webpack-的基本使用"><a href="#webpack-的基本使用" class="headerlink" title="webpack 的基本使用"></a>webpack 的基本使用</h2><h3 id="1-什么是-webpack"><a href="#1-什么是-webpack" class="headerlink" title="1.什么是 webpack"></a>1.什么是 webpack</h3><p>概念：webpack 是前端项目工程化的具体解决方案。</p>
<p>主要功能：它提供了友好的前端模块化开发支持，以及代码压缩混淆、处理浏览器端 JavaScript 的兼容性、性能优化等强大的功能。</p>
<p>好处：让程序员把工作的重心放到具体功能的实现上，提高了前端开发效率和项目的可维护性。</p>
<p>注意：目前Vue，React 等前端项目，基本上都是基于webpack 进行工程化开发的。</p>
<h3 id="2-创建列表隔行变色项目"><a href="#2-创建列表隔行变色项目" class="headerlink" title="2.创建列表隔行变色项目"></a>2.创建列表隔行变色项目</h3><p>① 新建项目空白目录，并运行npm init –y 命令(运行这个目录的前提，必须是纯英文目录)，初始化包管理配置文件package.json</p>
<p>② 新建 src 源代码目录</p>
<p>③ 新建 src -&gt; index.html 首页和 src -&gt; index.js 脚本文件<img src="/../pic/image-20230603213047875.png" alt="image-20230603213047875"></p>
<p>④ 初始化首页基本的结构</p>
<p>⑤ 运行npm install jquery –S （这个参数的意思是把jquery添加到dependencies目录下，不过不加这个指令也会安装到这个目录下，我个人感觉没有必要加)命令，安装 jQuery</p>
<p>⑥ 通过 ES6 模块化的方式导入 jQuery，实现列表隔行变色效果</p>
<h3 id="3-在项目中安装-webpack"><a href="#3-在项目中安装-webpack" class="headerlink" title="3.在项目中安装 webpack"></a>3.在项目中安装 webpack</h3><p>在终端运行如下的命令，安装webpack 相关的两个包：</p>
<p><code>npm install webpack@5.42.1 webpack-cli@4.7.2 -D</code>(这个D的意思是安装到devDependencies)</p>
<p><img src="/../pic/image-20230603213132868.png" alt="image-20230603213132868"></p>
<p>至于为什么这样安装，可以看npm的官方</p>
<p><img src="/../pic/image-20230603213151718.png" alt="image-20230603213151718"></p>
<p>注意：</p>
<ul>
<li>-S是 –save的简写</li>
<li>-D是 –save-dev的简写</li>
</ul>
<h3 id="4-在项目中配置-webpack"><a href="#4-在项目中配置-webpack" class="headerlink" title="4.在项目中配置 webpack"></a>4.在项目中配置 webpack</h3><p>①  在项目根目录中，创建名为 webpack.config.js 的 webpack 配置文件，并初始化如下的基本配置：</p>
<p><img src="/../pic/image-20230603213224083.png" alt="image-20230603213224083"></p>
<p>② 在 package.json 的 scripts 节点下，新增 dev 脚本如下：</p>
<p><img src="/../pic/image-20230603213232797.png" alt="image-20230603213232797"></p>
<p>上面后面这个webpack是固定的</p>
<p>③ 在终端中运行npm run dev 命令，启动webpack 进行项目的打包构建</p>
<h4 id="mode-的可选值"><a href="#mode-的可选值" class="headerlink" title="mode 的可选值"></a>mode 的可选值</h4><p>mode 节点的可选值有两个，分别是：</p>
<p>①	development</p>
<ul>
<li>开发环境</li>
<li>不会对打包生成的文件进行代码压缩和性能优化</li>
<li>打包速度快，适合在开发阶段使用</li>
</ul>
<p>②	production</p>
<ul>
<li>生产环境</li>
<li>会对打包生成的文件进行代码压缩和性能优化</li>
<li>打包速度很慢，仅适合在项目发布阶段使用</li>
</ul>
<p><img src="/../pic/image-20230603213327565.png" alt="image-20230603213327565"></p>
<h4 id="webpack-config-js-文件的作用"><a href="#webpack-config-js-文件的作用" class="headerlink" title="webpack.config.js 文件的作用"></a>webpack.config.js 文件的作用</h4><p>webpack.config.js 是 webpack 的配置文件。webpack 在真正开始打包构建之前，会先读取这个配置文件，从而基于给定的配置，对项目进行打包。（也就是说，当我们运行npm run dev 的时候，先会读取webpack.config.js中的配置选项，之后会根据模式运行webpack命令）</p>
<p>注意：由于 webpack 是基于 node.js 开发出来的打包工具，因此在它的配置文件中，支持使用 node.js 相关的语法和模块进行webpack 的个性化配置。</p>
<h4 id="webpack-中的默认约定"><a href="#webpack-中的默认约定" class="headerlink" title="webpack 中的默认约定"></a>webpack 中的默认约定</h4><p>在 webpack 4.x 和 5.x 的版本中，有如下的默认约定：</p>
<p>① 默认的打包入口文件为 src -&gt; index.js(src下面的index.js文件)</p>
<p>② 默认的输出文件路径为dist -&gt; main.js（dist下面的main.js文件）</p>
<p>注意：可以在webpack.config.js 中修改打包的默认约定</p>
<h4 id="自定义打包的入口与出口"><a href="#自定义打包的入口与出口" class="headerlink" title="自定义打包的入口与出口"></a>自定义打包的入口与出口</h4><p>在 webpack.config.js 配置文件中，通过entry 节点指定打包的入口。通过output 节点指定打包的出口。示例代码如下：</p>
<p><img src="/../pic/image-20230603213450195.png" alt="image-20230603213450195"></p>
<h2 id="webpack-中的插件"><a href="#webpack-中的插件" class="headerlink" title="webpack 中的插件"></a>webpack 中的插件</h2><h3 id="webpack-插件的作用"><a href="#webpack-插件的作用" class="headerlink" title="webpack 插件的作用"></a>webpack 插件的作用</h3><p>通过安装和配置第三方的插件，可以拓展webpack 的能力，从而让webpack 用起来更方便。最常用的webpack 插件有如下两个：</p>
<p>①	webpack-dev-server</p>
<ul>
<li>类似于node.js 阶段用到的 nodemon 工具</li>
<li>每当修改了源代码，然后ctrl+s，webpack 会自动进行项目的打包和构建,这样我们就可以实时看到我们修改的效果咯</li>
</ul>
<p>②	html-webpack-plugin</p>
<ul>
<li>webpack 中的HTML 插件（类似于一个模板引擎插件）</li>
<li>可以通过此插件自定制 index.html 页面的内容</li>
</ul>
<h3 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a>webpack-dev-server</h3><p>webpack-dev-server 可以让webpack 监听项目源代码的变化，从而进行自动打包构建。</p>
<h4 id="安装-webpack-dev-server"><a href="#安装-webpack-dev-server" class="headerlink" title="安装 webpack-dev-server"></a>安装 webpack-dev-server</h4><p>运行如下的命令，即可在项目中安装此插件：</p>
<p><code>npm install webpack-dev-server@3.11.2 -D</code></p>
<h4 id="配置-webpack-dev-server"><a href="#配置-webpack-dev-server" class="headerlink" title="配置 webpack-dev-server"></a>配置 webpack-dev-server</h4><p>① 修改package.json -&gt; scripts 中的dev 命令如下：（之前是dev:webpack,现在加了一个serve）</p>
<p><img src="/../pic/image-20230603213647963.png" alt="image-20230603213647963"></p>
<p>② 再次运行npm run dev 命令，重新进行项目的打包</p>
<p>③  在浏览器中访问<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a> 地址，查看自动打包效果（这个是项目的根目录）</p>
<p><img src="/../pic/image-20230603213659746.png" alt="image-20230603213659746"></p>
<p>注意：webpack-dev-server 会启动一个实时打包的http 服务器</p>
<h4 id="打包生成的文件哪儿去了？"><a href="#打包生成的文件哪儿去了？" class="headerlink" title="打包生成的文件哪儿去了？"></a>打包生成的文件哪儿去了？</h4><p>① 不配置webpack-dev-server 的情况下，webpack 打包生成的文件，会存放到实际的物理磁盘上</p>
<ul>
<li>严格遵守开发者在webpack.config.js 中指定配置</li>
<li>根据output 节点指定路径进行存放</li>
</ul>
<p>② 配置了 webpack-dev-server 之后，打包生成的文件存放到了内存中</p>
<ul>
<li>不再根据output 节点指定的路径，存放到实际的物理磁盘上</li>
<li>提高了实时打包输出的性能，因为内存比物理磁盘速度快很多</li>
</ul>
<h4 id="生成到内存中的文件该如何访问？"><a href="#生成到内存中的文件该如何访问？" class="headerlink" title="生成到内存中的文件该如何访问？"></a>生成到内存中的文件该如何访问？</h4><p>webpack-dev-server 生成到内存中的文件，默认放到了项目的根目录中，而且是虚拟的、不可见的。</p>
<ul>
<li>可以直接用&#x2F; 表示项目根目录，后面跟上要访问的文件名称，即可访问内存中的文件</li>
<li>例如&#x2F;bundle.js 就表示要访问webpack-dev-server 生成到内存中的bundle.js 文件</li>
</ul>
<h3 id="html-webpack-plugin"><a href="#html-webpack-plugin" class="headerlink" title="html-webpack-plugin"></a>html-webpack-plugin</h3><p>html-webpack-plugin 是 webpack 中的HTML 插件，可以通过此插件自定制 index.html 页面的内容。</p>
<p>需求：通过html-webpack-plugin 插件，将 src 目录下的 index.html 首页，复制到项目根目录中一份！</p>
<h4 id="安装-html-webpack-plugin"><a href="#安装-html-webpack-plugin" class="headerlink" title="安装 html-webpack-plugin"></a>安装 html-webpack-plugin</h4><p>运行如下的命令，即可在项目中安装此插件：</p>
<p><code>npm install html-webpack-plugin@5.3.2 -D</code></p>
<h4 id="配置-html-webpack-plugin"><a href="#配置-html-webpack-plugin" class="headerlink" title="配置 html-webpack-plugin"></a>配置 html-webpack-plugin</h4><p>下面的配置是在webpack.config.js配置文件中进行配置的</p>
<p><img src="/../pic/image-20230603213913500.png" alt="image-20230603213913500"></p>
<p>插件是在webpack指令执行期间会加载并调用这些插件</p>
<h4 id="解惑-html-webpack-plugin"><a href="#解惑-html-webpack-plugin" class="headerlink" title="解惑 html-webpack-plugin"></a>解惑 html-webpack-plugin</h4><p>① 通过HTML 插件复制到项目根目录中的 index.html 页面，也被放到了内存中</p>
<p>② HTML 插件在生成的 index.html 页面，自动注入了打包的bundle.js （不一定一定是这个文件，这个文件是我们自己配置的名字）文件</p>
<h3 id="devServer-节点"><a href="#devServer-节点" class="headerlink" title="devServer 节点"></a>devServer 节点</h3><p>在 webpack.config.js 配置文件中，可以通过devServer 节点对webpack-dev-server 插件进行更多的配置，示例代码如下：</p>
<p><img src="/../pic/image-20230603214011791.png" alt="image-20230603214011791"></p>
<p>修改端口号也是在这修改的</p>
<p>注意：凡是修改了 webpack.config.js 配置文件，或修改了 package.json 配置文件，必须重启实时打包的服务器，否则最新的配置文件无法生效！</p>
<h2 id="webpack-中的-loader"><a href="#webpack-中的-loader" class="headerlink" title="webpack 中的 loader"></a>webpack 中的 loader</h2><h3 id="loader-概述"><a href="#loader-概述" class="headerlink" title="loader 概述"></a>loader 概述</h3><p>在实际开发过程中，webpack 默认只能打包处理以.js 后缀名结尾的模块。其他非.js 后缀名结尾的模块，webpack 默认处理不了，需要调用 loader 加载器才可以正常打包，否则会报错！</p>
<p>loader 加载器的作用：协助 webpack 打包处理特定的文件模块。比如：</p>
<ul>
<li>css-loader 可以打包处理.css 相关的文件</li>
<li>less-loader 可以打包处理.less 相关的文件</li>
<li>babel-loader 可以打包处理webpack 无法处理的高级 JS 语法</li>
</ul>
<h3 id="loader-的调用过程"><a href="#loader-的调用过程" class="headerlink" title="loader 的调用过程"></a>loader 的调用过程</h3><p><img src="/../pic/image-20230603214105413.png" alt="image-20230603214105413"></p>
<h3 id="打包处理-css-文件"><a href="#打包处理-css-文件" class="headerlink" title="打包处理 css 文件"></a>打包处理 css 文件</h3><p>①  运行npm i <a href="mailto:&#x73;&#116;&#x79;&#108;&#x65;&#x2d;&#108;&#111;&#x61;&#x64;&#101;&#114;&#64;&#51;&#46;&#48;&#x2e;&#48;">&#x73;&#116;&#x79;&#108;&#x65;&#x2d;&#108;&#111;&#x61;&#x64;&#101;&#114;&#64;&#51;&#46;&#48;&#x2e;&#48;</a> <a href="mailto:&#99;&#x73;&#x73;&#45;&#108;&#111;&#97;&#100;&#101;&#114;&#64;&#x35;&#46;&#x32;&#46;&#54;">&#99;&#x73;&#x73;&#45;&#108;&#111;&#97;&#100;&#101;&#114;&#64;&#x35;&#46;&#x32;&#46;&#54;</a> -D 命令，安装处理css 文件的 loader</p>
<p>② 在 webpack.config.js 的module -&gt; rules 数组中，添加 loader 规则如下：</p>
<p><img src="/../pic/image-20230603214124192.png" alt="image-20230603214124192"></p>
<p>其中，test 表示匹配的文件类型， use 表示对应要调用的 loader</p>
<p>注意：</p>
<ul>
<li>use 数组中指定的 loader 顺序是固定的</li>
<li>多个 loader 的调用顺序是：从后往前调用</li>
</ul>
<p><img src="/../pic/image-20230603214141351.png" alt="image-20230603214141351"></p>
<h3 id="打包处理-less-文件"><a href="#打包处理-less-文件" class="headerlink" title="打包处理 less 文件"></a>打包处理 less 文件</h3><p>① 运行<code>npm i less-loader@10.0.1 less@4.1.1 -D</code>命令</p>
<p>② 在 webpack.config.js 的module -&gt; rules 数组中，添加 loader 规则如下：</p>
<p><img src="/../pic/image-20230603214214096.png" alt="image-20230603214214096"></p>
<h3 id="打包处理样式表中与-url-路径相关的文件"><a href="#打包处理样式表中与-url-路径相关的文件" class="headerlink" title="打包处理样式表中与 url 路径相关的文件"></a>打包处理样式表中与 url 路径相关的文件</h3><p>首先学一下base64怎么加载图片的：<img src="/../pic/image-20230603214256862.png" alt="image-20230603214256862"></p>
<p>打包处理样式表中与 url 路径相关的文件：</p>
<p>①  运行<code>npm i url-loader@4.1.1 file-loader@6.2.0 -D </code>命令</p>
<p>② 在 webpack.config.js 的module -&gt; rules 数组中，添加 loader 规则如下：</p>
<p><img src="/../pic/image-20230603214236444.png" alt="image-20230603214236444"></p>
<p>其中? 之后的是 loader 的参数项：</p>
<ul>
<li>limit 用来指定图片的大小，单位是字节（byte）</li>
<li>只有≤ limit 大小的图片，才会被转为base64 格式的图片，如果大于这个值，不会转成bese64格式，还是图片的格式</li>
</ul>
<p><img src="/../pic/image-20230603214329813.png" alt="image-20230603214329813"></p>
<h3 id="打包处理-js-文件中的高级语法"><a href="#打包处理-js-文件中的高级语法" class="headerlink" title="打包处理 js 文件中的高级语法"></a>打包处理 js 文件中的高级语法</h3><p>webpack 只能打包处理一部分高级的 JavaScript 语法。对于那些webpack 无法处理的高级 js 语法，需要借助于babel-loader 进行打包处理。例如webpack 无法处理下面的 JavaScript 代码：</p>
<p><img src="/../pic/image-20230603214356933.png" alt="image-20230603214356933"></p>
<h4 id="安装-babel-loader-相关的包"><a href="#安装-babel-loader-相关的包" class="headerlink" title="安装 babel-loader 相关的包"></a>安装 babel-loader 相关的包</h4><p>运行如下的命令安装对应的依赖包：</p>
<p><code>npm i babel-loader@8.2.2 @babel/core@7.14.6 @babel/plugin-proposal-decorators@7.14.5 -D</code></p>
<p>在 webpack.config.js 的 module -&gt; rules 数组中，添加 loader 规则如下：</p>
<p><img src="/../pic/image-20230603214422888.png" alt="image-20230603214422888"></p>
<p>至于为什么要指定排除项：因为第三方包中的JS兼容性，不需要我们关心，人家已经处理好了…</p>
<h4 id="配置-babel-loader"><a href="#配置-babel-loader" class="headerlink" title="配置 babel-loader"></a>配置 babel-loader</h4><blockquote>
<p>这里其实是配置插件的插件</p>
</blockquote>
<p>在项目根目录下，创建名为 babel.config.js 的配置文件，定义 Babel 的配置项如下：</p>
<p><img src="/../pic/image-20230603214531382.png" alt="image-20230603214531382"></p>
<p>详情请参考Babel 的官网<a target="_blank" rel="noopener" href="https://babeljs.io/docs/en/babel-plugin-proposal-decorators">https://babeljs.io/docs/en/babel-plugin-proposal-decorators</a></p>
<h2 id="打包发布"><a href="#打包发布" class="headerlink" title="打包发布"></a>打包发布</h2><h3 id="为什么要打包发布"><a href="#为什么要打包发布" class="headerlink" title="为什么要打包发布"></a>为什么要打包发布</h3><p>项目开发完成之后，需要使用webpack 对项目进行打包发布，主要原因有以下两点：</p>
<p>①  开发环境下，打包生成的文件存放于内存中，无法获取到最终打包生成的文件</p>
<p>② 开发环境下，打包生成的文件不会进行代码压缩和性能优化</p>
<p>为了让项目能够在生产环境中高性能的运行，因此需要对项目进行打包发布。</p>
<h3 id="配置-webpack-的打包发布"><a href="#配置-webpack-的打包发布" class="headerlink" title="配置 webpack 的打包发布"></a>配置 webpack 的打包发布</h3><p>在 package.json 文件的 scripts 节点下，新增build 命令如下：</p>
<p><img src="/../pic/image-20230603214605967.png" alt="image-20230603214605967"></p>
<p>–model 是一个参数项，用来指定webpack 的运行模式。production 代表生产环境，会对打包生成的文件进行代码压缩和性能优化（记不记得之前我们在webpack.config.js中配置模式为development，这里的–model就是覆盖那里的配置文件，改成了生产环境）</p>
<p>注意：通过 –model 指定的参数项，会覆盖webpack.config.js 中的model 选项。</p>
<h3 id="把-JavaScript-文件统一生成到-js-目录中"><a href="#把-JavaScript-文件统一生成到-js-目录中" class="headerlink" title="把 JavaScript 文件统一生成到 js 目录中"></a>把 JavaScript 文件统一生成到 js 目录中</h3><p>在 webpack.config.js 配置文件的output 节点中，进行如下的配置：</p>
<p><img src="/../pic/image-20230603214629006.png" alt="image-20230603214629006"></p>
<h3 id="把图片文件统一生成到-image-目录中"><a href="#把图片文件统一生成到-image-目录中" class="headerlink" title="把图片文件统一生成到 image 目录中"></a>把图片文件统一生成到 image 目录中</h3><p>修改webpack.config.js 中的 url-loader 配置项，新增outputPath 选项即可指定图片文件的输出路径：</p>
<p><img src="/../pic/image-20230603214647104.png" alt="image-20230603214647104"></p>
<h3 id="自动清理-dist-目录下的旧文件"><a href="#自动清理-dist-目录下的旧文件" class="headerlink" title="自动清理 dist 目录下的旧文件"></a>自动清理 dist 目录下的旧文件</h3><p>为了在每次打包发布时自动清理掉dist 目录中的旧文件，可以安装并配置clean-webpack-plugin 插件：</p>
<p><img src="/../pic/image-20230603214658639.png" alt="image-20230603214658639"></p>
<h2 id="Source-Map"><a href="#Source-Map" class="headerlink" title="Source Map"></a>Source Map</h2><h3 id="生产环境遇到的问题"><a href="#生产环境遇到的问题" class="headerlink" title="生产环境遇到的问题"></a>生产环境遇到的问题</h3><p>前端项目在投入生产环境之前，都需要对 JavaScript 源代码进行压缩混淆，从而减小文件的体积，提高文件的加载效率。此时就不可避免的产生了另一个问题：</p>
<p>对压缩混淆之后的代码除错（debug）是一件极其困难的事情，下面是压缩过的代码：</p>
<p><img src="/../pic/image-20230603214716406.png" alt="image-20230603214716406"></p>
<p>有如下的问题：</p>
<ul>
<li>变量被替换成没有任何语义的名称</li>
<li>空行和注释被剔除</li>
</ul>
<h3 id="什么是-Source-Map"><a href="#什么是-Source-Map" class="headerlink" title="什么是 Source Map"></a>什么是 Source Map</h3><p>Source Map 就是一个信息文件，里面储存着位置信息。也就是说，Source Map 文件中存储着压缩混淆后的代码，所对应的转换前的位置。</p>
<p>有了它，出错的时候，除错工具将直接显示原始代码，而不是转换后的代码，能够极大的方便后期的调试。</p>
<h3 id="webpack-开发环境下的-Source-Map"><a href="#webpack-开发环境下的-Source-Map" class="headerlink" title="webpack 开发环境下的 Source Map"></a>webpack 开发环境下的 Source Map</h3><p>在开发环境下，webpack 默认启用了 Source Map 功能。当程序运行出错时，可以直接在控制台提示错误行的位置，并定位到具体的源代码：</p>
<p><img src="/../pic/image-20230603214811210.png" alt="image-20230603214811210"></p>
<p><img src="/../pic/image-20230603214814831.png" alt="image-20230603214814831"></p>
<h3 id="解决默认-Source-Map-的问题"><a href="#解决默认-Source-Map-的问题" class="headerlink" title="解决默认 Source Map 的问题"></a>解决默认 Source Map 的问题</h3><p>开发环境下，推荐在webpack.config.js 中添加如下的配置，即可保证运行时报错的行数与源代码的行数保持一致：</p>
<p><img src="/../pic/image-20230603214827464.png" alt="image-20230603214827464"></p>
<h3 id="webpack-生产环境下的-Source-Map"><a href="#webpack-生产环境下的-Source-Map" class="headerlink" title="webpack 生产环境下的 Source Map"></a>webpack 生产环境下的 Source Map</h3><p>在生产环境下，如果省略了devtool 选项，则最终生成的文件中不包含 Source Map。这能够防止原始代码通过 Source Map 的形式暴露给别有所图之人。</p>
<p><img src="/../pic/image-20230603214839785.png" alt="image-20230603214839785"></p>
<p><img src="/../pic/image-20230603214848462.png" alt="image-20230603214848462"></p>
<h3 id="只定位行数不暴露源码"><a href="#只定位行数不暴露源码" class="headerlink" title="只定位行数不暴露源码"></a>只定位行数不暴露源码</h3><p>在生产环境下，如果只想定位报错的具体行数，且不想暴露源码。此时可以将 devtool 的值设置为<br>nosources-source-map。实际效果如图所示：</p>
<p><img src="/../pic/image-20230603214902859.png" alt="image-20230603214902859"></p>
<p><img src="/../pic/image-20230603214906685.png" alt="image-20230603214906685"></p>
<h3 id="定位行数且暴露源码"><a href="#定位行数且暴露源码" class="headerlink" title="定位行数且暴露源码"></a>定位行数且暴露源码</h3><p>在生产环境下，如果想在定位报错行数的同时，展示具体报错的源码。此时可以将devtool 的值设置为<br>source-map。实际效果如图所示：</p>
<p><img src="/../pic/image-20230603214917448.png" alt="image-20230603214917448"></p>
<p><img src="/../pic/image-20230603214920680.png" alt="image-20230603214920680"></p>
<p>采用此选项后：你应该将你的服务器配置为，不允许普通用户访问 source map 文件！</p>
<h3 id="Source-Map-的最佳实践"><a href="#Source-Map-的最佳实践" class="headerlink" title="Source Map 的最佳实践"></a>Source Map 的最佳实践</h3><p>① 开发环境下：</p>
<ul>
<li>建议把devtool 的值设置为eval-source-map</li>
<li>好处：可以精准定位到具体的错误行</li>
</ul>
<p>② 生产环境下：</p>
<ul>
<li>建议关闭 Source Map 或将devtool 的值设置为nosources-source-map</li>
<li>好处：防止源码泄露，提高网站的安全性</li>
</ul>
<h3 id="实际开发中需要自己配置-webpack-吗？"><a href="#实际开发中需要自己配置-webpack-吗？" class="headerlink" title="实际开发中需要自己配置 webpack 吗？"></a>实际开发中需要自己配置 webpack 吗？</h3><p>答案：不需要！</p>
<ul>
<li><p>实际开发中会使命令行工具（俗称 CLI）一键生成带有 webpack 的项目</p>
</li>
<li><p>开箱即用，所有 webpack 配置项都是现成的！</p>
</li>
<li><p>我们只需要知道 webpack 中的基本概念即可！</p>
</li>
</ul>
<h1 id="符号的作用"><a href="#符号的作用" class="headerlink" title="@符号的作用"></a>@符号的作用</h1><p><img src="/../pic/image-20230603215025553.png" alt="image-20230603215025553"></p>
<p>配置@指向的位置，但是在学了vue后他会默认给我们配置了</p>
<p><img src="/../pic/image-20230603215044781.png" alt="image-20230603215044781"></p>
<h1 id="Vue2"><a href="#Vue2" class="headerlink" title="Vue2"></a>Vue2</h1><h2 id="vue2-基础入门"><a href="#vue2-基础入门" class="headerlink" title="vue2 基础入门"></a>vue2 基础入门</h2><h3 id="Vue的特性"><a href="#Vue的特性" class="headerlink" title="Vue的特性"></a>Vue的特性</h3><p>vue 框架的特性，主要体现在如下两方面：</p>
<p>①	数据驱动视图</p>
<p>②	双向数据绑定</p>
<h4 id="数据驱动视图"><a href="#数据驱动视图" class="headerlink" title="数据驱动视图"></a>数据驱动视图</h4><p>在使用了vue 的页面中，vue 会监听数据的变化，从而自动重新渲染页面的结构。示意图如下：</p>
<p><img src="/../pic/image-20230604192214579.png" alt="image-20230604192214579"></p>
<p>好处：当页面数据发生变化时，页面会自动重新渲染！</p>
<p>注意：数据驱动视图是单向的数据绑定。</p>
<h4 id="双向数据绑定"><a href="#双向数据绑定" class="headerlink" title="双向数据绑定"></a>双向数据绑定</h4><p>在填写表单时，双向数据绑定可以辅助开发者在不操作 DOM 的前提下，自动把用户填写的内容同步到数据源中。示意图如下：</p>
<p><img src="/../pic/image-20230604192246946.png" alt="image-20230604192246946"><img src="/../pic/image-20230604192251186.png" alt="image-20230604192251186"></p>
<p>好处：开发者不再需要手动操作 DOM 元素，来获取表单元素最新的值！</p>
<h4 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h4><p>MVVM 是 vue 实现数据驱动视图和双向数据绑定的核心原理。MVVM 指的是Model、View 和 ViewModel，它把每个HTML 页面都拆分成了这三个部分，如图所示：</p>
<p><img src="/../pic/image-20230604192324531.png" alt="image-20230604192324531"></p>
<p>在 MVVM 概念中：</p>
<p>Model 表示当前页面渲染时所依赖的数据源（也就是数据对象）。</p>
<p>View	表示当前页面所渲染的 DOM 结构（页面）。</p>
<p>ViewModel 表示 vue 的实例，它是MVVM 的核心。</p>
<h4 id="MVVM-的工作原理"><a href="#MVVM-的工作原理" class="headerlink" title="MVVM 的工作原理"></a>MVVM 的工作原理</h4><p>ViewModel 作为 MVVM 的核心，是它把当前页面的数据源（Model）和页面的结构（View）连接在了一起。</p>
<p><img src="/../pic/image-20230604192355317.png" alt="image-20230604192355317"></p>
<p>当数据源发生变化时，会被 ViewModel 监听到，VM 会根据最新的数据源自动更新页面的结构</p>
<p>当表单元素的值发生变化时，也会被VM 监听到，VM 会把变化过后最新的值自动同步到Model 数据源中</p>
<h3 id="vue-的基本使用"><a href="#vue-的基本使用" class="headerlink" title="vue 的基本使用"></a>vue 的基本使用</h3><h4 id="基本使用步骤"><a href="#基本使用步骤" class="headerlink" title="基本使用步骤"></a>基本使用步骤</h4><p>①	导入 vue.js 的 script 脚本文件</p>
<p>②	在页面中声明一个将要被vue 所控制的 DOM 区域</p>
<p>③	创建 vm 实例对象（vue 实例对象）</p>
<h4 id="基本代码与-MVVM-的对应关系"><a href="#基本代码与-MVVM-的对应关系" class="headerlink" title="基本代码与 MVVM 的对应关系"></a>基本代码与 MVVM 的对应关系</h4><p><img src="/../pic/image-20230604192612315.png" alt="image-20230604192612315"></p>
<p>注意el的value是一个选择器，这里使用了id选择器选择id为app的节点</p>
<p>配置对象，axios的那个语法其实也是配置对象，这个对于任何的这样形式都是适用的：</p>
<p><img src="/../pic/image-20230609212539939.png" alt="image-20230609212539939"></p>
<h4 id="第一个vue程序"><a href="#第一个vue程序" class="headerlink" title="第一个vue程序"></a>第一个vue程序</h4><p>快捷：html 5导入模板</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue基础<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; message &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> app =<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">message</span>:<span class="string">&quot;hello Vue!&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="创建代码片段"><a href="#创建代码片段" class="headerlink" title="创建代码片段"></a><strong>创建代码片段</strong></h4><p>文件 &#x3D;&gt; 首选项 &#x3D;&gt; 用户代码片段 &#x3D;&gt; 新建全局代码片段&#x2F;或文件夹代码片段：</p>
<p>名称为：vue-html.code-snippets</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="string">&quot;vue htm&quot;</span>: &#123;</span><br><span class="line">		<span class="string">&quot;scope&quot;</span>: <span class="string">&quot;html&quot;</span>,</span><br><span class="line">		<span class="string">&quot;prefix&quot;</span>: <span class="string">&quot;!v&quot;</span>,</span><br><span class="line">		<span class="string">&quot;body&quot;</span>: [</span><br><span class="line">			<span class="string">&quot;&lt;!DOCTYPE html&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;&lt;html lang=\&quot;en\&quot;&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;&lt;head&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot; &lt;meta charset=\&quot;UTF-8\&quot;&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot; &lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0\&quot;&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot; &lt;meta http-equiv=\&quot;X-UA-Compatible\&quot; content=\&quot;ie=edge\&quot;&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot; &lt;title&gt;Document&lt;/title&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;&lt;/head&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;&lt;body&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot; &lt;div id=\&quot;app\&quot;&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;&quot;</span>,</span><br><span class="line">			<span class="string">&quot; &lt;/div&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot; &lt;script src=\&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js\&quot;&gt;&lt;/script&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot; &lt;script&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot; new Vue(&#123;&quot;</span>,</span><br><span class="line">			<span class="string">&quot; el: &#x27;#app&#x27;,&quot;</span>,</span><br><span class="line">			<span class="string">&quot; data: &#123;&quot;</span>,</span><br><span class="line">			<span class="string">&quot; $1&quot;</span>,</span><br><span class="line">			<span class="string">&quot; &#125;&quot;</span>,</span><br><span class="line">			<span class="string">&quot; &#125;)&quot;</span>,</span><br><span class="line">			<span class="string">&quot; &lt;/script&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;&lt;/body&gt;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;&quot;</span>,</span><br><span class="line">			<span class="string">&quot;&lt;/html&gt;&quot;</span>,</span><br><span class="line">		],</span><br><span class="line">		<span class="string">&quot;description&quot;</span>: <span class="string">&quot;my vue template in html&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我设置的快捷键是:  <code>!v </code> 如果有需要可以自己改</p>
<h4 id="el挂载点"><a href="#el挂载点" class="headerlink" title="el挂载点"></a>el挂载点</h4><p>el是用来设置Vue实例挂载（管理）的元素</p>
<p><strong>1.vue的作用范围是什么</strong></p>
<p>在el命中的元素内部可以被渲染</p>
<p>Vue会管理el选项 <strong>命中的元素</strong>及其<strong>内部的后代元素</strong></p>
<p><img src="/../pic/image-20220507132205663-16617872850361.png" alt="image-20220507132205663"></p>
<p><strong>2.这里使用了id选择器，那么是否可以选用其他的选择器</strong></p>
<p>可以，但是建议使用id选择器</p>
<p><strong>3.是否可以设置其他的dom元素</strong></p>
<p>可以使用其他的双标签，但是不能使用HTML和BODY标签</p>
<h4 id="data-数据对象"><a href="#data-数据对象" class="headerlink" title="data 数据对象"></a>data 数据对象</h4><p>1.Vue中用到的数据定义在data中</p>
<p>2.data中可以写复杂类型的数据</p>
<p>3.渲染复杂类型数据时，遵循js的语法即可。语法，数组的索引语法</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=&lt;device-width&gt;, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; message &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;school.name&#125;&#125; &#123;&#123;school.mobile&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;campus[[0]]&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;campus[[1]]&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">     <span class="keyword">var</span> app =<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">         <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">         <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">             <span class="attr">message</span>:<span class="string">&quot;hello,vue&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">             <span class="attr">school</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                 <span class="attr">name</span>:<span class="string">&quot;小黑&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                 <span class="attr">mobile</span>:<span class="string">&quot;130302030302020&quot;</span></span></span><br><span class="line"><span class="language-javascript">             &#125;,</span></span><br><span class="line"><span class="language-javascript">             <span class="attr">campus</span>:[<span class="string">&quot;北京&quot;</span>,<span class="string">&quot;上海&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">         &#125;</span></span><br><span class="line"><span class="language-javascript">     &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/../pic/image-20220507132349381-16617872850372.png" alt="image-20220507132349381"></p>
<h3 id="回顾Object-defineproperty方法"><a href="#回顾Object-defineproperty方法" class="headerlink" title="回顾Object.defineproperty方法"></a>回顾Object.defineproperty方法</h3><p>当我们通过控制台访问data里面的属性，在主界面不会立即显示，需要我们手动点击，当我们手动点击这个，就会自动触发getter方法</p>
<p><img src="/../pic/image-20230609231725856.png" alt="image-20230609231725856"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>回顾Object.defineproperty方法<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> &gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">			<span class="keyword">let</span> number = <span class="number">18</span></span></span><br><span class="line"><span class="language-javascript">			<span class="keyword">let</span> person = &#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">			<span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(person,<span class="string">&#x27;age&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="comment">// value:18,</span></span></span><br><span class="line"><span class="language-javascript">				<span class="comment">// enumerable:true, //控制属性是否可以枚举，默认值是false</span></span></span><br><span class="line"><span class="language-javascript">				<span class="comment">// writable:true, //控制属性是否可以被修改，默认值是false</span></span></span><br><span class="line"><span class="language-javascript">				<span class="comment">// configurable:true //控制属性是否可以被删除，默认值是false</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">				<span class="comment">//当有人读取person的age属性时，get函数(getter)就会被调用，且返回值就是age的值</span></span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">get</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;有人读取age属性了&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">return</span> number</span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">				<span class="comment">//当有人修改person的age属性时，set函数(setter)就会被调用，且会收到修改的具体值</span></span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">set</span>(<span class="params">value</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;有人修改了age属性，且值是&#x27;</span>,value)</span></span><br><span class="line"><span class="language-javascript">					number = value</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">			&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">			<span class="comment">// console.log(Object.keys(person))</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">			<span class="variable language_">console</span>.<span class="title function_">log</span>(person)</span></span><br><span class="line"><span class="language-javascript">		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>vue里面的数据代理！！！这也是为什么vue把data里面的数据直接提到外面一层，是为了更方便访问属性</p>
<p><img src="/../pic/image-20230609233012963.png" alt="image-20230609233012963"></p>
<p>​    1.Vue中的数据代理：</p>
<p>​       通过vm对象来代理data对象中属性的操作（读&#x2F;写）</p>
<p>​    2.Vue中数据代理的好处：</p>
<p>​       更加方便的操作data中的数据</p>
<p>​    3.基本原理：</p>
<p>​       通过Object.defineProperty()把data对象中所有属性添加到vm上。</p>
<p>​       为每一个添加到vm上的属性，都指定一个getter&#x2F;setter。</p>
<p>​       在getter&#x2F;setter内部去操作（读&#x2F;写）data中对应的属性。</p>
<h3 id="vue-的指令"><a href="#vue-的指令" class="headerlink" title="vue 的指令"></a>vue 的指令</h3><h4 id="js表达式"><a href="#js表达式" class="headerlink" title="js表达式"></a>js表达式</h4><p>怎么区分<code>js表达式</code>和<code>js语句(js代码)</code>的区别</p>
<p>表达式一定会生成一个值！！！无论是函数的调用还是四则运算，都会生成值</p>
<p><img src="/../pic/image-20230609214255976.png" alt="image-20230609214255976"></p>
<h4 id="指令的概念"><a href="#指令的概念" class="headerlink" title="指令的概念"></a>指令的概念</h4><p>指令（Directives）是 vue 为开发者提供的模板语法，用于辅助开发者渲染页面的基本结构。</p>
<p>vue 中的指令按照不同的用途可以分为如下 6 大类：</p>
<p>①	内容渲染指令</p>
<p>②	属性绑定指令</p>
<p>③	事件绑定指令</p>
<p>④	双向绑定指令</p>
<p>⑤	条件渲染指令</p>
<p>⑥	列表渲染指令</p>
<p>注意：指令是vue 开发中最基础、最常用、最简单的知识点。</p>
<h4 id="内容渲染指令"><a href="#内容渲染指令" class="headerlink" title="内容渲染指令"></a>内容渲染指令</h4><p>内容渲染指令用来辅助开发者渲染 DOM 元素的文本内容。常用的内容渲染指令有如下 3 个：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.v-text</span><br><span class="line"></span><br><span class="line">2.&#123;&#123; &#125;&#125;</span><br><span class="line"></span><br><span class="line">3.v-html</span><br></pre></td></tr></table></figure>

<h5 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h5><p>1.v-text指令的作用：设置标签的内容（textContent）</p>
<p>2.默认写法会替换全部内容，使用差值表达式<code>&#123;&#123;&#125;&#125;</code>可以替换指定内容,(也就是说，不管你标签里面写了啥，都会覆盖标签中原有的内容)所以说这种写法基本上都不使用。</p>
<p>3.内部支持写表达式（如字符串拼接）</p>
<p><img src="/../pic/image-20220507134440555-16617872850373.png" alt="image-20220507134440555"></p>
<p><img src="/../pic/image-20220507132541658-16617872850374.png" alt="image-20220507132541658"></p>
<p><img src="/../pic/image-20220507134035528-16617872850375.png" alt="image-20220507134035528"></p>
<p><img src="/../pic/image-20220507134526994-16617872850376.png" alt="image-20220507134526994"></p>
<h5 id="插值表达式"><a href="#插值表达式" class="headerlink" title="插值表达式"></a>插值表达式</h5><p>在这里面可以写我们创建的Vue对象身上的任何属性，不需要加Vue,也就是说你可以在插值表达式里面通过属性名字访问所有属性，不用加任何前缀</p>
<p><img src="/../pic/image-20230609232731303.png" alt="image-20230609232731303"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vue 提供的 `&#123;&#123; &#125;&#125; `语法，专门用来解决v-text 会覆盖默认文本内容的问题。这种 &#123;&#123; &#125;&#125; 语法的专业名称是插值表达式（英文名为：Mustache）。</span><br></pre></td></tr></table></figure>

<p><img src="/../pic/image-20230604194313484.png" alt="image-20230604194313484"></p>
<p>注意：相对于v-text 指令来说，插值表达式在开发中更常用一些！因为它不会覆盖元素中默认的文本内容。</p>
<h5 id="v-html指令"><a href="#v-html指令" class="headerlink" title="v-html指令"></a>v-html指令</h5><p>​      1.与插值语法的区别：</p>
<p>​         (1).v-html会替换掉节点中所有的内容，则不会。</p>
<p>​         (2).v-html可以识别html结构。</p>
<p>​      2.严重注意：v-html有安全性问题！！！！</p>
<p>​         (1).在网站上动态渲染任意HTML是非常危险的，容易导致XSS攻击。</p>
<p>​         (2).一定要在可信的内容上使用v-html，永不要用在用户提交的内容上！</p>
<ol>
<li><p>v-html指令的作用是:设置元素的innerHTML</p>
</li>
<li><p>内容中有html结构会被解析为标签</p>
</li>
<li><p>v-text指令无论内容是什么,只会解析为文本</p>
</li>
<li><p>解析文本使用v-text</p>
</li>
<li><p>需要解析html结构使用v-html</p>
</li>
</ol>
<p><img src="/../pic/image-20220507135026542-16617872850377.png" alt="image-20220507135026542"></p>
<h4 id="属性绑定指令"><a href="#属性绑定指令" class="headerlink" title="属性绑定指令"></a>属性绑定指令</h4><p>如果需要为元素的属性动态绑定属性值（注意是属性，之前的插值表达式是写到<strong>标签体</strong>里面的，而这个是写到标签的属性上的），则需要用到v-bind 属性绑定指令。用法示例如下：</p>
<h5 id="v-bind指令"><a href="#v-bind指令" class="headerlink" title="v-bind指令"></a>v-bind指令</h5><p>加了v-bind指令，引号中的就是一个js表达式了！！！！至于js表达式是什么，在上面提到过！这个必须要注意，用到的有很多</p>
<p><img src="/../pic/image-20220507150348228-166178728503713.png" alt="image-20220507150348228"></p>
<p>可以直接省略v-bind</p>
<p><img src="/../pic/image-20220507150414642-166178728503714.png" alt="image-20220507150414642"></p>
<p>1.v-bind：属性名&#x3D;表达式</p>
<p>2.v-bind指令的作用是:为元素绑定属性</p>
<p>3.完整写法是v-bind:属性名</p>
<p>4.简写的话可以直接省略v-bind,只保留:属性名</p>
<p>5.需要动态的增删class建议使用对象的方式</p>
<p><img src="/../pic/image-20220507151024623-166178728503715.png" alt="image-20220507151024623"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.active</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">border</span>: <span class="number">2px</span> solid red;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-bind:src</span>=<span class="string">&quot;imgSrc&quot;</span> <span class="attr">:title</span>=<span class="string">&quot;imgTitle+&#x27;!!!&#x27;&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- &lt;br&gt;         ？   ：  如果 是   就怎么 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;imgSrc&quot;</span> <span class="attr">:title</span>=<span class="string">&quot;imgTitle+&#x27;显示&#x27;&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;isActive?&#x27;active&#x27;:&#x27;&#x27;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;toggleActive&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;imgSrc&quot;</span> <span class="attr">:title</span>=<span class="string">&quot;imgTitle+&#x27;显示&#x27;&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:isActive&#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;toggleActive&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 点击变色                         active取值依赖于isactive是否取值 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> app=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">imgSrc</span>:<span class="string">&quot;https://img0.baidu.com/it/u=2753883117,2936626650&amp;fm=26&amp;fmt=auto&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">imgTitle</span>:<span class="string">&quot;壁纸&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">isActive</span>:<span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">toggleActive</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">isActive</span>=!<span class="variable language_">this</span>.<span class="property">isActive</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><img src="/../pic/image-20230604195146360.png" alt="image-20230604195146360"></p>
<p>在使用v-bind属性绑定期间，如果绑定内容需要进行动态的字符串拼接，则字符串的外面应该包括单引号，后面可以拼接一个变量，这个变量要去data里面去找</p>
<h4 id="事件绑定指令"><a href="#事件绑定指令" class="headerlink" title="事件绑定指令"></a>事件绑定指令</h4><p>vue 提供了v-on 事件绑定指令，用来辅助程序员为 DOM 元素绑定事件监听。语法格式如下：</p>
<p>注意：原生 DOM 对象有onclick、oninput、onkeyup 等原生事件，替换为vue 的事件绑定形式后，分别为：v-on:click、v-on:input、v-on:keyup</p>
<h5 id="v-on指令"><a href="#v-on指令" class="headerlink" title="v-on指令"></a>v-on指令</h5><p>示例代码：</p>
<p><img src="/../pic/image-20220507135252977-16617872850378.png" alt="image-20220507135252977"></p>
<p>举例子</p>
<p> <img src="/../pic/image-20220507135708630-16617872850379.png" alt="image-20220507135708630"></p>
<ol>
<li><p>v-on指令的作用是:为元素绑定事件(点击，移入….)</p>
</li>
<li><p>事件名不需要写on</p>
</li>
<li><p>指令可以简写为@</p>
</li>
<li><p>绑定的方法定义在methods属性中</p>
</li>
<li><p>方法内部通过this关键字可以访问定义在data中数据</p>
</li>
</ol>
<p><img src="/../pic/image-20220507141616701-166178728503710.png" alt="image-20220507141616701"></p>
<h5 id="事件参数对象"><a href="#事件参数对象" class="headerlink" title="事件参数对象"></a>事件参数对象</h5><p>在原生的 DOM 事件绑定中，可以在事件处理函数的形参处，接收事件参数对象 event。（但是，仅限于没有传参的函数，如果传参了，这个e就不会传进来了）同理，在v-on 指令（简写为@ ）所绑定的事件处理函数中，同样可以接收到事件参数对象event，（这个e对象就是触发事件对象，比如点击事件对象，e.target就是事件源，也就是那个触发事件的dom元素，这里是button按钮）示例代码如下：</p>
<p><img src="/../pic/image-20230604195919897.png" alt="image-20230604195919897"></p>
<h5 id="绑定事件并传参"><a href="#绑定事件并传参" class="headerlink" title="绑定事件并传参"></a>绑定事件并传参</h5><p>在使用v-on 指令绑定事件时，可以使用 ( ) 进行传参，示例代码如下：</p>
<p><img src="/../pic/image-20230604200031078.png" alt="image-20230604200031078"></p>
<h5 id="event"><a href="#event" class="headerlink" title="$event"></a>$event</h5><p>$event 是 vue 提供的特殊变量，用来表示原生的事件参数对象event。$event 可以解决事件参数对象event被覆盖的问题。示例用法如下：</p>
<p><img src="/../pic/image-20230604200045419.png" alt="image-20230604200045419"></p>
<h5 id="事件修饰符"><a href="#事件修饰符" class="headerlink" title="事件修饰符"></a>事件修饰符</h5><p>在原生的JavaScript中，事件处理函数中调用event.preventDefault() 或 event.stopPropagation() 是非常常见的需求。因此，<br>vue 提供了事件修饰符的概念，来辅助程序员更方便的对事件的触发进行控制。常用的 5 个事件修饰符如下：</p>
<table>
<thead>
<tr>
<th>事件修饰符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.prevent</td>
<td>阻止默认行为（例如：阻止 a 连接的跳转、阻止表单的提交等）</td>
</tr>
<tr>
<td>.stop</td>
<td>阻止事件冒泡</td>
</tr>
<tr>
<td>.capture</td>
<td>以捕获模式触发当前的事件处理函数</td>
</tr>
<tr>
<td>.once</td>
<td>绑定的事件只触发1次</td>
</tr>
<tr>
<td>.self</td>
<td>只有在 event.target 是当前元素自身时触发事件处理函数</td>
</tr>
</tbody></table>
<p>修饰符 (Modifiers) 是以半角句号（.）指明的特殊后缀，用于指出一个指令应该以特殊方式绑定。</p>
<blockquote>
<p>例如  :   </p>
<p>  .prevent 修饰符告诉 v-on 指令对于触发的事件调用 event.preventDefault(),即阻止事件原本的默认行为</p>
</blockquote>
<p>语法格式如下：</p>
<p><img src="/../pic/image-20230604200227161.png" alt="image-20230604200227161"></p>
<p>阻止默认行为然后触发onLinkClick函数，这个函数是我们自己定义的。。。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!--阻止表单的默认提交行为，然后触发onSubmit函数--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;localhost:8080/save&quot;</span> <span class="attr">v-on:submit.prevent</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;user.username&quot;</span> /&gt;</span></span><br><span class="line">            	<span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>保存<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">user</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">username</span>:<span class="string">&quot;请输入你的密码&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">onSubmit</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">user</span>.<span class="property">username</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;提交表单&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">alert</span>(<span class="string">&quot;请输入用户名&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>按下按钮后，阻止表单提交到指定地址，并且，触发onSubmit()方法</p>
<h5 id="按键修饰符"><a href="#按键修饰符" class="headerlink" title="按键修饰符"></a>按键修饰符</h5><p>（tab键必须配合keydown使用，因为按下tab键会失去焦点）</p>
<p>在监听键盘事件时，我们经常需要判断详细的按键。此时，可以为键盘相关的事件添加按键修饰符，例如：</p>
<p><img src="/../pic/image-20230604200427738.png" alt="image-20230604200427738"></p>
<p>submit 和clearInput这两个函数都是我们两个自己定义的</p>
<p><strong>模板</strong></p>
<p><img src="/../pic/image-20220507160511834-166178728503718.png" alt="image-20220507160511834"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 2.html结构 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;点击&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;doIt(666,&#x27;老铁&#x27;)&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;sayHi&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 1.开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 3.创建Vue实例 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> app=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">doIt</span>:<span class="keyword">function</span>(<span class="params">p1,p2</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;做it&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(p1,p2);</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">alert</span>(<span class="string">&quot;吃了没&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">alert</span>(p1,p2);</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">sayHi</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">alert</span>(<span class="string">&quot;吃了没&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/../pic/image-20220507133130871-166178728503719.png" alt="image-20220507133130871"></p>
<h4 id="双向绑定指令"><a href="#双向绑定指令" class="headerlink" title="双向绑定指令"></a>双向绑定指令</h4><p>vue 提供了v-model 双向数据绑定指令，用来辅助开发者在不操作 DOM 的前提下，快速获取表单的数据。</p>
<blockquote>
<p>只有表单元素才能使用v-model指令，其他标签用它没意义</p>
<p>比如：</p>
<ul>
<li>input</li>
<li>select</li>
<li>textarea</li>
</ul>
</blockquote>
<p><img src="/../pic/image-20230604200539973.png" alt="image-20230604200539973"></p>
<h5 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h5><p><font color="red">v-model一般都应用在表单类元素上（input、select这种有value属性的标签上）</font></p>
<p><img src="/../pic/image-20230609220126204.png" alt="image-20230609220126204"></p>
<p>简单来说双向绑定就是指修改文本框中的message，也会改变data中的message。</p>
<ol>
<li>v-model：获取和设置表单元素的值(双向数据绑定)</li>
</ol>
<p><img src="/../pic/image-20220507160729118-166178728503720.png" alt="image-20220507160729118"></p>
<ol start="2">
<li><p>v-model指令的作用是：便捷的设置、获取表单元素的值</p>
</li>
<li><p>绑定的数据会和表单元素值相关联</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 2.html结构 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;getMessage&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;setMessage&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 3.创建Vue实例 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> app=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">message</span>:<span class="string">&quot;沙丁鱼&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">getMessage</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">message</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">setMessage</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">message</span>=<span class="string">&quot;酷丁鱼&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/../pic/image-20220507133158658-166178728503721.png" alt="image-20220507133158658"></p>
<h5 id="v-model-指令的修饰符"><a href="#v-model-指令的修饰符" class="headerlink" title="v-model 指令的修饰符"></a>v-model 指令的修饰符</h5><p>为了方便对用户输入的内容进行处理，vue 为 v-model 指令提供了 3 个修饰符，分别是：</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>作用</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>.number</td>
<td>自动将用户的输入值转为数值类型</td>
<td><input v-model.number="age" /></td>
</tr>
<tr>
<td>.trim</td>
<td>自动过滤用户输入的首尾空白字符</td>
<td><input v-model.trim="msg" /></td>
</tr>
<tr>
<td>.lazy</td>
<td>在“change”时而非“input”时更新</td>
<td><input v-model.lazy="msg" /></td>
</tr>
</tbody></table>
<p><img src="/../pic/image-20230604200949908.png" alt="image-20230604200949908"></p>
<h5 id="利用v-model手机表单数据"><a href="#利用v-model手机表单数据" class="headerlink" title="利用v-model手机表单数据"></a>利用v-model手机表单数据</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>收集表单数据<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">			收集表单数据：</span></span><br><span class="line"><span class="comment">					若：&lt;input type=&quot;text&quot;/&gt;，则v-model收集的是value值，用户输入的就是value值。</span></span><br><span class="line"><span class="comment">					若：&lt;input type=&quot;radio&quot;/&gt;，则v-model收集的是value值，且要给标签配置value值。</span></span><br><span class="line"><span class="comment">					若：&lt;input type=&quot;checkbox&quot;/&gt;</span></span><br><span class="line"><span class="comment">							1.没有配置input的value属性，那么收集的就是checked（勾选 or 未勾选，是布尔值）</span></span><br><span class="line"><span class="comment">							2.配置input的value属性:</span></span><br><span class="line"><span class="comment">									(1)v-model的初始值是非数组，那么收集的就是checked（勾选 or 未勾选，是布尔值）</span></span><br><span class="line"><span class="comment">									(2)v-model的初始值是数组，那么收集的的就是value组成的数组</span></span><br><span class="line"><span class="comment">					备注：v-model的三个修饰符：</span></span><br><span class="line"><span class="comment">									lazy：失去焦点再收集数据</span></span><br><span class="line"><span class="comment">									number：输入字符串转为有效的数字</span></span><br><span class="line"><span class="comment">									trim：输入首尾空格过滤</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">form</span> @<span class="attr">submit.prevent</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">				账号：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.trim</span>=<span class="string">&quot;userInfo.account&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">				密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.password&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">				年龄：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;userInfo.age&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">				性别：</span><br><span class="line">				男<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span></span><br><span class="line">				女<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">				爱好：</span><br><span class="line">				学习<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;study&quot;</span>&gt;</span></span><br><span class="line">				打游戏<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;game&quot;</span>&gt;</span></span><br><span class="line">				吃饭<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;eat&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">				所属校区</span><br><span class="line">				<span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.city&quot;</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>请选择校区<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;beijing&quot;</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;shanghai&quot;</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;shenzhen&quot;</span>&gt;</span>深圳<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;wuhan&quot;</span>&gt;</span>武汉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">				其他信息：</span><br><span class="line">				<span class="tag">&lt;<span class="name">textarea</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;userInfo.other&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.agree&quot;</span>&gt;</span>阅读并接受<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.atguigu.com&quot;</span>&gt;</span>《用户协议》<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">button</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">userInfo</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">account</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">password</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">age</span>:<span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">sex</span>:<span class="string">&#x27;female&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">hobby</span>:[],</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">city</span>:<span class="string">&#x27;beijing&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">other</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">agree</span>:<span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">demo</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">userInfo</span>))</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="条件渲染指令"><a href="#条件渲染指令" class="headerlink" title="条件渲染指令"></a>条件渲染指令</h4><p>条件渲染指令用来辅助开发者按需控制 DOM 的显示与隐藏。条件渲染指令有如下两个，分别是：</p>
<ul>
<li>v-if</li>
<li>v-show</li>
</ul>
<p>示例用法如下：</p>
<p>下面的networkState也是我们自己定义的一个变量</p>
<p><img src="/../pic/image-20230604201041922.png" alt="image-20230604201041922"></p>
<h5 id="v-show指令"><a href="#v-show指令" class="headerlink" title="v-show指令"></a>v-show指令</h5><ol>
<li>show指令的作用</li>
</ol>
<p>根据<strong>真假</strong>进行切换元素的显示</p>
<p><strong>状态原理</strong>是修改元素的<strong>display</strong>,实现显示隐藏</p>
<ol start="2">
<li><p>指令后面的内容,最终都会解析为布尔值 </p>
</li>
<li><p>true元素显示，值为false元素隐藏</p>
</li>
<li><p>改变之后，对应元素的显示状态会同步更新</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;切换显示状态&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;changeIsShow&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;累加年龄&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addAge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./1.jpg&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-show</span>=<span class="string">&quot;age&gt;=18&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./1.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> app =<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">isShow</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">age</span>:<span class="number">17</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">changeIsShow</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">isShow</span>=!<span class="variable language_">this</span>.<span class="property">isShow</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">addAge</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">age</span>++;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="v-if指令"><a href="#v-if指令" class="headerlink" title="v-if指令"></a>v-if指令</h5><ol>
<li>v-if指令的作用是:<strong>根据表达式的真假切换元素的显示状态</strong></li>
<li>本质是通过操纵dom元素来切换显示状态</li>
<li>表达式的值为true,把dom元素添加到dom树中。如果值为false,则从dom树中移除</li>
<li>频繁的切换使用v-show。反之使用v-if，v-show如果多次进行切换消耗的资源小</li>
</ol>
<p>v-if和v-show的区别：v-show直接修改display ，而v-if是直接抹除dom标签</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;切换显示&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;change&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;true&quot;</span>&gt;</span>我是一个p标签<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>我是一个p标签<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> app=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">isShow</span>:<span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>:&#123;  </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">change</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">isShow</span>=!<span class="variable language_">this</span>.<span class="property">isShow</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/../pic/image-20220507132907620-166178728503712.png" alt="image-20220507132907620"></p>
<p>在实际开发中，绝大多数情况，不用考虑性能，直接使用v-if就行了</p>
<p>v-if和template的配合使用</p>
<p><img src="/../pic/image-20230610160517201.png" alt="image-20230610160517201"></p>
<p>渲染到页面上只有三个h2标签（不过只能配合v-if使用）</p>
<p><img src="/../pic/image-20230610160545555.png" alt="image-20230610160545555"></p>
<h6 id="v-else"><a href="#v-else" class="headerlink" title="v-else"></a>v-else</h6><p>v-if 可以单独使用，或配合v-else 指令一起使用：</p>
<p><img src="/../pic/image-20230604201558550.png" alt="image-20230604201558550"></p>
<p>注意：v-else 指令必须配合v-if 指令一起使用，否则它将不会被识别！</p>
<h6 id="v-else-if"><a href="#v-else-if" class="headerlink" title="v-else-if"></a>v-else-if</h6><p>v-else-if 指令，顾名思义，充当v-if 的“else-if 块”，可以连续使用：</p>
<p><img src="/../pic/image-20230604201639596.png" alt="image-20230604201639596"></p>
<p>注意：v-else-if 指令必须配合v-if 指令一起使用，否则它将不会被识别！</p>
<p>这玩意一般都不用。。。</p>
<h4 id="列表渲染指令"><a href="#列表渲染指令" class="headerlink" title="列表渲染指令"></a>列表渲染指令</h4><p>vue 提供了v-for 列表渲染指令，用来辅助开发者基于一个数组来循环渲染一个列表结构。v-for 指令需要使用 item in items 形式的特殊语法，其中：</p>
<ul>
<li>items 是待循环的数组</li>
<li>item 是被循环的每一项</li>
</ul>
<p><img src="/../pic/image-20230604201800144.png" alt="image-20230604201800144"></p>
<h5 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h5><p><img src="/../pic/image-20221002194520056.png" alt="image-20221002194520056"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;n in 10&quot;</span>&gt;</span>&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(n,index) in 10&quot;</span>&gt;</span>&#123;&#123;n&#125;&#125;----&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>遍历表格（其中的user可以随便起名字。改成haohao都行）</p>
<p><img src="/../pic/image-20221002195311858.png" alt="image-20221002195311858"></p>
<p><img src="/../pic/image-20220507155014859-166178728503716.png" alt="image-20220507155014859"></p>
<p><img src="/../pic/image-20220507155620808-166178728503717.png" alt="image-20220507155620808"></p>
<ol>
<li><p>v-for指令的作用是:根据数据生成列表结构</p>
</li>
<li><p>数组经常和v-for结合使用</p>
</li>
<li><p>语法是( item,index ) in数据</p>
</li>
<li><p>item和index可以结合其他指令- -起使用</p>
</li>
<li><p>数组长度的更新会同步到页面上，是响应式的</p>
</li>
</ol>
<h6 id="利用v-for遍历各种东西"><a href="#利用v-for遍历各种东西" class="headerlink" title="利用v-for遍历各种东西"></a>利用v-for遍历各种东西</h6><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>基本列表<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">				v-for指令:</span></span><br><span class="line"><span class="comment">						1.用于展示列表数据</span></span><br><span class="line"><span class="comment">						2.语法：v-for=&quot;(item, index) in xxx&quot; :key=&quot;yyy&quot;</span></span><br><span class="line"><span class="comment">						3.可遍历：数组、对象、字符串（用的很少）、指定次数（用的很少）</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- 遍历数组 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员列表（遍历数组）<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,index) of persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">					&#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;</span><br><span class="line">				<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">&lt;!-- 遍历对象 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h2</span>&gt;</span>汽车信息（遍历对象）<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,k) of car&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;k&quot;</span>&gt;</span></span><br><span class="line">					&#123;&#123;k&#125;&#125;-&#123;&#123;value&#125;&#125;</span><br><span class="line">				<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">&lt;!-- 遍历字符串 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h2</span>&gt;</span>测试遍历字符串（用得少）<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(char,index) of str&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">					&#123;&#123;char&#125;&#125;-&#123;&#123;index&#125;&#125;</span><br><span class="line">				<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">			</span><br><span class="line">			<span class="comment">&lt;!-- 遍历指定次数 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h2</span>&gt;</span>测试遍历指定次数（用得少）<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(number,index) of 5&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">					&#123;&#123;index&#125;&#125;-&#123;&#123;number&#125;&#125;</span><br><span class="line">				<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">			<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">			</span></span><br><span class="line"><span class="language-javascript">			<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">persons</span>:[</span></span><br><span class="line"><span class="language-javascript">						&#123;<span class="attr">id</span>:<span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">						&#123;<span class="attr">id</span>:<span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;李四&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">						&#123;<span class="attr">id</span>:<span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;王五&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;</span></span><br><span class="line"><span class="language-javascript">					],</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">car</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">						<span class="attr">name</span>:<span class="string">&#x27;奥迪A8&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">						<span class="attr">price</span>:<span class="string">&#x27;70万&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">						<span class="attr">color</span>:<span class="string">&#x27;黑色&#x27;</span></span></span><br><span class="line"><span class="language-javascript">					&#125;,</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">str</span>:<span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;)</span></span><br><span class="line"><span class="language-javascript">		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h6 id="v-for-中的索引"><a href="#v-for-中的索引" class="headerlink" title="v-for 中的索引"></a>v-for 中的索引</h6><p>v-for 指令还支持一个可选的第二个参数，即当前项的索引。语法格式为(item, index) in items，示例代码如下：</p>
<p><img src="/../pic/image-20230604202031528.png" alt="image-20230604202031528"></p>
<p>注意：v-for 指令中的 item 项和 index 索引都是形参，可以根据需要进行重命名。例如(user, i) in userlist</p>
<h6 id="使用-key-维护列表的状态"><a href="#使用-key-维护列表的状态" class="headerlink" title="使用 key 维护列表的状态"></a>使用 key 维护列表的状态</h6><p>当列表的数据变化时，默认情况下，vue 会尽可能的复用已存在的 DOM 元素，从而提升渲染的性能。但这种默认的性能优化策略，会导致有状态的列表无法被正确更新。</p>
<p>为了给vue一个提示，以便它能跟踪每个节点的身份，从而在保证有状态的列表被正确更新的前提下，提升渲染的性能。此时，需要为每项提供一个唯一的key 属性。</p>
<p>官方建议：只要用到了v-for指令，那么一定要绑定一个<code>:key</code>属性</p>
<p><img src="/../pic/image-20230604202130906.png" alt="image-20230604202130906"></p>
<p>key 的注意事项</p>
<p>①	key 的值只能是字符串或数字类型<br>②	key 的值必须具有唯一性（即：key 的值不能重复）<br>③	建议把数据项 id（我们data里面的数据中的key） 属性的值作为key 的值（因为 id 属性的值具有唯一性）<br>④	使用 index 的值当作 key 的值没有任何意义（因为 index 的值不具有唯一性）<br>⑤	建议使用v-for 指令时一定要指定key 的值（既提升性能、又防止列表状态紊乱）</p>
<h6 id="key的原理"><a href="#key的原理" class="headerlink" title="key的原理"></a>key的原理</h6><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>key的原理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">				面试题：react、vue中的key有什么作用？（key的内部原理）</span></span><br><span class="line"><span class="comment">						</span></span><br><span class="line"><span class="comment">						1. 虚拟DOM中key的作用：</span></span><br><span class="line"><span class="comment">										key是虚拟DOM对象的标识，当数据发生变化时，Vue会根据【新数据】生成【新的虚拟DOM】, </span></span><br><span class="line"><span class="comment">										随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下：</span></span><br><span class="line"><span class="comment">										</span></span><br><span class="line"><span class="comment">						2.对比规则：</span></span><br><span class="line"><span class="comment">									(1).旧虚拟DOM中找到了与新虚拟DOM相同的key：</span></span><br><span class="line"><span class="comment">												①.若虚拟DOM中内容没变, 直接使用之前的真实DOM！</span></span><br><span class="line"><span class="comment">												②.若虚拟DOM中内容变了, 则生成新的真实DOM，随后替换掉页面中之前的真实DOM。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">									(2).旧虚拟DOM中未找到与新虚拟DOM相同的key</span></span><br><span class="line"><span class="comment">												创建新的真实DOM，随后渲染到到页面。</span></span><br><span class="line"><span class="comment">												</span></span><br><span class="line"><span class="comment">						3. 用index作为key可能会引发的问题：</span></span><br><span class="line"><span class="comment">											1. 若对数据进行：逆序添加、逆序删除等破坏顺序操作:</span></span><br><span class="line"><span class="comment">															会产生没有必要的真实DOM更新 ==&gt; 界面效果没问题, 但效率低。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">											2. 如果结构中还包含输入类的DOM：</span></span><br><span class="line"><span class="comment">															会产生错误DOM更新 ==&gt; 界面有问题。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">						4. 开发中如何选择key?:</span></span><br><span class="line"><span class="comment">											1.最好使用每条数据的唯一标识作为key, 比如id、手机号、身份证号、学号等唯一值。</span></span><br><span class="line"><span class="comment">											2.如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，</span></span><br><span class="line"><span class="comment">												使用index作为key是没有问题的。</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- 遍历数组 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员列表（遍历数组）<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.once</span>=<span class="string">&quot;add&quot;</span>&gt;</span>添加一个老刘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,index) of persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">					&#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;</span><br><span class="line">					<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">			<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">			</span></span><br><span class="line"><span class="language-javascript">			<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">persons</span>:[</span></span><br><span class="line"><span class="language-javascript">						&#123;<span class="attr">id</span>:<span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">						&#123;<span class="attr">id</span>:<span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;李四&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">						&#123;<span class="attr">id</span>:<span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;王五&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;</span></span><br><span class="line"><span class="language-javascript">					]</span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">add</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">						<span class="keyword">const</span> p = &#123;<span class="attr">id</span>:<span class="string">&#x27;004&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;老刘&#x27;</span>,<span class="attr">age</span>:<span class="number">40</span>&#125;</span></span><br><span class="line"><span class="language-javascript">						<span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">unshift</span>(p)</span></span><br><span class="line"><span class="language-javascript">					&#125;</span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">			&#125;)</span></span><br><span class="line"><span class="language-javascript">		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="其他指令"><a href="#其他指令" class="headerlink" title="其他指令"></a>其他指令</h4><h5 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h5><p>这个指令是防止js文件没有加载完，然后浏览器页面出现一些用户不想看到的页面</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>v-cloak指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            	让有v-cloak指令的标签全不显示</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            	等js全部加载完，vue对象创建后就会自动删除标签里面的v-cloak指令</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            */</span></span></span><br><span class="line"><span class="language-css">			<span class="selector-attr">[v-cloak]</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">display</span>:none;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">		</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">				v-cloak指令（没有值）：</span></span><br><span class="line"><span class="comment">						1.本质是一个特殊属性，Vue实例创建完毕并接管容器后，会删掉v-cloak属性。</span></span><br><span class="line"><span class="comment">						2.使用css配合v-cloak可以解决网速慢时页面展示出&#123;&#123;xxx&#125;&#125;的问题。</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-cloak</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://localhost:8080/resource/5s/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">		<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//阻止 vue 在启动时生成生产提示。</span></span></span><br><span class="line"><span class="language-javascript">		</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h5><p>当我们有需求，只渲染初始时候的数据，后面数据不管怎么变，前端页面都不会变的需求可以用这个指令</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>v-once指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">			v-once指令：</span></span><br><span class="line"><span class="comment">						1.v-once所在节点在初次动态渲染后，就视为静态内容了。</span></span><br><span class="line"><span class="comment">						2.以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能。</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-once</span>&gt;</span>初始化的n值是:&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前的n值是:&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//阻止 vue 在启动时生成生产提示。</span></span></span><br><span class="line"><span class="language-javascript">		</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">n</span>:<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="v-pre"><a href="#v-pre" class="headerlink" title="v-pre"></a>v-pre</h5><p>这个玩意可以提升vue编译的性能（因为跳过这个节点vue对他不解析了）。但是最好不要用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">		&lt;title&gt;v-pre指令&lt;/title&gt;</span><br><span class="line">		&lt;!-- 引入Vue --&gt;</span><br><span class="line">		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;!-- </span><br><span class="line">			v-pre指令：</span><br><span class="line">					1.跳过其所在节点的编译过程。</span><br><span class="line">					2.可利用它跳过：没有使用指令语法、没有使用插值语法的节点，会加快编译。</span><br><span class="line">		--&gt;</span><br><span class="line">		&lt;!-- 准备好一个容器--&gt;</span><br><span class="line">		&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">			&lt;h2 v-pre&gt;Vue其实很简单&lt;/h2&gt;</span><br><span class="line">			&lt;h2 &gt;当前的n值是:&#123;&#123;n&#125;&#125;&lt;/h2&gt;</span><br><span class="line">			&lt;button @click=&quot;n++&quot;&gt;点我n+1&lt;/button&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。</span><br><span class="line"></span><br><span class="line">		new Vue(&#123;</span><br><span class="line">			el:&#x27;#root&#x27;,</span><br><span class="line">			data:&#123;</span><br><span class="line">				n:1</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;)</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h4 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>自定义指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">				需求1：定义一个v-big指令，和v-text功能类似，但会把绑定的数值放大10倍。</span></span><br><span class="line"><span class="comment">				需求2：定义一个v-fbind指令，和v-bind功能类似，但可以让其所绑定的input元素默认获取焦点。</span></span><br><span class="line"><span class="comment">				自定义指令总结：</span></span><br><span class="line"><span class="comment">						一、定义语法：</span></span><br><span class="line"><span class="comment">									(1).局部指令：</span></span><br><span class="line"><span class="comment">												new Vue(&#123;															new Vue(&#123;</span></span><br><span class="line"><span class="comment">													directives:&#123;指令名:配置对象&#125;   或   		directives&#123;指令名:回调函数&#125;</span></span><br><span class="line"><span class="comment">												&#125;) 																		&#125;)</span></span><br><span class="line"><span class="comment">									(2).全局指令：</span></span><br><span class="line"><span class="comment">													Vue.directive(指令名,配置对象) 或   Vue.directive(指令名,回调函数)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">						二、配置对象中常用的3个回调：</span></span><br><span class="line"><span class="comment">									(1).bind：指令与元素成功绑定时调用。</span></span><br><span class="line"><span class="comment">									(2).inserted：指令所在元素被插入页面时调用。</span></span><br><span class="line"><span class="comment">									(3).update：指令所在模板结构被重新解析时调用。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">						三、备注：</span></span><br><span class="line"><span class="comment">									1.指令定义时不加v-，但使用时要加v-；</span></span><br><span class="line"><span class="comment">									2.指令名如果是多个单词，要使用kebab-case命名方式，不要用camelCase命名。</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前的n值是：<span class="tag">&lt;<span class="name">span</span> <span class="attr">v-text</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- &lt;h2&gt;放大10倍后的n值是：&lt;span v-big-number=&quot;n&quot;&gt;&lt;/span&gt; &lt;/h2&gt; --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h2</span>&gt;</span>放大10倍后的n值是：<span class="tag">&lt;<span class="name">span</span> <span class="attr">v-big</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-fbind:value</span>=<span class="string">&quot;n&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="comment">//定义全局指令</span></span></span><br><span class="line"><span class="language-javascript">		<span class="comment">/* Vue.directive(&#x27;fbind&#x27;,&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">			//指令与元素成功绑定时（一上来）</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">			bind(element,binding)&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">				element.value = binding.value</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">			&#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">			//指令所在元素被插入页面时</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">			inserted(element,binding)&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">				element.focus()</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">			&#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">			//指令所在的模板被重新解析时</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">			update(element,binding)&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">				element.value = binding.value</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">			&#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">		&#125;) */</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">n</span>:<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">directives</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="comment">//big函数何时会被调用？1.指令与元素成功绑定时（一上来）。2.指令所在的模板被重新解析时。</span></span></span><br><span class="line"><span class="language-javascript">				<span class="comment">/* &#x27;big-number&#x27;(element,binding)&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">					// console.log(&#x27;big&#x27;)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">					element.innerText = binding.value * 10</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">				&#125;, */</span></span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">big</span>(<span class="params">element,binding</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;big&#x27;</span>,<span class="variable language_">this</span>) <span class="comment">//注意此处的this是window,这里需要注意别取错了</span></span></span><br><span class="line"><span class="language-javascript">					<span class="comment">// console.log(&#x27;big&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">					element.<span class="property">innerText</span> = binding.<span class="property">value</span> * <span class="number">10</span></span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">fbind</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="comment">//指令与元素成功绑定时（一上来）</span></span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">bind</span>(<span class="params">element,binding</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">						element.<span class="property">value</span> = binding.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">					&#125;,</span></span><br><span class="line"><span class="language-javascript">					<span class="comment">//指令所在元素被插入页面时</span></span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">inserted</span>(<span class="params">element,binding</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">						element.<span class="title function_">focus</span>()</span></span><br><span class="line"><span class="language-javascript">					&#125;,</span></span><br><span class="line"><span class="language-javascript">					<span class="comment">//指令所在的模板被重新解析时</span></span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">update</span>(<span class="params">element,binding</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">						element.<span class="property">value</span> = binding.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">					&#125;</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript">		</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="vue中的数据检测"><a href="#vue中的数据检测" class="headerlink" title="vue中的数据检测"></a>vue中的数据检测</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>总结数据监视<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">			<span class="selector-tag">button</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">margin-top</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">		</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">			Vue监视数据的原理：</span></span><br><span class="line"><span class="comment">				1. vue会监视data中所有层次的数据。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">				2. 如何监测对象中的数据？</span></span><br><span class="line"><span class="comment">								通过setter实现监视，且要在new Vue时就传入要监测的数据。</span></span><br><span class="line"><span class="comment">									(1).对象中后追加的属性，Vue默认不做响应式处理</span></span><br><span class="line"><span class="comment">									(2).如需给后添加的属性做响应式，请使用如下API：</span></span><br><span class="line"><span class="comment">													Vue.set(target，propertyName/index，value) 或 </span></span><br><span class="line"><span class="comment">													vm.$set(target，propertyName/index，value)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">				3. 如何监测数组中的数据？</span></span><br><span class="line"><span class="comment">									通过包裹数组更新元素的方法实现，本质就是做了两件事：</span></span><br><span class="line"><span class="comment">										(1).调用原生对应的方法对数组进行更新。</span></span><br><span class="line"><span class="comment">										(2).重新解析模板，进而更新页面。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">				4.在Vue修改数组中的某个元素一定要用如下方法：</span></span><br><span class="line"><span class="comment">							1.使用这些API:push()、pop()、shift()、unshift()、splice()、sort()、reverse()</span></span><br><span class="line"><span class="comment">							2.Vue.set() 或 vm.$set()</span></span><br><span class="line"><span class="comment">				</span></span><br><span class="line"><span class="comment">				特别注意：Vue.set() 和 vm.$set() 不能给vm 或 vm的根数据对象 添加属性！！！</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h1</span>&gt;</span>学生信息<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;student.age++&quot;</span>&gt;</span>年龄+1岁<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addSex&quot;</span>&gt;</span>添加性别属性，默认值：男<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;student.sex = &#x27;未知&#x27; &quot;</span>&gt;</span>修改性别<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addFriend&quot;</span>&gt;</span>在列表首位添加一个朋友<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateFirstFriendName&quot;</span>&gt;</span>修改第一个朋友的名字为：张三<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addHobby&quot;</span>&gt;</span>添加一个爱好<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateHobby&quot;</span>&gt;</span>修改第一个爱好为：开车<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;removeSmoke&quot;</span>&gt;</span>过滤掉爱好中的抽烟<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h3</span>&gt;</span>姓名：&#123;&#123;student.name&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h3</span>&gt;</span>年龄：&#123;&#123;student.age&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-if</span>=<span class="string">&quot;student.sex&quot;</span>&gt;</span>性别：&#123;&#123;student.sex&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h3</span>&gt;</span>爱好：<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(h,index) in student.hobby&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">					&#123;&#123;h&#125;&#125;</span><br><span class="line">				<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">h3</span>&gt;</span>朋友们：<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(f,index) in student.friends&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">					&#123;&#123;f.name&#125;&#125;--&#123;&#123;f.age&#125;&#125;</span><br><span class="line">				<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//阻止 vue 在启动时生成生产提示。</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">student</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">name</span>:<span class="string">&#x27;tom&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">age</span>:<span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">hobby</span>:[<span class="string">&#x27;抽烟&#x27;</span>,<span class="string">&#x27;喝酒&#x27;</span>,<span class="string">&#x27;烫头&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">friends</span>:[</span></span><br><span class="line"><span class="language-javascript">						&#123;<span class="attr">name</span>:<span class="string">&#x27;jerry&#x27;</span>,<span class="attr">age</span>:<span class="number">35</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">						&#123;<span class="attr">name</span>:<span class="string">&#x27;tony&#x27;</span>,<span class="attr">age</span>:<span class="number">36</span>&#125;</span></span><br><span class="line"><span class="language-javascript">					]</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">addSex</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="comment">// Vue.set(this.student,&#x27;sex&#x27;,&#x27;男&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">student</span>,<span class="string">&#x27;sex&#x27;</span>,<span class="string">&#x27;男&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">addFriend</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">friends</span>.<span class="title function_">unshift</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;jack&#x27;</span>,<span class="attr">age</span>:<span class="number">70</span>&#125;)</span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">updateFirstFriendName</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">friends</span>[<span class="number">0</span>].<span class="property">name</span> = <span class="string">&#x27;张三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">addHobby</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>.<span class="title function_">push</span>(<span class="string">&#x27;学习&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">updateHobby</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="comment">// this.student.hobby.splice(0,1,&#x27;开车&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">					<span class="comment">// Vue.set(this.student.hobby,0,&#x27;开车&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>,<span class="number">0</span>,<span class="string">&#x27;开车&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">removeSmoke</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span> = <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">h</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">						<span class="keyword">return</span> h !== <span class="string">&#x27;抽烟&#x27;</span></span></span><br><span class="line"><span class="language-javascript">					&#125;)</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="vue动态绑定样式"><a href="#vue动态绑定样式" class="headerlink" title="vue动态绑定样式"></a>vue动态绑定样式</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>绑定样式<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">			<span class="selector-class">.basic</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">			</span></span><br><span class="line"><span class="language-css">			<span class="selector-class">.happy</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">border</span>: <span class="number">4px</span> solid red;;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0.644</span>);</span></span><br><span class="line"><span class="language-css">				<span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">30deg</span>,yellow,pink,orange,yellow);</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">			<span class="selector-class">.sad</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">border</span>: <span class="number">4px</span> dashed <span class="built_in">rgb</span>(<span class="number">2</span>, <span class="number">197</span>, <span class="number">2</span>);</span></span><br><span class="line"><span class="language-css">				<span class="attribute">background-color</span>: gray;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">			<span class="selector-class">.normal</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">			<span class="selector-class">.atguigu1</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">background-color</span>: yellowgreen;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">			<span class="selector-class">.atguigu2</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">font-size</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">text-shadow</span>:<span class="number">2px</span> <span class="number">2px</span> <span class="number">10px</span> red;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">			<span class="selector-class">.atguigu3</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">border-radius</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">		</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">			绑定样式：</span></span><br><span class="line"><span class="comment">					1. class样式</span></span><br><span class="line"><span class="comment">								写法:class=&quot;xxx&quot; xxx可以是字符串、对象、数组。</span></span><br><span class="line"><span class="comment">										字符串写法适用于：类名不确定，要动态获取。</span></span><br><span class="line"><span class="comment">										对象写法适用于：要绑定多个样式，个数不确定，名字也不确定。</span></span><br><span class="line"><span class="comment">										数组写法适用于：要绑定多个样式，个数确定，名字也确定，但不确定用不用。</span></span><br><span class="line"><span class="comment">					2. style样式</span></span><br><span class="line"><span class="comment">								:style=&quot;&#123;fontSize: xxx&#125;&quot;其中xxx是动态值。</span></span><br><span class="line"><span class="comment">								:style=&quot;[a,b]&quot;其中a、b是样式对象。</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- 绑定class样式--字符串写法，适用于：样式的类名不确定，需要动态指定 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;mood&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;changeMood&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">&lt;!-- 绑定class样式--数组写法，适用于：要绑定的样式个数不确定、名字也不确定 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;classArr&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">&lt;!-- 绑定class样式--对象写法，适用于：要绑定的样式个数确定、名字也确定，但要动态决定用不用 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;classObj&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">&lt;!-- 绑定style样式--对象写法 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;styleObj&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- 绑定style样式--数组写法 --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;styleArr&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">		</span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">mood</span>:<span class="string">&#x27;normal&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">classArr</span>:[<span class="string">&#x27;atguigu1&#x27;</span>,<span class="string">&#x27;atguigu2&#x27;</span>,<span class="string">&#x27;atguigu3&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">classObj</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">atguigu1</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">atguigu2</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">styleObj</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">fontSize</span>: <span class="string">&#x27;40px&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">styleObj2</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">backgroundColor</span>:<span class="string">&#x27;orange&#x27;</span></span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">styleArr</span>:[</span></span><br><span class="line"><span class="language-javascript">					&#123;</span></span><br><span class="line"><span class="language-javascript">						<span class="attr">fontSize</span>: <span class="string">&#x27;40px&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">						<span class="attr">color</span>:<span class="string">&#x27;blue&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">					&#125;,</span></span><br><span class="line"><span class="language-javascript">					&#123;</span></span><br><span class="line"><span class="language-javascript">						<span class="attr">backgroundColor</span>:<span class="string">&#x27;gray&#x27;</span></span></span><br><span class="line"><span class="language-javascript">					&#125;</span></span><br><span class="line"><span class="language-javascript">				]</span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">changeMood</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">const</span> arr = [<span class="string">&#x27;happy&#x27;</span>,<span class="string">&#x27;sad&#x27;</span>,<span class="string">&#x27;normal&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">const</span> index = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">3</span>)</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">this</span>.<span class="property">mood</span> = arr[index]</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	</span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h3><h4 id="过滤器的使用"><a href="#过滤器的使用" class="headerlink" title="过滤器的使用"></a>过滤器的使用</h4><p>过滤器（Filters）是 vue 为开发者提供的功能，常用于文本的格式化。过滤器可以用在两个地方：插值表达式和 v-bind 属性绑定。</p>
<p>过滤器应该被添加在 JavaScript 表达式的尾部，由“管道符”进行调用，示例代码如下：</p>
<p>下面的capitalize和formatId都是需要我们自定义的函数，至于格式，往下看</p>
<p><img src="/../pic/image-20230604210211122.png" alt="image-20230604210211122"></p>
<p>示例代码:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>message 的值是：&#123;&#123; message | capi &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">message</span>: <span class="string">&#x27;hello vue.js&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 过滤器函数，必须被定义到 filters 节点之下</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 过滤器本质上是函数</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">filters</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 注意：过滤器函数形参中的 val，永远都是“管道符”前面的那个值</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//这个函数的作用是把首字母变为大写</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">capi</span>(<span class="params">val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// 字符串有 charAt 方法，这个方法接收索引值，表示从字符串中把索引对应的字符，获取出来</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// val.charAt(0)</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> first = val.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>()</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// 字符串的 slice 方法，可以截取字符串，从指定索引往后截取</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> other = val.<span class="title function_">slice</span>(<span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// 强调：过滤器中，一定要有一个返回值</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> first + other</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><img src="/../pic/image-20230604210142081.png" alt="image-20230604210142081"></p>
<h4 id="私有过滤器和全局过滤器"><a href="#私有过滤器和全局过滤器" class="headerlink" title="私有过滤器和全局过滤器"></a>私有过滤器和全局过滤器</h4><p>在 filters 节点下定义的过滤器，也就是上面我们自己定义的过滤器，称为“私有过滤器”，因为它只能在当前vm 实例所控制的el 区域内使用。如果希望在多个vue 实例之间共享过滤器，则可以按照如下的格式定义全局过滤器：</p>
<p><img src="/../pic/image-20230604211240514.png" alt="image-20230604211240514"></p>
<p>示例代码：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>message 的值是：&#123;&#123; message | capi &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>message 的值是：&#123;&#123; message | capi &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 使用 Vue.filter() 定义全局过滤器</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//如果全局过滤器和私有过滤器名字一致，此时就按照就近原则，调用的是私有过滤器</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;capi&#x27;</span>, <span class="keyword">function</span> (<span class="params">str</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> first = str.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>()</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> other = str.<span class="title function_">slice</span>(<span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> first + other + <span class="string">&#x27;~~~&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">message</span>: <span class="string">&#x27;hello vue.js&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">filters</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">capi</span>(<span class="params">val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> first = val.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>()</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> other = val.<span class="title function_">slice</span>(<span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> first + other</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ----------------------------------</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 第二个vue示例，这里没有配置过滤器</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm2 = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">message</span>: <span class="string">&#x27;Haohao&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>运行效果：第一个调用了私有过滤器，第二个调用了全局过滤器</p>
<p><img src="/../pic/image-20230604211343879.png" alt="image-20230604211343879"></p>
<h4 id="连续调用多个过滤器"><a href="#连续调用多个过滤器" class="headerlink" title="连续调用多个过滤器"></a>连续调用多个过滤器</h4><p>过滤器可以串联地进行调用，例如：</p>
<p><img src="/../pic/image-20230604212006257.png" alt="image-20230604212006257"></p>
<h4 id="过滤器传参"><a href="#过滤器传参" class="headerlink" title="过滤器传参"></a>过滤器传参</h4><p>过滤器的本质是 JavaScript 函数，因此可以接收参数，格式如下：</p>
<p><img src="/../pic/image-20230604212021632.png" alt="image-20230604212021632"></p>
<h4 id="过滤器的兼容性"><a href="#过滤器的兼容性" class="headerlink" title="过滤器的兼容性"></a>过滤器的兼容性</h4><p>过滤器仅在vue 2.x 和 1.x 中受支持，在vue 3.x 的版本中剔除了过滤器相关的功能。在企业级项目开发中：</p>
<p>如果使用的是 2.x 版本的 vue，则依然可以使用过滤器相关的功能</p>
<p>如果项目已经升级到了 3.x 版本的vue，官方建议使用计算属性或方法代替被剔除的过滤器功能</p>
<p>具体的迁移指南，请参考vue 3.x 的官方文档给出的说明：<a target="_blank" rel="noopener" href="https://v3.vuejs.org/guide/migration/filters.html#migration-strategy">https://v3.vuejs.org/guide/migration/filters.html#migration-strategy</a></p>
<h3 id="watch-侦听器"><a href="#watch-侦听器" class="headerlink" title="watch 侦听器"></a>watch 侦听器</h3><h4 id="什么是-watch-侦听器"><a href="#什么是-watch-侦听器" class="headerlink" title="什么是 watch 侦听器"></a>什么是 watch 侦听器</h4><p>侦听器watch 侦听器允许开发者监视数据的变化，从而针对数据的变化做特定的操作。语法格式如下：</p>
<p><img src="/../pic/image-20230604213907766.png" alt="image-20230604213907766"></p>
<p>举例：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">username</span>: <span class="string">&#x27;admin&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 所有的侦听器，都应该被定义到 watch 节点下</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 侦听器本质上是一个函数，要监视哪个数据的变化，就把数据名作为方法名即可</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 新值在前，旧值在后</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">username</span>(<span class="params">newVal,oldVal</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;检测到了数值的变化&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`output-&gt;newVal`</span>,newVal)</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`output-&gt;oldVal`</span>,oldVal)    </span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>实现效果：</p>
<p><img src="/../pic/%E5%8A%A8%E7%94%BB-1685886067279110.gif" alt="动画"></p>
<h4 id="监听器的应用场景"><a href="#监听器的应用场景" class="headerlink" title="监听器的应用场景"></a>监听器的应用场景</h4><p>可以用来检测用户名是否被占用，每一次修改都发送一次axios请求去看用户名是否被占用。</p>
<h4 id="immediate-选项"><a href="#immediate-选项" class="headerlink" title="immediate 选项"></a>immediate 选项</h4><p>默认情况下，组件在初次加载完毕后不会调用 watch 侦听器。如果想让 watch 侦听器立即被调用，则需要使用 immediate 选项。示例代码如下：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/jquery-v3.6.0.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">username</span>: <span class="string">&#x27;admin&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 所有的侦听器，都应该被定义到 watch 节点下</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 定义对象格式的侦听器</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">username</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 侦听器的处理函数</span></span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">handler</span>(<span class="params">newVal, oldVal</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal, oldVal)</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// immediate 选项的默认值是 false</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// immediate 的作用是：控制侦听器是否自动触发一次！</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 如果为真，则说明是进入浏览器默认触发一次handler</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">immediate</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="deep-选项"><a href="#deep-选项" class="headerlink" title="deep 选项"></a>deep 选项</h4><p>如果 watch 侦听的是一个对象，如果对象中的属性值发生了变化，则无法被监听到。此时需要使用 deep 选项，代码示例如下：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;info.username&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;info.address.city&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/jquery-v3.6.0.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 用户的信息对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">info</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">username</span>: <span class="string">&#x27;admin&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">address</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">city</span>: <span class="string">&#x27;北京&#x27;</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 所有的侦听器，都应该被定义到 watch 节点下</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">info</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">handler</span>(<span class="params">newVal</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal)</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 开启深度监听，只要对象中任何一个属性变化了，都会触发“对象的侦听器”</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">deep</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="监听对象单个属性的变化"><a href="#监听对象单个属性的变化" class="headerlink" title="监听对象单个属性的变化"></a>监听对象单个属性的变化</h4><p>如果只想监听对象中单个属性的变化，则可以按照如下的方式定义 watch 侦听器：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;info.username&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;info.address.city&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/jquery-v3.6.0.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 用户的信息对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">info</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">username</span>: <span class="string">&#x27;admin&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">address</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">city</span>: <span class="string">&#x27;北京&#x27;</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 如果要侦听的是对象的子属性（只监听这一个的）的变化，则必须包裹一层单引号</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 这里只监听了info对象的username属性</span></span></span><br><span class="line"><span class="language-javascript">        <span class="string">&#x27;info.username&#x27;</span>(newVal) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="对象监听器和方法监听器的区别"><a href="#对象监听器和方法监听器的区别" class="headerlink" title="对象监听器和方法监听器的区别"></a>对象监听器和方法监听器的区别</h4><ol>
<li>方法格式的侦听器<ul>
<li>缺点1：无法在刚进入页面的时候，自动触发！！！</li>
<li>缺点2：如果侦听的是一个对象，如果对象中的属性发生了变化，不会触发侦听器！！！</li>
<li>好处1：定义简单，使用简单。。。</li>
</ul>
</li>
<li>对象格式的侦听器<ul>
<li>好处1：可以通过 <strong>immediate</strong> 选项，让侦听器自动触发！！！</li>
<li>好处2：可以通过 <strong>deep</strong> 选项，让侦听器深度监听对象中每个属性的变化！！！</li>
</ul>
</li>
</ol>
<h3 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h3><h4 id="什么是计算属性"><a href="#什么是计算属性" class="headerlink" title="什么是计算属性"></a>什么是计算属性</h4><p>计算属性指的是通过一系列运算之后，最终得到一个属性值。</p>
<p>这个动态计算出来的属性值可以被模板结构或methods 方法使用。</p>
<p>计算属性也是属性，计算属性的返回值也会成为data的一部分，不过和data又有一些不一样，下面的computed方法里面的就是计算属性，计算属性会以：方法名为key,返回值为value挂载到Vue对象(vm)身上。访问这个属性也是通过this.方法名，就可以访问到这个属性了，这个就是计算属性。</p>
<p>下面是三种语法实现计算姓名拼接的功能，注意区别：！！</p>
<h5 id="插值语法实现"><a href="#插值语法实现" class="headerlink" title="插值语法实现"></a>插值语法实现</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_插值语法实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			全名：<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;firstName&#125;&#125;-&#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//阻止 vue 在启动时生成生产提示。</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">firstName</span>:<span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">lastName</span>:<span class="string">&#x27;三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="methods实现"><a href="#methods实现" class="headerlink" title="methods实现"></a>methods实现</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_methods实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			全名：<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName()&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//阻止 vue 在启动时生成生产提示。</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">firstName</span>:<span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">lastName</span>:<span class="string">&#x27;三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">fullName</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;@---fullName&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="计算属性实现"><a href="#计算属性实现" class="headerlink" title="计算属性实现"></a>计算属性实现</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_计算属性实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">			计算属性：</span></span><br><span class="line"><span class="comment">					1.定义：要用的属性不存在，要通过已有属性计算得来。</span></span><br><span class="line"><span class="comment">					2.原理：底层借助了Objcet.defineproperty方法提供的getter和setter。</span></span><br><span class="line"><span class="comment">					3.get函数什么时候执行？</span></span><br><span class="line"><span class="comment">								(1).初次读取时会执行一次。</span></span><br><span class="line"><span class="comment">								(2).当依赖的数据发生改变时会被再次调用。</span></span><br><span class="line"><span class="comment">					4.优势：与methods实现相比，内部有缓存机制（复用），效率更高，调试方便。</span></span><br><span class="line"><span class="comment">					5.备注：</span></span><br><span class="line"><span class="comment">							1.计算属性最终会出现在vm上，直接读取使用即可。</span></span><br><span class="line"><span class="comment">							2.如果计算属性要被修改，那必须写set函数去响应修改，且set中要引起计算时依赖的数据发生改变。</span></span><br><span class="line"><span class="comment">		 --&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			测试：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;x&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			全名：<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- 全名：&lt;span&gt;&#123;&#123;fullName&#125;&#125;&lt;/span&gt; &lt;br/&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="comment">			全名：&lt;span&gt;&#123;&#123;fullName&#125;&#125;&lt;/span&gt; &lt;br/&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="comment">			全名：&lt;span&gt;&#123;&#123;fullName&#125;&#125;&lt;/span&gt; --&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//阻止 vue 在启动时生成生产提示。</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">firstName</span>:<span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">lastName</span>:<span class="string">&#x27;三&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">x</span>:<span class="string">&#x27;你好&#x27;</span></span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">demo</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">fullName</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="comment">//get有什么作用？当有人读取fullName时，get就会被调用，且返回值就作为fullName的值</span></span></span><br><span class="line"><span class="language-javascript">					<span class="comment">//get什么时候调用？1.初次读取fullName时。2.所依赖的数据发生变化时。</span></span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">get</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">						<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get被调用了&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">						<span class="comment">// console.log(this) //此处的this是vm</span></span></span><br><span class="line"><span class="language-javascript">						<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">					&#125;,</span></span><br><span class="line"><span class="language-javascript">					<span class="comment">//set什么时候调用? 当fullName被修改时。</span></span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">set</span>(<span class="params">value</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">						<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;set&#x27;</span>,value)</span></span><br><span class="line"><span class="language-javascript">						<span class="keyword">const</span> arr = value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">						<span class="variable language_">this</span>.<span class="property">firstName</span> = arr[<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">						<span class="variable language_">this</span>.<span class="property">lastName</span> = arr[<span class="number">1</span>]</span></span><br><span class="line"><span class="language-javascript">					&#125;</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="监听器实现"><a href="#监听器实现" class="headerlink" title="监听器实现"></a>监听器实现</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_watch实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">				computed和watch之间的区别：</span></span><br><span class="line"><span class="comment">                    1.computed能完成的功能，watch都可以完成。</span></span><br><span class="line"><span class="comment">                    2.watch能完成的功能，computed不一定能完成，例如：watch可以进行异步操作。</span></span><br><span class="line"><span class="comment">				两个重要的小原则：</span></span><br><span class="line"><span class="comment">                    1.所被Vue管理的函数，最好写成普通函数，这样this的指向才是vm 或 组件实例对象。</span></span><br><span class="line"><span class="comment">                    2.所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数等、Promise的回调函数），最好写成箭头函数，</span></span><br><span class="line"><span class="comment">								这样this的指向才是vm 或 组件实例对象。</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			全名：<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//阻止 vue 在启动时生成生产提示。</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">firstName</span>:<span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">lastName</span>:<span class="string">&#x27;三&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">				<span class="attr">fullName</span>:<span class="string">&#x27;张-三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">watch</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">firstName</span>(<span class="params">val</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">						<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span></span><br><span class="line"><span class="language-javascript">						<span class="variable language_">this</span>.<span class="property">fullName</span> = val + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">					&#125;,<span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">				&#125;,</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">lastName</span>(<span class="params">val</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">this</span>.<span class="property">fullName</span> = <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + val</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>







<h4 id="计算属性简写"><a href="#计算属性简写" class="headerlink" title="计算属性简写"></a>计算属性简写</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_计算属性实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">		姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">		名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">		全名：<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">	<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//阻止 vue 在启动时生成生产提示。</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">	<span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">		<span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">		<span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">firstName</span>: <span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">lastName</span>: <span class="string">&#x27;三&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">		&#125;,</span></span><br><span class="line"><span class="language-javascript">		<span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="comment">//完整写法</span></span></span><br><span class="line"><span class="language-javascript">			<span class="comment">/* fullName:&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">				get()&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">					console.log(&#x27;get被调用了&#x27;)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">					return this.firstName + &#x27;-&#x27; + this.lastName</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">				&#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">				set(value)&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">					console.log(&#x27;set&#x27;,value)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">					const arr = value.split(&#x27;-&#x27;)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">					this.firstName = arr[0]</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">					this.lastName = arr[1]</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">				&#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">			&#125; */</span></span></span><br><span class="line"><span class="language-javascript">			<span class="comment">//简写</span></span></span><br><span class="line"><span class="language-javascript">			<span class="comment">//这个函数就当那个getter使用</span></span></span><br><span class="line"><span class="language-javascript">			<span class="comment">//只有考虑读取，不考虑修改的情况下才能使用简写形式 </span></span></span><br><span class="line"><span class="language-javascript">			<span class="title function_">fullName</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get被调用了&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;</span></span><br><span class="line"><span class="language-javascript">	&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="计算属性的特点"><a href="#计算属性的特点" class="headerlink" title="计算属性的特点"></a>计算属性的特点</h4><p>①  虽然计算属性在声明的时候被定义为方法，但是计算属性的本质是一个属性</p>
<p>②  计算属性会缓存计算的结果，只有计算属性依赖的数据变化时，才会重新进行运算</p>
<h4 id="利用计算属性编写小案例"><a href="#利用计算属性编写小案例" class="headerlink" title="利用计算属性编写小案例"></a>利用计算属性编写小案例</h4><p>示例代码如下：</p>
<p><a target="_blank" rel="noopener" href="https://xiaobaicai350.github.io/pic/image-20230604222130917.png"><img src="/../pic/image-20230604222130917-16863740065381.png" alt="image-20230604222130917"></a></p>
<p>案例代码：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>R：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;r&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>G：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;g&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>B：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;b&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 专门用户呈现颜色的 div 盒子 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 在属性身上，: 代表  v-bind: 属性绑定 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 这里的style里面写的是一个js对象，里面是backgroundColor为key，后面的为值 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; backgroundColor: `rgb($&#123;r&#125;, $&#123;g&#125;, $&#123;b&#125;)` &#125;&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 这里面写的是js表达式，也就是说可以用js的语法 --&gt;</span></span><br><span class="line">      &#123;&#123; `rgb($&#123;r&#125;, $&#123;g&#125;, $&#123;b&#125;)` &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;show&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 创建 Vue 实例，得到 ViewModel</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 红色</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">r</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 绿色</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">g</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 蓝色</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">b</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 点击按钮，在终端显示最新的颜色</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">show</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`rgb(<span class="subst">$&#123;<span class="variable language_">this</span>.r&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.g&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.b&#125;</span>)`</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>实现效果：</p>
<p><a target="_blank" rel="noopener" href="https://xiaobaicai350.github.io/pic/%E5%8A%A8%E7%94%BB-1685888450312112.gif"><img src="/../pic/%E5%8A%A8%E7%94%BB-1685888450312112-16863740065383.gif" alt="动画"></a></p>
<p>需求：使用计算属性改造案例，不改变原有的效果。</p>
<p>改造后的代码：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>R：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;r&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>G：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;g&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>B：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;b&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 专门用户呈现颜色的 div 盒子 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 在属性身上，: 代表  v-bind: 属性绑定 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- :style 代表动态绑定一个样式对象，它的值是一个 &#123;  &#125; 样式对象 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 当前的样式对象中，只包含 backgroundColor 背景颜色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; backgroundColor: rgb &#125;&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; rgb &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;show&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 创建 Vue 实例，得到 ViewModel</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 红色</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">r</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 绿色</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">g</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 蓝色</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">b</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 点击按钮，在终端显示最新的颜色</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">show</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">rgb</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 所有的计算属性，都要定义到 computed 节点之下</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 计算属性在定义的时候，要定义成“方法格式”</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// rgb 作为一个计算属性，被定义成了方法格式，</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 最终，在这个方法中，要返回一个生成好的 rgb(x,x,x) 的字符串</span></span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 这个返回的字符串，会默认的成为Vue对象身上的一个属性  </span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 比如说你方法名为rgb 返回值为rgb(0,0,0) 那Vue对象就会有一个属性叫rgb，值为rgb(0,0,0)</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">rgb</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="string">`rgb(<span class="subst">$&#123;<span class="variable language_">this</span>.r&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.g&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.b&#125;</span>)`</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(vm)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h2 id="Vue-Cli"><a href="#Vue-Cli" class="headerlink" title="Vue-Cli"></a>Vue-Cli</h2><h3 id="单页面应用程序"><a href="#单页面应用程序" class="headerlink" title="单页面应用程序"></a>单页面应用程序</h3><h4 id="什么是单页面应用程序"><a href="#什么是单页面应用程序" class="headerlink" title="什么是单页面应用程序"></a>什么是单页面应用程序</h4><p>单页面应用程序（英文名：Single Page Application）简称 SPA，顾名思义，指的是一个Web 网站中只有唯一的一个HTML 页面，所有的功能与交互都在这唯一的一个页面内完成。</p>
<p>例如资料中的这个Demo 项目：</p>
<p><img src="/../pic/image-20230605200549708.png" alt="image-20230605200549708"></p>
<p>以下页面的功能，都是基于一个html页面实现的：</p>
<p><img src="/../pic/image-20230605200610373.png" alt="image-20230605200610373"></p>
<h4 id="什么是-vue-cli"><a href="#什么是-vue-cli" class="headerlink" title="什么是 vue-cli"></a>什么是 vue-cli</h4><p>vue-cli 是 Vue.js 开发的标准工具。它简化了程序员基于webpack 创建工程化的 Vue 项目的过程。</p>
<p>引用自 vue-cli 官网上的一句话：程序员可以专注在撰写应用上，而不必花好几天去纠结 webpack 配置的问题。</p>
<p>中文官网：<a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/">https://cli.vuejs.org/zh/</a></p>
<h4 id="安装和使用"><a href="#安装和使用" class="headerlink" title="安装和使用"></a>安装和使用</h4><p>vue-cli 是 npm 上的一个全局包，使用 npm install 命令，即可方便的把它安装到自己的电脑上：</p>
<p><code>npm install -g @vue/cli</code></p>
<p>基于 vue-cli 快速生成工程化的 Vue 项目：</p>
<p><code>vue create 项目的名称</code>(项目名称尽量中文)</p>
<ol>
<li><img src="/../pic/image-20230605200759730.png" alt="image-20230605200759730"></li>
<li><img src="/../pic/image-20230605200805903.png" alt="image-20230605200805903"></li>
<li><img src="/../pic/image-20230605200810788.png" alt="image-20230605200810788"></li>
<li><img src="/../pic/image-20230605200816133.png" alt="image-20230605200816133"></li>
<li><img src="/../pic/image-20230605200822105.png" alt="image-20230605200822105"></li>
<li><img src="/../pic/image-20230605200828476.png" alt="image-20230605200828476"></li>
<li><img src="/../pic/image-20230605200835267.png" alt="image-20230605200835267"></li>
</ol>
<h4 id="vue-项目的运行流程"><a href="#vue-项目的运行流程" class="headerlink" title="vue 项目的运行流程"></a>vue 项目的运行流程</h4><p>在工程化的项目中，vue 要做的事情很单纯：通过main.js 把 App.vue 渲染到index.html 的指定区域中。其中：</p>
<p>①	App.vue 用来编写待渲染的模板结构</p>
<p>②	index.html 中需要预留一个el 区域</p>
<p>③	main.js 把 App.vue 渲染到了index.html 所预留的区域中</p>
<p><img src="/../pic/image-20230605200915607.png" alt="image-20230605200915607"></p>
<p>此外，关于el挂载点，还有一种书写方式，名叫：<code>$mount(&#39;&#39;)</code></p>
<p><img src="/../pic/image-20230605200943820.png" alt="image-20230605200943820"> </p>
<p>对于render函数的理解：</p>
<h3 id="脚手架文件结构"><a href="#脚手架文件结构" class="headerlink" title="脚手架文件结构"></a>脚手架文件结构</h3><pre><code>├── node_modules 
├── public
│   ├── favicon.ico: 页签图标
│   └── index.html: 主页面
├── src
│   ├── assets: 存放静态资源
│   │   └── logo.png
│   │── component: 存放组件
│   │   └── HelloWorld.vue
│   │── App.vue: 汇总所有组件
│   │── main.js: 入口文件
├── .gitignore: git版本管制忽略的配置
├── babel.config.js: babel的配置文件
├── package.json: 应用包配置文件 
├── README.md: 应用描述文件
├── package-lock.json：包版本控制文件
</code></pre>
<h3 id="关于不同版本的Vue"><a href="#关于不同版本的Vue" class="headerlink" title="关于不同版本的Vue"></a>关于不同版本的Vue</h3><ol>
<li>vue.js与vue.runtime.xxx.js的区别：<ol>
<li>vue.js是完整版的Vue，包含：核心功能 + 模板解析器。</li>
<li>vue.runtime.xxx.js是运行版的Vue，只包含：核心功能；没有模板解析器。</li>
</ol>
</li>
<li>因为vue.runtime.xxx.js没有模板解析器，所以不能使用template这个配置项，需要使用render函数接收到的createElement函数去指定具体内容。</li>
</ol>
<h3 id="vue-config-js配置文件"><a href="#vue-config-js配置文件" class="headerlink" title="vue.config.js配置文件"></a>vue.config.js配置文件</h3><ol>
<li>使用vue inspect &gt; output.js可以查看到Vue脚手架的默认配置。</li>
<li>使用vue.config.js可以对脚手架进行个性化定制，详情见：<a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh">https://cli.vuejs.org/zh</a></li>
</ol>
<h3 id="vue-组件"><a href="#vue-组件" class="headerlink" title="vue 组件"></a>vue 组件</h3><h4 id="什么是组件化开发"><a href="#什么是组件化开发" class="headerlink" title="什么是组件化开发"></a>什么是组件化开发</h4><p>组件化开发指的是：根据封装的思想，把页面上可重用的UI 结构封装为组件，从而方便项目的开发和维护。</p>
<p>组件（Component）是 Vue.js 最强大的功能之一。</p>
<p>组件可以扩展 HTML 元素，封装可重用的代码。</p>
<p>组件系统让我们可以用独立可复用的小组件来构建大型应用，几乎任意类型的应用的界面都可以抽象为</p>
<p>一个组件树：</p>
<p><img src="/../pic/image-20221002195827590.png" alt="image-20221002195827590"></p>
<h4 id="vue-中的组件化开发"><a href="#vue-中的组件化开发" class="headerlink" title="vue 中的组件化开发"></a>vue 中的组件化开发</h4><p>vue 是一个支持组件化开发的前端框架。</p>
<p>vue 中规定：<strong>组件</strong>的后缀名是 .vue。之前接触到的 App.vue 文件本质上就是一个 vue 的组件。</p>
<h4 id="vue-组件的三个组成部分"><a href="#vue-组件的三个组成部分" class="headerlink" title="vue 组件的三个组成部分"></a>vue 组件的三个组成部分</h4><p>每个 .vue 组件都由 3 部分构成，分别是：</p>
<ul>
<li>template -&gt; 组件的模板结构</li>
<li>script -&gt; 组件的JavaScript 行为</li>
<li>style -&gt; 组件的样式</li>
</ul>
<h5 id="template"><a href="#template" class="headerlink" title="template"></a>template</h5><p>vue 规定：每个组件对应的模板结构，需要定义到<code>&lt;template&gt;</code>节点中。</p>
<p>其中，每个组件中必须包含template 模板结构，而script 行为和style 样式是可选的组成部分。</p>
<p><img src="/../pic/image-20230605202050278.png" alt="image-20230605202050278"></p>
<p>注意：</p>
<p>template 是 vue 提供的容器标签，只起到包裹性质的作用，它不会被渲染为真正的 DOM 元素</p>
<p>template 中只能包含唯一的根节点,也就是说必须在里面先写一个root根标签…</p>
<h5 id="script"><a href="#script" class="headerlink" title="script"></a>script</h5><p>vue 规定：开发者可以在 <code>&lt;script&gt; </code>节点中封装组件的JavaScript 业务逻辑。</p>
<p><code>&lt;script &gt; </code>节点的基本结构如下：</p>
<p><img src="/../pic/image-20230605202215976.png" alt="image-20230605202215976"></p>
<p>文件为.vue为结尾的， 组件中的 data 必须是函数，而不能是对象</p>
<p><img src="/../pic/image-20230609221144667.png" alt="image-20230609221144667"></p>
<p><strong>并且以vue管理的函数，一定不要写箭头函数，要不然会出错，因为箭头函数没有自己的this，框架内部调用会出现错误！！！</strong></p>
<p>vue 规定：.vue 组件中的data 必须是一个函数，不能直接指向一个数据对象。因此在组件中定义data 数据节点时，下面的方式是错误的：</p>
<p><img src="/../pic/image-20230605202255731.png" alt="image-20230605202255731"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//下面的写法是正确的</span></span><br><span class="line"><span class="comment">//组件中的data必须是一个函数</span></span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//在这里定义我们需要的数据</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">username</span>:’admin’</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="style"><a href="#style" class="headerlink" title="style"></a>style</h5><p>vue 规定：组件内的<code>&lt;style&gt;</code>节点是可选的，开发者可以在 <code>&lt;style&gt; </code>节点中编写样式美化当前组件的UI 结构。</p>
<p><code>&lt;script &gt; </code>节点的基本结构如下：</p>
<p><img src="/../pic/image-20230605202410334.png" alt="image-20230605202410334"></p>
<p>让 style 中支持 less 语法</p>
<p>在<code>&lt;style&gt;</code>标签上添加lang&#x3D;”less” 属性，即可使用less 语法编写组件的样式：</p>
<p><img src="/../pic/image-20230605202425510.png" alt="image-20230605202425510"></p>
<h4 id="组件之间的父子关系"><a href="#组件之间的父子关系" class="headerlink" title="组件之间的父子关系"></a>组件之间的父子关系</h4><p><img src="/../pic/image-20230605202519933.png" alt="image-20230605202519933"></p>
<p>组件在被封装好之后，彼此之间是相互独立的，不存在父子关系</p>
<p><img src="/../pic/image-20230605202531907.png" alt="image-20230605202531907"></p>
<p>在使用组件的时候，根据彼此的嵌套关系，形成了父子关系、兄弟关系</p>
<h5 id="使用组件的三个步骤"><a href="#使用组件的三个步骤" class="headerlink" title="使用组件的三个步骤"></a>使用组件的三个步骤</h5><p><img src="/../pic/image-20230605202614219.png" alt="image-20230605202614219"></p>
<p>还有一个例子，下面这个例子是直接把简单的模板写到components对象中了，但是一般我们不这样：</p>
<p><img src="/../pic/image-20221002200115658.png" alt="image-20221002200115658"></p>
<p>定义组件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> new Vue(&#123;</span><br><span class="line">            el: &#x27;#app&#x27;,</span><br><span class="line">            // 定义局部组件，这里可以定义多个局部组件</span><br><span class="line">            components: &#123;</span><br><span class="line">                //组件的名字</span><br><span class="line">                &#x27;haohao&#x27;: &#123;</span><br><span class="line">                    //组件的内容</span><br><span class="line">                    template: &#x27;&lt;ul&gt;&lt;li&gt;首页&lt;/li&gt;&lt;li&gt;学员管理&lt;/li&gt;&lt;/ul&gt;&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>使用组件</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">haohao</span>&gt;</span><span class="tag">&lt;/<span class="name">haohao</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h5 id="私有组件"><a href="#私有组件" class="headerlink" title="私有组件"></a>私有组件</h5><p>通过 components 注册的是私有子组件</p>
<p>例如：</p>
<p>在组件A 的components 节点下，注册了组件F。则组件F 只能用在组件A 中；不能被用在组件C 中。</p>
<p><font color="red">上面的例子都是注册的是私有组件，下面的例子全都是注册的全局组件</font></p>
<h5 id="注册全局组件"><a href="#注册全局组件" class="headerlink" title="注册全局组件"></a>注册全局组件</h5><h6 id="第一种方法："><a href="#第一种方法：" class="headerlink" title="第一种方法："></a>第一种方法：</h6><p>创建js文件</p>
<p> <img src="/../pic/image-20221002200558228.png" alt="image-20221002200558228"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 定义全局组件</span><br><span class="line">Vue.component(&#x27;haohao&#x27;, &#123;</span><br><span class="line">    template: &#x27;&lt;ul&gt;&lt;li&gt;首页&lt;/li&gt;&lt;li&gt;学员管理&lt;/li&gt;&lt;li&gt;讲师管理&lt;/li&gt;&lt;/ul&gt;&#x27;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/../pic/image-20221002200655588.png" alt="image-20221002200655588"></p>
<p>引入并使用</p>
<h6 id="第二种方法："><a href="#第二种方法：" class="headerlink" title="第二种方法："></a>第二种方法：</h6><p>还有一种方法：</p>
<p>在 vue 项目的main.js 入口文件中，通过Vue.component() 方法，可以注册全局组件。示例代码如下：</p>
<p>下面的代码是写在main.js中的：</p>
<p><img src="/../pic/image-20230605203036444.png" alt="image-20230605203036444"></p>
<h4 id="组件的-props"><a href="#组件的-props" class="headerlink" title="组件的 props"></a>组件的 props</h4><p>props 是组件的自定义属性，在封装通用组件的时候，合理地使用 props 可以极大的提高组件的复用性！它的语法格式如下：</p>
<p><img src="/../pic/image-20230605205538924.png" alt="image-20230605205538924"></p>
<h5 id="props-是只读的"><a href="#props-是只读的" class="headerlink" title="props 是只读的"></a>props 是只读的</h5><p>vue 规定：组件中封装的自定义属性是只读的，程序员不能直接修改 props 的值。否则会直接报错：</p>
<p><img src="/../pic/image-20230605205606711.png" alt="image-20230605205606711"></p>
<p>要想修改props 的值，可以把 props 的值转存到 data 中，因为 data 中的数据都是可读可写的！</p>
<p><img src="/../pic/image-20230605205615449.png" alt="image-20230605205615449"></p>
<p>可以这样理解，props的值我们只做<strong>初始值</strong>，如果想修改他，就把他添加到data里面就可以了</p>
<h5 id="props-的-default-默认值"><a href="#props-的-default-默认值" class="headerlink" title="props 的 default 默认值"></a>props 的 default 默认值</h5><p>在声明自定义属性时，可以通过default 来定义属性的默认值。示例代码如下：</p>
<p><img src="/../pic/image-20230605205638473.png" alt="image-20230605205638473"></p>
<h5 id="props-的-type-值类型"><a href="#props-的-type-值类型" class="headerlink" title="props 的 type 值类型"></a>props 的 type 值类型</h5><p>在声明自定义属性时，可以通过type 来定义属性的值类型。示例代码如下：</p>
<p><img src="/../pic/image-20230605205650646.png" alt="image-20230605205650646"></p>
<h5 id="props-的-required-必填项"><a href="#props-的-required-必填项" class="headerlink" title="props 的 required 必填项"></a>props 的 required 必填项</h5><p>在声明自定义属性时，可以通过 required 选项，将属性设置为必填项，强制用户必须传递属性的值。示例代码如下：</p>
<p><img src="/../pic/image-20230605205709557.png" alt="image-20230605205709557"></p>
<h5 id="具体代码"><a href="#具体代码" class="headerlink" title="具体代码"></a>具体代码</h5><p>封装者：</p>
<p>Count.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h5&gt;Count 组件&lt;/h5&gt;</span><br><span class="line">    &lt;p&gt;count 的值是：&#123;&#123; count &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;button @click=&quot;count += 1&quot;&gt;+1&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;button @click=&quot;show&quot;&gt;打印 this&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // props 是&quot;自定义属性&quot;，允许使用者通过自定义属性，为当前组件指定初始值</span><br><span class="line">  // 自定义属性的名字，是封装者自定义的（只要名称合法即可）</span><br><span class="line">  // props 中的数据，可以直接在模板结构中被使用</span><br><span class="line">  // 注意：props 是只读的，不要直接修改 props 的值，否则终端会报错！</span><br><span class="line">  // props: [&#x27;init&#x27;],</span><br><span class="line">  props: &#123;</span><br><span class="line">    // 自定义属性A : &#123; /* 配置选项 */ &#125;,</span><br><span class="line">    // 自定义属性B : &#123; /* 配置选项 */ &#125;,</span><br><span class="line">    // 自定义属性C : &#123; /* 配置选项 */ &#125;,</span><br><span class="line">    init: &#123;</span><br><span class="line">      // 如果外界使用 Count 组件的时候，没有传递 init 属性，则默认值生效</span><br><span class="line">      default: 0,</span><br><span class="line">      // init 的值类型必须是 Number 数字</span><br><span class="line">      // 这里vue帮我们做了校验，如果传参不正确就会终端报错！</span><br><span class="line">      type: Number,</span><br><span class="line">      // 必填项校验，就算有默认值，但是调用者没传参，还是会报错</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      // 把 props 中的 init 值，转存到 count 上</span><br><span class="line">      count: this.init</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    show() &#123;</span><br><span class="line">      console.log(this)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot;&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>使用者：</p>
<p>Left.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;left-container&quot;&gt;</span><br><span class="line">    &lt;h3&gt;Left 组件&lt;/h3&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line">    &lt;!-- 这里使用了v-bind ，保证传参是个数字 --&gt;</span><br><span class="line">    &lt;MyCount :init=&quot;9&quot;&gt;&lt;/MyCount&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h4 id="组件之间的样式冲突问题"><a href="#组件之间的样式冲突问题" class="headerlink" title="组件之间的样式冲突问题"></a>组件之间的样式冲突问题</h4><p>默认情况下，写在 .vue 组件中的样式会全局生效，因此很容易造成多个组件之间的样式冲突问题。导致组件之间样式冲突的根本原因是：</p>
<p>①  单页面应用程序中，所有组件的DOM 结构，都会渲染到唯一的index.html 页面进行呈现</p>
<p>② 每个组件中的样式，都会影响整个index.html 页面中的DOM 元素</p>
<h5 id="思考：如何解决组件样式冲突的问题"><a href="#思考：如何解决组件样式冲突的问题" class="headerlink" title="思考：如何解决组件样式冲突的问题"></a>思考：如何解决组件样式冲突的问题</h5><p>为每个组件分配唯一的自定义属性，在编写组件样式时，通过属性选择器来控制样式的作用域，示例代码如下：</p>
<p><img src="/../pic/image-20230605211107883.png" alt="image-20230605211107883"></p>
<h5 id="style-节点的-scoped-属性"><a href="#style-节点的-scoped-属性" class="headerlink" title="style 节点的 scoped 属性"></a>style 节点的 scoped 属性</h5><p>为了提高开发效率和开发体验，vue 为 style 节点提供了scoped 属性，从而防止组件之间的样式冲突问题（原理就是上面的加一个自定义属性。。。可以在开发者页面上面看到）：</p>
<p><img src="/../pic/image-20230605211122264.png" alt="image-20230605211122264"></p>
<h5 id="x2F-deep-x2F-样式穿透"><a href="#x2F-deep-x2F-样式穿透" class="headerlink" title="&#x2F;deep&#x2F; 样式穿透"></a>&#x2F;deep&#x2F; 样式穿透</h5><p>如果给当前组件的style 节点添加了scoped 属性，则当前组件的样式对其子组件是不生效的。如果想让某些样式对子组件生效，可以使用&#x2F;deep&#x2F; 深度选择器。</p>
<p><img src="/../pic/image-20230605211143735.png" alt="image-20230605211143735"></p>
<p>上面红框里面一个是并集选择器，一个是子代选择器</p>
<p>这个玩意可以修改组件库的样式，等到后面用到了我再回来填坑。。。</p>
<h4 id="组件的构造函数"><a href="#组件的构造函数" class="headerlink" title="组件的构造函数"></a>组件的构造函数</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>VueComponent<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">			关于VueComponent：</span></span><br><span class="line"><span class="comment">						1.school组件本质是一个名为VueComponent的构造函数，且不是程序员定义的，是Vue.extend生成的。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">						2.我们只需要写&lt;school/&gt;或&lt;school&gt;&lt;/school&gt;，Vue解析时会帮我们创建school组件的实例对象，</span></span><br><span class="line"><span class="comment">							即Vue帮我们执行的：new VueComponent(options)。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">						3.特别注意：每次调用Vue.extend，返回的都是一个全新的VueComponent！！！！</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">						4.关于this指向：</span></span><br><span class="line"><span class="comment">								(1).组件配置中：</span></span><br><span class="line"><span class="comment">											data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【VueComponent实例对象】。</span></span><br><span class="line"><span class="comment">								(2).new Vue(options)配置中：</span></span><br><span class="line"><span class="comment">											data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【Vue实例对象】。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">						5.VueComponent的实例对象，以后简称vc（也可称之为：组件实例对象）。</span></span><br><span class="line"><span class="comment">							Vue的实例对象，以后简称vm。</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">		</span></span><br><span class="line"><span class="language-javascript">		<span class="comment">//定义school组件</span></span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">const</span> school = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">name</span>:<span class="string">&#x27;school&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">template</span>:<span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">				&lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">					&lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;	</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">					&lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;	</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">					&lt;button @click=&quot;showName&quot;&gt;点我提示学校名&lt;/button&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">				&lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">			`</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">address</span>:<span class="string">&#x27;北京&#x27;</span></span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="title function_">showName</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;showName&#x27;</span>,<span class="variable language_">this</span>)</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">const</span> test = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">template</span>:<span class="string">`&lt;span&gt;atguigu&lt;/span&gt;`</span></span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="comment">//定义hello组件</span></span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">const</span> hello = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">template</span>:<span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">				&lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">					&lt;h2&gt;&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">					&lt;test&gt;&lt;/test&gt;	</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">				&lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">			`</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="attr">msg</span>:<span class="string">&#x27;你好啊！&#x27;</span></span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">components</span>:&#123;test&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="comment">// console.log(&#x27;@&#x27;,school)</span></span></span><br><span class="line"><span class="language-javascript">		<span class="comment">// console.log(&#x27;#&#x27;,hello)</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">		<span class="comment">//创建vm</span></span></span><br><span class="line"><span class="language-javascript">		<span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">			<span class="attr">components</span>:&#123;school,hello&#125;</span></span><br><span class="line"><span class="language-javascript">		&#125;)</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h4 id="Vue和VueComponent的内置关系"><a href="#Vue和VueComponent的内置关系" class="headerlink" title="Vue和VueComponent的内置关系"></a>Vue和VueComponent的内置关系</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">		&lt;title&gt;一个重要的内置关系&lt;/title&gt;</span><br><span class="line">		&lt;!-- 引入Vue --&gt;</span><br><span class="line">		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		&lt;!-- </span><br><span class="line">				1.一个重要的内置关系：VueComponent.prototype.__proto__ === Vue.prototype</span><br><span class="line">				2.为什么要有这个关系：让组件实例对象（vc）可以访问到 Vue原型上的属性、方法。</span><br><span class="line">		--&gt;</span><br><span class="line">		&lt;!-- 准备好一个容器--&gt;</span><br><span class="line">		&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">			&lt;school&gt;&lt;/school&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。</span><br><span class="line">		Vue.prototype.x = 99</span><br><span class="line"></span><br><span class="line">		//定义school组件</span><br><span class="line">		const school = Vue.extend(&#123;</span><br><span class="line">			name:&#x27;school&#x27;,</span><br><span class="line">			template:`</span><br><span class="line">				&lt;div&gt;</span><br><span class="line">					&lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;	</span><br><span class="line">					&lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;	</span><br><span class="line">					&lt;button @click=&quot;showX&quot;&gt;点我输出x&lt;/button&gt;</span><br><span class="line">				&lt;/div&gt;</span><br><span class="line">			`,</span><br><span class="line">			data()&#123;</span><br><span class="line">				return &#123;</span><br><span class="line">					name:&#x27;尚硅谷&#x27;,</span><br><span class="line">					address:&#x27;北京&#x27;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;,</span><br><span class="line">			methods: &#123;</span><br><span class="line">				showX()&#123;</span><br><span class="line">					console.log(this.x)</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;)</span><br><span class="line"></span><br><span class="line">		//创建一个vm</span><br><span class="line">		const vm = new Vue(&#123;</span><br><span class="line">			el:&#x27;#root&#x27;,</span><br><span class="line">			data:&#123;</span><br><span class="line">				msg:&#x27;你好&#x27;</span><br><span class="line">			&#125;,</span><br><span class="line">			components:&#123;school&#125;</span><br><span class="line">		&#125;)</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">		//定义一个构造函数</span><br><span class="line">		/* function Demo()&#123;</span><br><span class="line">			this.a = 1</span><br><span class="line">			this.b = 2</span><br><span class="line">		&#125;</span><br><span class="line">		//创建一个Demo的实例对象</span><br><span class="line">		const d = new Demo()</span><br><span class="line"></span><br><span class="line">		console.log(Demo.prototype) //显示原型属性</span><br><span class="line"></span><br><span class="line">		console.log(d.__proto__) //隐式原型属性</span><br><span class="line"></span><br><span class="line">		console.log(Demo.prototype === d.__proto__)</span><br><span class="line"></span><br><span class="line">		//程序员通过显示原型属性操作原型对象，追加一个x属性，值为99</span><br><span class="line">		Demo.prototype.x = 99</span><br><span class="line"></span><br><span class="line">		console.log(&#x27;@&#x27;,d) */</span><br><span class="line"></span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<p><img src="/../pic/image-20230611191648869.png" alt="image-20230611191648869"></p>
<h2 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h2><ul>
<li>生命周期（Life Cycle）是指一个组件从创建 -&gt; 运行-&gt; 销毁的整个阶段，强调的是一个时间段。</li>
<li>生命周期函数：是由 vue 框架提供的内置函数，会伴随着组件的生命周期，自动按次序执行。</li>
</ul>
<p>注意：生命周期强调的是时间段，生命周期函数强调的是时间点。</p>
<h3 id="实例生命周期"><a href="#实例生命周期" class="headerlink" title="实例生命周期"></a>实例生命周期</h3><p>我们主要了解的是在渲染页面之前会执行<code>created()</code>方法，在渲染完成后执行<code>mounted()</code>方法，那么如何查看呢，我们了解了这两个方法就可以了，因为主要用的就是这两个。</p>
<p>前端也有debug模式，通过<code>debugger</code>关键字来使用</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>hahahahha<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">created</span>(<span class="params"></span>) &#123; </span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">debugger</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;created&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">debugger</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;mounted&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>直接启动之后运行一下点刷新就可以进入debug模式了。</p>
<p><img src="/../pic/image-20221002202045941.png" alt="image-20221002202045941"></p>
<h3 id="组件生命周期函数的分类"><a href="#组件生命周期函数的分类" class="headerlink" title="组件生命周期函数的分类"></a>组件生命周期函数的分类</h3><p><img src="/../pic/image-20230607123017204.png" alt="image-20230607123017204"></p>
<h4 id="生命周期的八大钩子函数"><a href="#生命周期的八大钩子函数" class="headerlink" title="生命周期的八大钩子函数"></a>生命周期的八大钩子函数</h4><p>什么是钩子函数，官方文档：</p>
<blockquote>
<p>每个 Vue 实例在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到 DOM 并在数据变化时更新 DOM 等。同时在这个过程中也会运行一些叫做<strong>生命周期钩子</strong>的函数，这给了用户在不同阶段添加自己的代码的机会。</p>
</blockquote>
<p>简单来说，钩子函数就算创建Vue在初始化、更新数据、销毁时会自动被调用的函数</p>
<p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/api/composition-api-lifecycle.html#onupdated"><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/api/#%E9%80%89%E9%A1%B9-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90">API — Vue.js (vuejs.org)</a></a></p>
<p>八大钩子数分别是：</p>
<ul>
<li><p>beforeCreate,</p>
</li>
<li><p>created,</p>
</li>
<li><p>beforeMount,</p>
</li>
<li><p>mounted,</p>
</li>
<li><p>beforeUpdate,</p>
</li>
<li><p>updated,</p>
</li>
<li><p>beforeDestory,</p>
</li>
<li><p>destoryed</p>
</li>
</ul>
<p>官网的还多了几个其他的，但是目前我们用不太到，只需要了解即可</p>
<p><img src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/image-20230403114038850.png" alt="image-20230403114038850"></p>
<p>用图片来表示，下图新增了两个新的方法：beforeUpdate()和updated()方法</p>
<p><img src="/../pic/lifecycle-16861119159321.png" alt="lifecycle"></p>
<h5 id="一、beforeCreate-created"><a href="#一、beforeCreate-created" class="headerlink" title="一、beforeCreate,created"></a>一、beforeCreate,created</h5><p>beforeCreate可以简单的理解为在数据初始化的之前被调用，<strong>这时候data和methods尚未没有数据</strong>。</p>
<p>created可以理解为在数据初始化之后被调用，<strong>这时候data和methods已经被填充了相应的数据</strong>。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm=new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                msg:&quot;在这之间&quot;       //添加msg数据</span><br><span class="line">            &#125;,</span><br><span class="line">            beforeCreate() &#123;</span><br><span class="line">                console.log(&quot;this= &quot;+this)  </span><br><span class="line">                console.log(&quot;this.msg= &quot;+this.msg)</span><br><span class="line">                console.log(&quot;this.md= &quot;+this.md)</span><br><span class="line">                console.log(&quot;&quot;)</span><br><span class="line">                &#125;,</span><br><span class="line">            created() &#123;</span><br><span class="line">                console.log(&quot;this= &quot;+this)  </span><br><span class="line">                console.log(&quot;this.msg= &quot;+this.msg)</span><br><span class="line">                console.log(&quot;this.md= &quot;+this.md)              </span><br><span class="line">                console.log(&quot;&quot;)</span><br><span class="line">                </span><br><span class="line">                &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                md: function()&#123;&#125;,        //空方法</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<p><img src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/image-20230403115056051.png" alt="image-20230403115056051"></p>
<p>在beforeCreate方法与create方法之间完成了资源的注入</p>
<h5 id="二、beforeMount-mounted"><a href="#二、beforeMount-mounted" class="headerlink" title="二、beforeMount,mounted"></a>二、beforeMount,mounted</h5><p>上面实验已经证明Vue中数据已经注入完毕，beforeMount,mounted则是与页面渲染有关</p>
<p>beforeMount在页面尚未被渲染时使用，也就是Vue的数据没有传到页面。</p>
<p>mounted在页面渲染完成之后使用，也就是此时页面已完全取出Vue中的数据。</p>
<p>实验测试：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;h1 id=&quot;ren&quot;&gt;&#123;&#123;msg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm=new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                msg:&quot;在这之间&quot;       //添加msg数据</span><br><span class="line">            &#125;,</span><br><span class="line">            beforeMount() &#123;</span><br><span class="line">                let doc = document.querySelector(&quot;#ren&quot;);//查询到id名为ren的节点</span><br><span class="line">                console.log(doc)   </span><br><span class="line">                console.log(&quot;&quot;)</span><br><span class="line">            &#125;,</span><br><span class="line">            mounted() &#123;</span><br><span class="line">                let doc = document.querySelector(&quot;#ren&quot;);</span><br><span class="line">                console.log(doc)   </span><br><span class="line">            &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>结果如下：</p>
<p><img src="/../pic/20200606184551820.png" alt="img"></p>
<p><strong>此时，Vue对象中资源已注入完毕，页面也已经渲染完毕，上述四个方法在页面被加载时自动被执行</strong></p>
<h5 id="三、beforeUpdate-updated"><a href="#三、beforeUpdate-updated" class="headerlink" title="三、beforeUpdate,updated"></a>三、beforeUpdate,updated</h5><ul>
<li>beforeUpdate在页面更新渲染完成后，DOM树发生改变前被调用</li>
<li>updated在页面DOM树改变后被调用</li>
</ul>
<p>需要注意的是如果只是改变了dom中的数据（data），未对页面造成任何影响，就不会触发beforeUpdate,updated方法。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;h1 id=&quot;ren&quot;&gt;</span><br><span class="line">            &lt;p v-if=&quot;msg&quot;&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm=new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                msg:true       //添加msg数据</span><br><span class="line">            &#125;,</span><br><span class="line">            beforeUpdate() &#123;</span><br><span class="line">                let a = document.getElementById(&quot;ren&quot;); </span><br><span class="line">                console.log(a.childElementCount)</span><br><span class="line">                console.log(&quot;&quot;)</span><br><span class="line">            &#125;,</span><br><span class="line">            updated() &#123;</span><br><span class="line">                let a = document.getElementById(&quot;ren&quot;); </span><br><span class="line">                console.log(a.childElementCount)</span><br><span class="line">            &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>结果显示：</p>
<p><img src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/20200607133049407.png" alt="img"></p>
<h5 id="四、beforeDestory-destoryed"><a href="#四、beforeDestory-destoryed" class="headerlink" title="四、beforeDestory,destoryed"></a>四、beforeDestory,destoryed</h5><p><strong>beforeDestory是在Vue组件销毁之前被调用</strong></p>
<p><strong>destoryed在Vue组件销毁之后被调用</strong></p>
<p>这里为了搭建环境，引入了组件的概念（注意由于解析时自上而下，所以组件写在Vue对象前)</p>
<p><img src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/2020060714104985.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;mytest id=&quot;child&quot; v-if=&quot;flag&quot;&gt;</span><br><span class="line">        &lt;/mytest&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        </span><br><span class="line">        let myname = Vue.component(&#x27;mytest&#x27;, &#123;</span><br><span class="line">                template: &#x27;&lt;p&gt;yes&lt;/p&gt;&#x27;,</span><br><span class="line"> </span><br><span class="line">                beforeDestroy() &#123;</span><br><span class="line">                    console.log(&quot;beforeDestroy被执行&quot;)</span><br><span class="line">                &#125;,</span><br><span class="line">                destroyed() &#123;</span><br><span class="line">                    console.log(&quot;destroyed被执行&quot;)</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">        var vm=new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                flag: true</span><br><span class="line">            &#125;,</span><br><span class="line">            components:&#123;</span><br><span class="line">                &quot;mytest&quot; : myname,</span><br><span class="line">            &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line"> </span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/20200607151956487.png" alt="img"></p>
<h2 id="组件之间的数据共享"><a href="#组件之间的数据共享" class="headerlink" title="组件之间的数据共享"></a>组件之间的数据共享</h2><h3 id="组件之间的关系"><a href="#组件之间的关系" class="headerlink" title="组件之间的关系"></a>组件之间的关系</h3><p>在项目开发中，组件之间的最常见的关系分为如下两种：</p>
<p>① 父子关系</p>
<p>② 兄弟关系</p>
<p><img src="/../pic/image-20230607123110938.png" alt="image-20230607123110938"></p>
<h3 id="父子组件之间的数据共享"><a href="#父子组件之间的数据共享" class="headerlink" title="父子组件之间的数据共享"></a>父子组件之间的数据共享</h3><p>父子组件之间的数据共享又分为：</p>
<p>①	父 -&gt; 子共享数据</p>
<p>②	子 -&gt; 父共享数据</p>
<h4 id="父组件向子组件共享数据"><a href="#父组件向子组件共享数据" class="headerlink" title="父组件向子组件共享数据"></a>父组件向子组件共享数据</h4><p>父组件向子组件共享数据需要使用自定义属性。示例代码如下：</p>
<p><img src="/../pic/image-20230607123144642.png" alt="image-20230607123144642"><img src="/../pic/image-20230607123153353.png" alt="image-20230607123153353"></p>
<h4 id="子组件向父组件共享数据"><a href="#子组件向父组件共享数据" class="headerlink" title="子组件向父组件共享数据"></a>子组件向父组件共享数据</h4><p>子组件向父组件共享数据使用自定义事件。示例代码如下：</p>
<p><img src="/../pic/image-20230607123214992.png" alt="image-20230607123214992"></p>
<p><img src="/../pic/image-20230607123217772.png" alt="image-20230607123217772"></p>
<p>组件的自定义事件</p>
<ol>
<li><p>一种组件间通信的方式，适用于：<strong style="color:red">子组件 &#x3D;&#x3D;&#x3D;&gt; 父组件</strong></p>
</li>
<li><p>使用场景：A是父组件，B是子组件，B想给A传数据，那么就要在A中给B绑定自定义事件（<span style="color:red">事件的回调在A中</span>）。</p>
</li>
<li><p>绑定自定义事件：</p>
<ol>
<li><p>第一种方式，在父组件中：<code>&lt;Demo @atguigu=&quot;test&quot;/&gt;</code>  或 <code>&lt;Demo v-on:atguigu=&quot;test&quot;/&gt;</code></p>
</li>
<li><p>第二种方式，在父组件中：</p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;<span class="title class_">Demo</span> ref=<span class="string">&quot;demo&quot;</span>/&gt;</span><br><span class="line">......</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">xxx</span>.$on(<span class="string">&#x27;atguigu&#x27;</span>,<span class="variable language_">this</span>.<span class="property">test</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>若想让自定义事件只能触发一次，可以使用<code>once</code>修饰符，或<code>$once</code>方法。</p>
</li>
</ol>
</li>
<li><p>触发自定义事件：<code>this.$emit(&#39;atguigu&#39;,数据)</code>		</p>
</li>
<li><p>解绑自定义事件<code>this.$off(&#39;atguigu&#39;)</code></p>
</li>
<li><p>组件上也可以绑定原生DOM事件，需要使用<code>native</code>修饰符。</p>
</li>
<li><p>注意：通过<code>this.$refs.xxx.$on(&#39;atguigu&#39;,回调)</code>绑定自定义事件时，回调<span style="color:red">要么配置在methods中</span>，<span style="color:red">要么用箭头函数</span>，否则this指向会出问题！</p>
</li>
</ol>
<h3 id="兄弟组件之间的数据共享"><a href="#兄弟组件之间的数据共享" class="headerlink" title="兄弟组件之间的数据共享"></a>兄弟组件之间的数据共享</h3><p>在 vue2.x 中，兄弟组件之间数据共享的方案是 EventBus。</p>
<p><img src="/../pic/image-20230607123308156.png" alt="image-20230607123308156"></p>
<p>EventBus 的使用步骤</p>
<p>① 创建eventBus.js 模块，并向外共享一个 Vue 的实例对象<br>② 在数据发送方，调用bus.$emit(‘事件名称’, 要发送的数据) 方法触发自定义事件<br>③ 在数据接收方，调用bus.$on(‘事件名称’, 事件处理函数) 方法注册一个自定义事件</p>
<h3 id="全局事件总线"><a href="#全局事件总线" class="headerlink" title="全局事件总线"></a>全局事件总线</h3><p>这个玩意可以实现任意组件间的通信（GlobalEventBus）</p>
<ol>
<li><p>一种组件间通信的方式，适用于<span style="color:red">任意组件间通信</span>。</p>
</li>
<li><p>安装全局事件总线：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   ......</span><br><span class="line">   <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span> <span class="comment">//安装全局事件总线，$bus就是当前应用的vm</span></span><br><span class="line">   &#125;,</span><br><span class="line">    ......</span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure>
</li>
<li><p>使用事件总线：</p>
<ol>
<li><p>接收数据：A组件想接收数据，则在A组件中给$bus绑定自定义事件，事件的<span style="color:red">回调留在A组件自身。</span></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">demo</span>(<span class="params">data</span>)&#123;......&#125;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$bus</span>.$on(<span class="string">&#x27;xxxx&#x27;</span>,<span class="variable language_">this</span>.<span class="property">demo</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>提供数据：<code>this.$bus.$emit(&#39;xxxx&#39;,数据)</code></p>
</li>
</ol>
</li>
<li><p>最好在beforeDestroy钩子中，用$off去解绑<span style="color:red">当前组件所用到的</span>事件。</p>
</li>
</ol>
<p>具体代码示例：</p>
<p>main.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;student&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学生姓名：&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学生性别：&#123;&#123; sex &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sendStudentName&quot;</span>&gt;</span>把学生名给School组件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;Student&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">name</span>: <span class="string">&quot;张三&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">sex</span>: <span class="string">&quot;男&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">sendStudentName</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$bus</span>.$emit(<span class="string">&quot;hello&quot;</span>, <span class="variable language_">this</span>.<span class="property">name</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.student</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">background-color</span>: pink;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>school.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">    &lt;h2&gt;学校名称：&#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学校地址：&#123;&#123; address &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;School&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;尚硅谷&quot;,</span><br><span class="line">      address: &quot;北京&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  //在数据初始化完成阶段，给$bus绑定自定义事件</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.$bus.$on(&quot;hello&quot;, (data) =&gt; &#123;</span><br><span class="line">      console.log(&quot;我是School组件，收到了数据&quot;, data);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">    //在组件将要被销毁的时候需要把这个自定义事件解绑，正如我轻轻的来，轻轻的走，不带走一片云彩</span><br><span class="line">  beforeDestroy() &#123;</span><br><span class="line">    this.$bus.$off(&quot;hello&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.school &#123;</span><br><span class="line">  background-color: skyblue;</span><br><span class="line">  padding: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;student&quot;&gt;</span><br><span class="line">    &lt;h2&gt;学生姓名：&#123;&#123; name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;学生性别：&#123;&#123; sex &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sendStudentName&quot;&gt;把学生名给School组件&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Student&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &quot;张三&quot;,</span><br><span class="line">      sex: &quot;男&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sendStudentName() &#123;</span><br><span class="line">      this.$bus.$emit(&quot;hello&quot;, this.name);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">.student &#123;</span><br><span class="line">  background-color: pink;</span><br><span class="line">  padding: 5px;</span><br><span class="line">  margin-top: 30px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="消息订阅与发布（pubsub）"><a href="#消息订阅与发布（pubsub）" class="headerlink" title="消息订阅与发布（pubsub）"></a>消息订阅与发布（pubsub）</h3><ol>
<li><p>一种组件间通信的方式，适用于<span style="color:red">任意组件间通信</span>。</p>
</li>
<li><p>使用步骤：</p>
<ol>
<li><p>安装pubsub：<code>npm i pubsub-js</code></p>
</li>
<li><p>引入: <code>import pubsub from &#39;pubsub-js&#39;</code></p>
</li>
<li><p>接收数据：A组件想接收数据，则在A组件中订阅消息，订阅的<span style="color:red">回调留在A组件自身。</span></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">demo</span>(<span class="params">data</span>)&#123;......&#125;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">pid</span> = pubsub.<span class="title function_">subscribe</span>(<span class="string">&#x27;xxx&#x27;</span>,<span class="variable language_">this</span>.<span class="property">demo</span>) <span class="comment">//订阅消息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>提供数据：<code>pubsub.publish(&#39;xxx&#39;,数据)</code></p>
</li>
<li><p>最好在beforeDestroy钩子中，用<code>PubSub.unsubscribe(pid)</code>去<span style="color:red">取消订阅。</span></p>
</li>
</ol>
</li>
</ol>
<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div class=&quot;school&quot;&gt;</span><br><span class="line">		&lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">		&lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;School&#x27;,</span><br><span class="line">		data() &#123;</span><br><span class="line">			return &#123;</span><br><span class="line">				name:&#x27;尚硅谷&#x27;,</span><br><span class="line">				address:&#x27;北京&#x27;,</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		mounted() &#123;</span><br><span class="line">            //这里把pubid挂载到vc对象身上，但是我感觉这种方法不太优雅，因为这个组件可能有多个消息</span><br><span class="line">			this.pubId = pubsub.subscribe(&#x27;hello&#x27;,(msgName,data)=&gt;&#123;</span><br><span class="line">				console.log(this)//这里是vc对象，因为这个是箭头函数，并且是外部的api进行调用的，所以vc-》外部api-》这个函数，所以这个this就是vc对象</span><br><span class="line">			    console.log(&#x27;有人发布了hello消息，hello消息的回调执行了&#x27;,msgName,data)</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;,</span><br><span class="line">		beforeDestroy() &#123;</span><br><span class="line">			//这里通过id进行解绑对象，很想定时器</span><br><span class="line">			pubsub.unsubscribe(this.pubId)</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">	.school&#123;</span><br><span class="line">		background-color: skyblue;</span><br><span class="line">		padding: 5px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div class=&quot;student&quot;&gt;</span><br><span class="line">		&lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">		&lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">		&lt;button @click=&quot;sendStudentName&quot;&gt;把学生名给School组件&lt;/button&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;Student&#x27;,</span><br><span class="line">		data() &#123;</span><br><span class="line">			return &#123;</span><br><span class="line">				name:&#x27;张三&#x27;,</span><br><span class="line">				sex:&#x27;男&#x27;,</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		methods: &#123;</span><br><span class="line">			sendStudentName()&#123;</span><br><span class="line">                //这里写你要输入的消息</span><br><span class="line">				pubsub.publish(&#x27;hello&#x27;,666)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">	.student&#123;</span><br><span class="line">		background-color: pink;</span><br><span class="line">		padding: 5px;</span><br><span class="line">		margin-top: 30px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="Vue封装的过度与动画"><a href="#Vue封装的过度与动画" class="headerlink" title="Vue封装的过度与动画"></a>Vue封装的过度与动画</h2><ol>
<li><p>作用：在插入、更新或移除 DOM元素时，在合适的时候给元素添加样式类名。</p>
</li>
<li><p>写法：</p>
<ul>
<li>元素在进入的时候会加三个class：</li>
</ul>
</li>
<li><p>v-enter：进入的起点</p>
<ol start="2">
<li>v-enter-active：进入过程中</li>
<li>v-enter-to：进入的终点</li>
</ol>
</li>
</ol>
<ul>
<li>元素在离开的时候会加三个class：<ol>
<li>v-leave：离开的起点</li>
<li>v-leave-active：离开过程中</li>
<li>v-leave-to：离开的终点</li>
</ol>
</li>
<li>不过需要注意的是，v-leave和v-enter这两个class只会存在一帧，就会被vue删除，因为已经达到使用样式的效果了</li>
</ul>
<ol>
<li><p>使用<code>&lt;transition&gt;</code>包裹要过度的元素，并配置name属性：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;transition name=&quot;hello&quot;&gt;</span><br><span class="line">   &lt;h1 v-show=&quot;isShow&quot;&gt;你好啊！&lt;/h1&gt;</span><br><span class="line">&lt;/transition&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>备注：若有多个元素需要过度，则需要使用：<code>&lt;transition-group&gt;</code>，且每个元素都要指定<code>key</code>值。</p>
</li>
</ol>
<h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;isShow = !isShow&quot;&gt;显示/隐藏&lt;/button&gt;</span><br><span class="line">    &lt;!-- 这里添加一个appear属性是初始的时候需要加载一个enter动画 --&gt;</span><br><span class="line">    &lt;transition name=&quot;hello&quot; appear&gt;</span><br><span class="line">      &lt;h1 v-show=&quot;isShow&quot;&gt;你好啊！&lt;/h1&gt;</span><br><span class="line">    &lt;/transition&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Test&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isShow: true,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">h1 &#123;</span><br><span class="line">  background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line">/* </span><br><span class="line">	下面这两个样式的命名规则是，如果你上面的标签加了name属性，这里的名字就是 </span><br><span class="line">	name属性值-enter-active</span><br><span class="line">	name属性值-leave-active</span><br><span class="line">	*/</span><br><span class="line">.hello-enter-active &#123;</span><br><span class="line">  animation: atguigu 0.5s linear;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.hello-leave-active &#123;</span><br><span class="line">  animation: atguigu 0.5s linear reverse;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes atguigu &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    transform: translateX(-100%);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    transform: translateX(0px);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="过度"><a href="#过度" class="headerlink" title="过度"></a>过度</h3><p>利用过度也可以实现同样的效果</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;isShow = !isShow&quot;&gt;显示/隐藏&lt;/button&gt;</span><br><span class="line">    &lt;transition name=&quot;hello&quot; appear&gt;</span><br><span class="line">      &lt;h1 v-show=&quot;isShow&quot;&gt;尚硅谷！&lt;/h1&gt;</span><br><span class="line">    &lt;/transition&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Test&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isShow: true,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">h1 &#123;</span><br><span class="line">  background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line">/* 进入的起点、离开的终点 */</span><br><span class="line">.hello-enter,</span><br><span class="line">.hello-leave-to &#123;</span><br><span class="line">  transform: translateX(-100%);</span><br><span class="line">&#125;</span><br><span class="line">/* 进入的终点、离开的起点 */</span><br><span class="line">.hello-enter-to,</span><br><span class="line">.hello-leave &#123;</span><br><span class="line">  transform: translateX(0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 给这进入和离开这两个阶段设置样式，离开花费0.5s，并且效果是匀速 */</span><br><span class="line">.hello-enter-active,</span><br><span class="line">.hello-leave-active &#123;</span><br><span class="line">  transition: 0.5s linear;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="引入第三方库完成过度和动画"><a href="#引入第三方库完成过度和动画" class="headerlink" title="引入第三方库完成过度和动画"></a>引入第三方库完成过度和动画</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;isShow = !isShow&quot;&gt;显示/隐藏&lt;/button&gt;</span><br><span class="line">    &lt;!-- 引入第三方库，就不用我们自己写进入动画和出动画的效果了 直接在属性上配置就行 --&gt;</span><br><span class="line">    &lt;!-- enter-active-class 进入动画 --&gt;</span><br><span class="line">    &lt;!-- leave-active-class 离开动画 --&gt;</span><br><span class="line">    &lt;transition-group</span><br><span class="line">      appear</span><br><span class="line">      name=&quot;animate__animated animate__bounce&quot;</span><br><span class="line">      enter-active-class=&quot;animate__swing&quot;</span><br><span class="line">      leave-active-class=&quot;animate__backOutUp&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;h1 v-show=&quot;!isShow&quot; key=&quot;1&quot;&gt;你好啊！&lt;/h1&gt;</span><br><span class="line">      &lt;h1 v-show=&quot;isShow&quot; key=&quot;2&quot;&gt;尚硅谷！&lt;/h1&gt;</span><br><span class="line">    &lt;/transition-group&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &quot;animate.css&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Test&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isShow: true,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">h1 &#123;</span><br><span class="line">  background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="nextTick"><a href="#nextTick" class="headerlink" title="nextTick"></a>nextTick</h2><ol>
<li>语法：<code>this.$nextTick(回调函数)</code></li>
<li>作用：在下一次 DOM 更新结束后执行其指定的回调。</li>
<li>什么时候用：当改变数据后，要基于更新后的新DOM进行某些操作时，要在nextTick所指定的回调函数中执行。</li>
</ol>
<p>比如说你要显示一个输入框并获取焦点，首先在函数里面你先把显示输入框改为true，这时候dom还没更新，你就调用focus是不好使的，所以这个api就是让渲染完dom才会执行这里面的语句</p>
<p><img src="/../pic/image-20230612213057105.png" alt="image-20230612213057105"></p>
<h2 id="利用代理解决跨域问题"><a href="#利用代理解决跨域问题" class="headerlink" title="利用代理解决跨域问题"></a>利用代理解决跨域问题</h2><p><a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/config/#devserver-proxy">配置参考 | Vue CLI (vuejs.org)</a></p>
<p><img src="/../pic/image-20230612222627015.png" alt="image-20230612222627015"></p>
<h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><p>  在vue.config.js中添加如下配置：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//下面这个是代理服务器需要转发到的地址，如果发请求就直接发送给前端的端口就行了</span></span><br><span class="line"><span class="attr">devServer</span>:&#123;</span><br><span class="line">  <span class="attr">proxy</span>:<span class="string">&quot;http://localhost:5000&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ol>
<li>优点：配置简单，请求资源时直接发给前端（8080）即可。</li>
<li>缺点：不能配置多个代理，不能灵活的控制请求是否走代理。</li>
<li>工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器 （优先匹配前端资源）</li>
</ol>
<h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><p>  编写vue.config.js配置具体代理规则：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">   <span class="attr">devServer</span>: &#123;</span><br><span class="line">      <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api1&#x27;</span>: &#123;<span class="comment">// 匹配所有以 &#x27;/api1&#x27;开头的请求路径</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5000&#x27;</span>,<span class="comment">// 代理目标的基础路径</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api1&#x27;</span>: <span class="string">&#x27;&#x27;</span>&#125;<span class="comment">//给前缀去除</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&#x27;/api2&#x27;</span>: &#123;<span class="comment">// 匹配所有以 &#x27;/api2&#x27;开头的请求路径</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5001&#x27;</span>,<span class="comment">// 代理目标的基础路径</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api2&#x27;</span>: <span class="string">&#x27;&#x27;</span>&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000   撒谎</span></span><br><span class="line"><span class="comment">   changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:8080  不撒谎</span></span><br><span class="line"><span class="comment">   changeOrigin默认值为true</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ol>
<li>优点：可以配置多个代理，且可以灵活的控制请求是否走代理。</li>
<li>缺点：配置略微繁琐，请求资源时必须加前缀。</li>
</ol>
<h2 id="ref-引用"><a href="#ref-引用" class="headerlink" title="ref 引用"></a>ref 引用</h2><h3 id="什么是-ref-引用"><a href="#什么是-ref-引用" class="headerlink" title="什么是 ref 引用"></a>什么是 ref 引用</h3><p>ref应用在html标签上获取的是真实DOM元素，应用在组件标签上是组件实例对象（vc）</p>
<p>ref 用来辅助开发者在不依赖于jQuery 的情况下，获取DOM 元素或组件的引用。</p>
<p>每个 vue 的组件实例上，都包含一个$refs 对象，里面存储着对应的DOM 元素或组件的引用。默认情况下，组件的$refs 指向一个空对象。</p>
<p><img src="/../pic/image-20230607173946363.png" alt="image-20230607173946363"></p>
<p>上面打印的this，就是当前的vue实例对象，里面有一个$refs属性，默认为空，如果我们需要用到他，需要自己定义</p>
<h3 id="使用-ref-引用-DOM-元素"><a href="#使用-ref-引用-DOM-元素" class="headerlink" title="使用 ref 引用 DOM 元素"></a>使用 ref 引用 DOM 元素</h3><p>如果想要使用 ref 引用页面上的DOM 元素，则可以按照如下的方式进行操作：</p>
<p><img src="/../pic/image-20230607174053539.png" alt="image-20230607174053539"></p>
<h3 id="使用-ref-引用组件实例"><a href="#使用-ref-引用组件实例" class="headerlink" title="使用 ref 引用组件实例"></a>使用 ref 引用组件实例</h3><p>不光能获得html的标签，还能获得我们自定义的标签（也就是组件实例）</p>
<p>如果想要使用 ref 引用页面上的组件实例，则可以按照如下的方式进行操作：</p>
<p><img src="/../pic/image-20230607174226676.png" alt="image-20230607174226676"></p>
<h3 id="控制文本框和按钮的按需切换"><a href="#控制文本框和按钮的按需切换" class="headerlink" title="控制文本框和按钮的按需切换"></a>控制文本框和按钮的按需切换</h3><p>下面是一个案例，要求点击按钮显示输入框并选中输入框，然后按钮消失，如果失去焦点就删除输入框，出现按钮</p>
<p>通过布尔值inputVisible 来控制组件中的文本框与按钮的按需切换。示例代码如下：</p>
<p><img src="/../pic/image-20230607174556920.png" alt="image-20230607174556920"></p>
<p><img src="/../pic/image-20230607174600192.png" alt="image-20230607174600192"></p>
<h3 id="让文本框自动获得焦点"><a href="#让文本框自动获得焦点" class="headerlink" title="让文本框自动获得焦点"></a>让文本框自动获得焦点</h3><p>当文本框展示出来之后，如果希望它立即获得焦点，则可以为其添加 ref 引用，并调用原生DOM 对象的.focus() 方法即可。示例代码如下：</p>
<p><strong>但是这种写法是不正确的，因为v-if是通过修改增加dom元素节点来完成显示的，如果像下面的代码一样，还没有进行重新渲染页面就取不到this.$refs.ipt这个对象，所以我们要延迟到渲染页面之后才能执行下面这段代码</strong></p>
<p><img src="/../pic/image-20230607174808840.png" alt="image-20230607174808840"></p>
<h3 id="this-nextTick-cb-方法"><a href="#this-nextTick-cb-方法" class="headerlink" title="this.$nextTick(cb) 方法"></a>this.$nextTick(cb) 方法</h3><p>组件的$nextTick(cb) 方法，会把cb 回调推迟到下一个DOM 更新周期之后执行。通俗的理解是：等组件的DOM 更新完成之后，再执行cb 回调函数。从而能保证cb 回调函数可以操作到最新的DOM 元素。</p>
<p><img src="/../pic/image-20230607174824166.png" alt="image-20230607174824166"></p>
<p>你可能会问，为啥不用生命周期里面的update()呢：</p>
<p>因为每一次数据的改变都会触发update()方法，如果到时候失去焦点的时候，我们就没有那个元素了，也就为null了，但是这个可以在逻辑代码里面自己判断，所以update总的来说还是可以的，但是使用的话比较复杂而已</p>
<h2 id="动态组件"><a href="#动态组件" class="headerlink" title="动态组件"></a>动态组件</h2><h3 id="什么是动态组件"><a href="#什么是动态组件" class="headerlink" title="什么是动态组件"></a>什么是动态组件</h3><p>动态组件指的是动态切换组件的显示与隐藏。</p>
<h3 id="如何实现动态组件渲染"><a href="#如何实现动态组件渲染" class="headerlink" title="如何实现动态组件渲染"></a>如何实现动态组件渲染</h3><p>vue 提供了一个内置的 <code>&lt;component&gt;</code>组件，专门用来实现动态组件的渲染。示例代码如下：</p>
<p><img src="/../pic/image-20230607214433988.png" alt="image-20230607214433988"></p>
<p>is属性里面填的是组件的名字，注意，这两个图片是不一样的,上面的使用了动态绑定，下面的是初始的版本</p>
<p><img src="/../pic/image-20230607214438972.png" alt="image-20230607214438972"></p>
<h3 id="使用-keep-alive-保持状态"><a href="#使用-keep-alive-保持状态" class="headerlink" title="使用 keep-alive 保持状态"></a>使用 keep-alive 保持状态</h3><p>默认情况下，切换动态组件时无法保持组件的状态（也就是说这里面的组件如果切换了，就会重新渲染页面（其实底层是组件的创建和销毁，这个东西是Vue帮我们实现的），包括里面的数据也会重置为原始的数据）。此时可以使用vue 内置的 <code>&lt;keep-alive&gt; </code>组件保持动态组件的状态。示例代码如下：</p>
<p><img src="/../pic/image-20230607214533163.png" alt="image-20230607214533163"></p>
<p>keep-alive可以把内部的组件进行缓存（可以通过Vue的调试工具看到，标记为inactive了），而不是销毁！！</p>
<h3 id="keep-alive-对应的生命周期函数"><a href="#keep-alive-对应的生命周期函数" class="headerlink" title="keep-alive 对应的生命周期函数"></a>keep-alive 对应的生命周期函数</h3><p>当组件被缓存时，会自动触发组件的deactivated 生命周期函数。当组件被激活时，会自动触发组件的 activated 生命周期函数。</p>
<p><img src="/../pic/image-20230607214554071.png" alt="image-20230607214554071"></p>
<p>当组件第一次被创建的时候，既会执行created 生命周期，也会执行activated 生命周期</p>
<p>当组件被激活的时候，只会触发activated 生命周期，不再触发created。 因为组件没有被重新创建</p>
<h3 id="keep-alive-的-include-属性"><a href="#keep-alive-的-include-属性" class="headerlink" title="keep-alive 的 include 属性"></a>keep-alive 的 include 属性</h3><p>默认的情况下，被keep-alive标签包括的组件都会被缓存，但是，我们可以指定只缓存哪几个组件，这样就比较灵活了</p>
<p>include 属性用来指定：只有名称匹配的组件会被缓存。多个组件名之间使用英文的逗号分隔：</p>
<p><img src="/../pic/image-20230607214617380.png" alt="image-20230607214617380"></p>
<p>keep-alive标签还有一个exclude属性来标识不缓存哪个组件，用法和include一样，但是，这两个属性不能同时使用</p>
<p>还有一点是这个include属性里面填的是组件的名称，是在这里定义的</p>
<p><img src="/../pic/image-20230607214630107.png" alt="image-20230607214630107"></p>
<h2 id="mixin-混入"><a href="#mixin-混入" class="headerlink" title="mixin(混入)"></a>mixin(混入)</h2><p>说简单点混入的作用就是复用代码</p>
<ol>
<li><p>功能：可以把多个组件共用的配置提取成一个混入对象</p>
</li>
<li><p>使用方式：</p>
<p> 第一步定义混合：</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    data()&#123;....&#125;,</span><br><span class="line">    methods:&#123;....&#125;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 第二步使用混入：</p>
<p>  全局混入：<code>Vue.mixin(xxx)</code><br>  局部混入：<code>mixins:[&#39;xxx&#39;]  </code></p>
</li>
</ol>
<p>第一步：定义混合：</p>
<p>下面是mixin.js的代码</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> hunhe = &#123;</span><br><span class="line">	<span class="attr">methods</span>: &#123;</span><br><span class="line">		<span class="title function_">showName</span>(<span class="params"></span>)&#123;</span><br><span class="line">			<span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;你好啊！&#x27;</span>)</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> hunhe2 = &#123;</span><br><span class="line">	<span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="attr">x</span>:<span class="number">100</span>,</span><br><span class="line">			<span class="attr">y</span>:<span class="number">200</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第二步：下面使用mixin</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">		&lt;h2 @click=&quot;showName&quot;&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">		&lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	//引入mixin</span><br><span class="line">	 import &#123;hunhe,hunhe2&#125; from &#x27;../mixin&#x27;</span><br><span class="line"></span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;School&#x27;,</span><br><span class="line">		data() &#123;</span><br><span class="line">			return &#123;</span><br><span class="line">				name:&#x27;尚硅谷&#x27;,</span><br><span class="line">				address:&#x27;北京&#x27;,</span><br><span class="line">				x:666</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		 mixins:[hunhe,hunhe2],</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>或者使用全局引入</p>
<p><img src="/../pic/image-20230611215057707.png" alt="image-20230611215057707"></p>
<p>不过需要注意的是，如果在mixin文件里面服用了生命周期函数，但是你在引用的组件里面仍然编写了生命周期函数，这两个不会发生覆盖，这两个都会执行。。。但是如果是普通的函数或者属性的话，以你引用的组件里面的为准</p>
<h2 id="自定义插件"><a href="#自定义插件" class="headerlink" title="自定义插件"></a>自定义插件</h2><ol>
<li><p>功能：用于增强Vue</p>
</li>
<li><p>本质：包含install方法的一个对象，install的第一个参数是Vue，第二个以后的参数是插件使用者传递的数据。</p>
</li>
<li><p>定义插件：</p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line">对象.<span class="property">install</span> = <span class="keyword">function</span> (<span class="params">Vue, options</span>) &#123;</span><br><span class="line">    <span class="comment">// 1. 添加全局过滤器</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">filter</span>(....)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 添加全局指令</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">directive</span>(....)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 配置全局混入(合)</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">mixin</span>(....)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. 添加实例方法</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$myMethod</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;...&#125;</span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$myProperty</span> = xxxx</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>示例：</p>
<p>第一步：定义插件</p>
<p>plugins.js ，里面的内容就是我们要实现的功能</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">	<span class="title function_">install</span>(<span class="params">Vue,x,y,z</span>)&#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(x,y,z)</span><br><span class="line">		<span class="comment">//全局过滤器</span></span><br><span class="line">		<span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;mySlice&#x27;</span>,<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> value.<span class="title function_">slice</span>(<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line">		&#125;)</span><br><span class="line"></span><br><span class="line">		<span class="comment">//定义全局指令</span></span><br><span class="line">		<span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;fbind&#x27;</span>,&#123;</span><br><span class="line">			<span class="comment">//指令与元素成功绑定时（一上来）</span></span><br><span class="line">			<span class="title function_">bind</span>(<span class="params">element,binding</span>)&#123;</span><br><span class="line">				element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">			&#125;,</span><br><span class="line">			<span class="comment">//指令所在元素被插入页面时</span></span><br><span class="line">			<span class="title function_">inserted</span>(<span class="params">element,binding</span>)&#123;</span><br><span class="line">				element.<span class="title function_">focus</span>()</span><br><span class="line">			&#125;,</span><br><span class="line">			<span class="comment">//指令所在的模板被重新解析时</span></span><br><span class="line">			<span class="title function_">update</span>(<span class="params">element,binding</span>)&#123;</span><br><span class="line">				element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;)</span><br><span class="line"></span><br><span class="line">		<span class="comment">//定义混入</span></span><br><span class="line">		<span class="title class_">Vue</span>.<span class="title function_">mixin</span>(&#123;</span><br><span class="line">			<span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">				<span class="keyword">return</span> &#123;</span><br><span class="line">					<span class="attr">x</span>:<span class="number">100</span>,</span><br><span class="line">					<span class="attr">y</span>:<span class="number">200</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;)</span><br><span class="line"></span><br><span class="line">		<span class="comment">//给Vue原型上添加一个方法（vm和vc就都能用了）</span></span><br><span class="line">		<span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">hello</span> = <span class="function">()=&gt;</span>&#123;<span class="title function_">alert</span>(<span class="string">&#x27;你好啊&#x27;</span>)&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第二步：使用插件</p>
<p>main.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引入Vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//引入App</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">//引入插件</span></span><br><span class="line"><span class="keyword">import</span> plugins <span class="keyword">from</span> <span class="string">&#x27;./plugins&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//应用（使用）插件，这里还可以进行传参</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(plugins,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="comment">//创建vm</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">	<span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">	<span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="vue-resource"><a href="#vue-resource" class="headerlink" title="vue-resource"></a>vue-resource</h2><p>注意，这个东西用的不是很多，了解即可</p>
<p>这个玩意是对xhr的封装</p>
<p>安装<code>npm i vue-resource</code></p>
<p>用法其实和axios一模一样，只是引入的方式有点不一样</p>
<p><img src="/../pic/image-20230613220701084.png" alt="image-20230613220701084"></p>
<h2 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h2><h3 id="什么是插槽"><a href="#什么是插槽" class="headerlink" title="什么是插槽"></a>什么是插槽</h3><p>插槽（Slot）是 vue 为组件的封装者提供的能力。允许开发者在封装组件时，把不确定的、希望由用户指定的部分定义为插槽。</p>
<p><img src="/../pic/image-20230607221935890.png" alt="image-20230607221935890"></p>
<p>可以把插槽认为是组件封装期间，为用户预留的内容的占位符。</p>
<h3 id="体验插槽的基础用法"><a href="#体验插槽的基础用法" class="headerlink" title="体验插槽的基础用法"></a>体验插槽的基础用法</h3><p>在封装组件时，可以通过<code>&lt;slot&gt;</code> 元素定义插槽，从而为用户预留内容占位符。示例代码如下：</p>
<p><img src="/../pic/image-20230607222105993.png" alt="image-20230607222105993"></p>
<p>我们在使用这个组件的时候，可以自定义内容到插槽里面，如下代码：</p>
<p><img src="/../pic/image-20230607222136110.png" alt="image-20230607222136110"></p>
<h4 id="没有预留插槽的内容会被丢弃"><a href="#没有预留插槽的内容会被丢弃" class="headerlink" title="没有预留插槽的内容会被丢弃"></a>没有预留插槽的内容会被丢弃</h4><p>如果在封装组件时没有预留任何<code> &lt;slot&gt;</code> 插槽，则用户提供的任何自定义内容都会被丢弃。示例代码如下：</p>
<p><img src="/../pic/image-20230607222210990.png" alt="image-20230607222210990"></p>
<p>如果没有预留插槽，我们的内容会丢失，如下代码使用：</p>
<p><img src="/../pic/image-20230607222243709.png" alt="image-20230607222243709"></p>
<h4 id="后备内容"><a href="#后备内容" class="headerlink" title="后备内容"></a>后备内容</h4><p>封装组件时，可以为预留的 <code>&lt;slot&gt;</code> 插槽提供后备内容（默认内容）。如果组件的使用者没有为插槽提供任何内容，则后备内容会生效。示例代码如下：</p>
<p><img src="/../pic/image-20230607222344370.png" alt="image-20230607222344370"></p>
<h3 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h3><p>如果在封装组件时需要预留<strong>多个插槽节点</strong>，则需要为每个<code>&lt;slot&gt;</code>插槽指定具体的name 名称。这种带有具体名称的插槽叫做“具名插槽”。示例代码如下：</p>
<p><img src="/../pic/image-20230607222427225.png" alt="image-20230607222427225"></p>
<p>注意：没有指定 name 名称的插槽，会有隐含的名称叫做 “default”。</p>
<h4 id="为具名插槽提供内容"><a href="#为具名插槽提供内容" class="headerlink" title="为具名插槽提供内容"></a>为具名插槽提供内容</h4><p>在向具名插槽提供内容的时候，我们可以在一个 <code>&lt;template&gt; </code>元素上使用v-slot 指令（但是注意：v-slot 指令只能用在template标签上或者是我们自定义的组件上！！！），并以v-slot 的参数的形式提供其名称。示例代码如下：</p>
<p><img src="/../pic/image-20230607222523958.png" alt="image-20230607222523958"></p>
<p>template这个标签，它是一个虚拟的标签，不会渲染到页面上，只起到标识渲染到的位置的作用</p>
<h4 id="具名插槽的简写形式"><a href="#具名插槽的简写形式" class="headerlink" title="具名插槽的简写形式"></a>具名插槽的简写形式</h4><p>跟 v-on 和 v-bind 一样，v-slot 也有缩写，即把参数之前的所有内容(v-slot:) 替换为字符#。</p>
<p>例如v-slot:header可以被重写为#header，所以上面的代码可以改成：</p>
<p><img src="/../pic/image-20230607222621452.png" alt="image-20230607222621452"></p>
<h3 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h3><p>在封装组件的过程中，可以为预留的<code> &lt;slot&gt;</code> 插槽绑定props 数据，这种带有props 数据的 <code>&lt;slot&gt; </code>叫做“作用域插槽”。示例代码如下：</p>
<p><img src="/../pic/image-20230607222647680.png" alt="image-20230607222647680"></p>
<p><img src="/../pic/image-20230607222701141.png" alt="image-20230607222701141"></p>
<h4 id="使用作用域插槽"><a href="#使用作用域插槽" class="headerlink" title="使用作用域插槽"></a>使用作用域插槽</h4><p>可以使用v-slot: 的形式，<strong>接收</strong>作用域插槽对外提供的数据。示例代码如下：</p>
<p><img src="/../pic/image-20230607222715275.png" alt="image-20230607222715275"></p>
<h4 id="解构插槽"><a href="#解构插槽" class="headerlink" title="解构插槽"></a>解构插槽</h4><p>Prop作用域插槽对外提供的数据对象，可以使用解构赋值简化数据的接收过程。示例代码如下：</p>
<p><img src="/../pic/image-20230607222731282.png" alt="image-20230607222731282"></p>
<h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><p>涉及到多组件共享数据（既读又写）的话，全局事件总线就显得有点麻烦了</p>
<p>所以我们需要Vuex了</p>
<p><img src="/../pic/vuex.png" alt="vuex"></p>
<h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h3><ol>
<li><p>专门在 Vue 中实现集中式状态（数据）管理的一个 Vue 插件，对 vue 应用中多个组件的共享状态进行集中式的管理（读&#x2F;写），也是一种组件间通信的方式，且适用于任意组件间通信。</p>
</li>
<li><p>Github 地址: <a target="_blank" rel="noopener" href="https://github.com/vuejs/vuex">https://github.com/vuejs/vuex</a></p>
</li>
</ol>
<p>​    这里需要注意的是</p>
<ul>
<li>vue2中，要用vuex的3版本</li>
<li>vue3中，要用vuex的4版本</li>
</ul>
<h3 id="2-什么时候使用-Vuex"><a href="#2-什么时候使用-Vuex" class="headerlink" title="2.什么时候使用 Vuex"></a>2.什么时候使用 Vuex</h3><ol>
<li><p>多个组件依赖于同一状态</p>
</li>
<li><p>来自不同组件的行为需要变更同一状态</p>
</li>
</ol>
<p><img src="/../pic/image-20230614112930743.png" alt="image-20230614112930743"></p>
<h3 id="3-搭建vuex环境"><a href="#3-搭建vuex环境" class="headerlink" title="3.搭建vuex环境"></a>3.搭建vuex环境</h3><ol>
<li><p>创建文件：<code>src/store/index.js</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引入Vue核心库</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//引入Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//应用Vuex插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//准备actions对象——响应组件中用户的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;&#125;</span><br><span class="line"><span class="comment">//准备mutations对象——修改state中的数据</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"><span class="comment">//准备state对象——保存具体的数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="comment">//这里面是配置对象的内容</span></span><br><span class="line">   actions,</span><br><span class="line">   mutations,</span><br><span class="line">   state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>main.js</code>中创建vm时传入<code>store</code>配置项</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">......</span><br><span class="line"><span class="comment">//引入store</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建vm</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">   <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">   store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-基本使用"><a href="#4-基本使用" class="headerlink" title="4.基本使用"></a>4.基本使用</h3><ol>
<li><p>初始化数据、配置<code>actions</code>、配置<code>mutations</code>，操作文件<code>store.js</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引入Vue核心库</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//引入Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//引用Vuex</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="comment">//响应组件中加的动作</span></span><br><span class="line">    <span class="comment">//这里面有两个参数，一个叫context，是一个ministore</span></span><br><span class="line">   <span class="title function_">jia</span>(<span class="params">context,value</span>)&#123;</span><br><span class="line">		<span class="comment">//注意这里是大写！！</span></span><br><span class="line">       context.<span class="title function_">commit</span>(<span class="string">&#x27;JIA&#x27;</span>,value)</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="comment">//执行加</span></span><br><span class="line">   <span class="title function_">JIA</span>(<span class="params">state,value</span>)&#123;</span><br><span class="line">      <span class="comment">// console.log(&#x27;mutations中的JIA被调用了&#x27;,state,value)</span></span><br><span class="line">      state.<span class="property">sum</span> += value</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">   <span class="attr">sum</span>:<span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">   actions,</span><br><span class="line">   mutations,</span><br><span class="line">   state,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>组件中读取vuex中的数据：<code>$store.state.sum</code><img src="/../pic/image-20230614153442030.png" alt="image-20230614153442030"></p>
</li>
<li><p>组件中修改vuex中的数据：<code>$store.dispatch(&#39;action中的方法名&#39;,数据)</code> 或 <code>$store.commit(&#39;mutations中的方法名&#39;,数据)</code></p>
<blockquote>
<p> 备注：若没有网络请求或其他业务逻辑，组件中也可 以越过actions，即不写<code>dispatch</code>，直接编写<code>commit</code></p>
<p> <img src="/../pic/image-20230614154133839.png" alt="image-20230614154133839"></p>
<p> 比如下面的代码：</p>
<p> store&#x2F;index.js</p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//引入Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//应用Vuex插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//准备actions——用于响应组件中的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">	<span class="comment">/* jia(context,value)&#123;</span></span><br><span class="line"><span class="comment">		console.log(&#x27;actions中的jia被调用了&#x27;)</span></span><br><span class="line"><span class="comment">		context.commit(&#x27;JIA&#x27;,value)</span></span><br><span class="line"><span class="comment">	&#125;,</span></span><br><span class="line"><span class="comment">	jian(context,value)&#123;</span></span><br><span class="line"><span class="comment">		console.log(&#x27;actions中的jian被调用了&#x27;)</span></span><br><span class="line"><span class="comment">		context.commit(&#x27;JIAN&#x27;,value)</span></span><br><span class="line"><span class="comment">	&#125;, */</span></span><br><span class="line">	<span class="title function_">jiaOdd</span>(<span class="params">context,value</span>)&#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;actions中的jiaOdd被调用了&#x27;</span>)</span><br><span class="line">		<span class="keyword">if</span>(context.<span class="property">state</span>.<span class="property">sum</span> % <span class="number">2</span>)&#123;</span><br><span class="line">			context.<span class="title function_">commit</span>(<span class="string">&#x27;JIA&#x27;</span>,value)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="title function_">jiaWait</span>(<span class="params">context,value</span>)&#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;actions中的jiaWait被调用了&#x27;</span>)</span><br><span class="line">		<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">			context.<span class="title function_">commit</span>(<span class="string">&#x27;JIA&#x27;</span>,value)</span><br><span class="line">		&#125;,<span class="number">500</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//准备mutations——用于操作数据（state）</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">	<span class="title function_">JIA</span>(<span class="params">state,value</span>)&#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIA被调用了&#x27;</span>)</span><br><span class="line">		state.<span class="property">sum</span> += value</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="title function_">JIAN</span>(<span class="params">state,value</span>)&#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutations中的JIAN被调用了&#x27;</span>)</span><br><span class="line">		state.<span class="property">sum</span> -= value</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//准备state——用于存储数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">	<span class="attr">sum</span>:<span class="number">0</span> <span class="comment">//当前的和</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">	actions,</span><br><span class="line">	mutations,</span><br><span class="line">	state,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p> count.vue</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">		&lt;h1&gt;当前求和为：&#123;&#123;$store.state.sum&#125;&#125;&lt;/h1&gt;</span><br><span class="line">		&lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">			&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">		&lt;/select&gt;</span><br><span class="line">		&lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementOdd&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementWait&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;Count&#x27;,</span><br><span class="line">		data() &#123;</span><br><span class="line">			return &#123;</span><br><span class="line">				n:1, //用户选择的数字</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		methods: &#123;</span><br><span class="line">			//这里直接跳过了服务员，直接到了后厨</span><br><span class="line">			increment()&#123;</span><br><span class="line">				this.$store.commit(&#x27;JIA&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">			decrement()&#123;</span><br><span class="line">				this.$store.commit(&#x27;JIAN&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">			incrementOdd()&#123;</span><br><span class="line">				this.$store.dispatch(&#x27;jiaOdd&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">			incrementWait()&#123;</span><br><span class="line">				this.$store.dispatch(&#x27;jiaWait&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;,</span><br><span class="line">		mounted() &#123;</span><br><span class="line">			console.log(&#x27;Count&#x27;,this)</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;css&quot;&gt;</span><br><span class="line">	button&#123;</span><br><span class="line">		margin-left: 5px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</blockquote>
</li>
</ol>
<h3 id="5-getters的使用"><a href="#5-getters的使用" class="headerlink" title="5.getters的使用"></a>5.getters的使用</h3><blockquote>
<p>这个东西和计算属性的区别，就是计算属性只能在自己的单个组件里面使用，而getters配置的计算每一个组件都能使用，可以理解为就是vuex里面的计算属性</p>
</blockquote>
<ol>
<li><p>概念：当state中的数据需要经过加工后再使用时，可以使用getters加工。</p>
</li>
<li><p>在<code>store/index.js</code>中追加<code>getters</code>配置 </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">......</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">   <span class="title function_">bigSum</span>(<span class="params">state</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">sum</span> * <span class="number">10</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">   ......</span><br><span class="line">   getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>组件中读取数据：<code>$store.getters.bigSum</code></p>
</li>
</ol>
<h3 id="6-四个map方法的使用"><a href="#6-四个map方法的使用" class="headerlink" title="6.四个map方法的使用"></a>6.四个map方法的使用</h3><blockquote>
<p>这个东西只是为了简化我们写变量的功夫</p>
</blockquote>
<ol>
<li><p><strong>mapState方法：</strong>用于帮助我们映射<code>state</code>中的数据为计算属性</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="comment">//借助mapState生成计算属性：sum、school、subject（对象写法）</span></span><br><span class="line">     ...<span class="title function_">mapState</span>(&#123;<span class="attr">sum</span>:<span class="string">&#x27;sum&#x27;</span>,<span class="attr">school</span>:<span class="string">&#x27;school&#x27;</span>,<span class="attr">subject</span>:<span class="string">&#x27;subject&#x27;</span>&#125;),</span><br><span class="line">         </span><br><span class="line">    <span class="comment">//借助mapState生成计算属性：sum、school、subject（数组写法）</span></span><br><span class="line">    ...<span class="title function_">mapState</span>([<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>]),</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>mapGetters方法：</strong>用于帮助我们映射<code>getters</code>中的数据为计算属性</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="comment">//借助mapGetters生成计算属性：bigSum（对象写法）</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>(&#123;<span class="attr">bigSum</span>:<span class="string">&#x27;bigSum&#x27;</span>&#125;),</span><br><span class="line"></span><br><span class="line">    <span class="comment">//借助mapGetters生成计算属性：bigSum（数组写法）</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;bigSum&#x27;</span>])</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">		&lt;h1&gt;当前求和为：&#123;&#123;sum&#125;&#125;&lt;/h1&gt;</span><br><span class="line">		&lt;h3&gt;当前求和放大10倍为：&#123;&#123;bigSum&#125;&#125;&lt;/h3&gt;</span><br><span class="line">		&lt;h3&gt;我在&#123;&#123;school&#125;&#125;，学习&#123;&#123;subject&#125;&#125;&lt;/h3&gt;</span><br><span class="line">		&lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">			&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">		&lt;/select&gt;</span><br><span class="line">		&lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementOdd&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementWait&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;mapState,mapGetters&#125; from &#x27;vuex&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;Count&#x27;,</span><br><span class="line">		data() &#123;</span><br><span class="line">			return &#123;</span><br><span class="line">				n:1, //用户选择的数字</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		computed:&#123;</span><br><span class="line">			//靠程序员自己亲自去写计算属性</span><br><span class="line">			/* sum()&#123;</span><br><span class="line">				return this.$store.state.sum</span><br><span class="line">			&#125;,</span><br><span class="line">			school()&#123;</span><br><span class="line">				return this.$store.state.school</span><br><span class="line">			&#125;,</span><br><span class="line">			subject()&#123;</span><br><span class="line">				return this.$store.state.subject</span><br><span class="line">			&#125;, */</span><br><span class="line"></span><br><span class="line">			//借助mapState生成计算属性，从state中读取数据。（对象写法）</span><br><span class="line">			// ...mapState(&#123;he:&#x27;sum&#x27;,xuexiao:&#x27;school&#x27;,xueke:&#x27;subject&#x27;&#125;),</span><br><span class="line"></span><br><span class="line">			//借助mapState生成计算属性，从state中读取数据。（数组写法）</span><br><span class="line">			...mapState([&#x27;sum&#x27;,&#x27;school&#x27;,&#x27;subject&#x27;]),</span><br><span class="line"></span><br><span class="line">			/* ******************************************************************** */</span><br><span class="line"></span><br><span class="line">			/* bigSum()&#123;</span><br><span class="line">				return this.$store.getters.bigSum</span><br><span class="line">			&#125;, */</span><br><span class="line"></span><br><span class="line">			//借助mapGetters生成计算属性，从getters中读取数据。（对象写法）</span><br><span class="line">			// ...mapGetters(&#123;bigSum:&#x27;bigSum&#x27;&#125;)</span><br><span class="line">			</span><br><span class="line">			//借助mapGetters生成计算属性，从getters中读取数据。（数组写法）</span><br><span class="line">			...mapGetters([&#x27;bigSum&#x27;])</span><br><span class="line"></span><br><span class="line">		&#125;,</span><br><span class="line">		methods: &#123;</span><br><span class="line">			increment()&#123;</span><br><span class="line">				this.$store.commit(&#x27;JIA&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">			decrement()&#123;</span><br><span class="line">				this.$store.commit(&#x27;JIAN&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">			incrementOdd()&#123;</span><br><span class="line">				this.$store.dispatch(&#x27;jiaOdd&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">			incrementWait()&#123;</span><br><span class="line">				this.$store.dispatch(&#x27;jiaWait&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;,</span><br><span class="line">		mounted() &#123;</span><br><span class="line">			const x = mapState(&#123;he:&#x27;sum&#x27;,xuexiao:&#x27;school&#x27;,xueke:&#x27;subject&#x27;&#125;)</span><br><span class="line">			console.log(x)</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;css&quot;&gt;</span><br><span class="line">	button&#123;</span><br><span class="line">		margin-left: 5px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<ol>
<li><p><strong>mapActions方法：</strong>用于帮助我们生成与<code>actions</code>对话的方法，即：包含<code>$store.dispatch(xxx)</code>的函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="comment">//靠mapActions生成：incrementOdd、incrementWait（对象形式）</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>(&#123;<span class="attr">incrementOdd</span>:<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="attr">incrementWait</span>:<span class="string">&#x27;jiaWait&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//靠mapActions生成：incrementOdd、incrementWait（数组形式）</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>([<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="string">&#x27;jiaWait&#x27;</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>mapMutations方法：</strong>用于帮助我们生成与<code>mutations</code>对话的方法，即：包含<code>$store.commit(xxx)</code>的函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="comment">//靠mapActions生成：increment、decrement（对象形式）</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>(&#123;<span class="attr">increment</span>:<span class="string">&#x27;JIA&#x27;</span>,<span class="attr">decrement</span>:<span class="string">&#x27;JIAN&#x27;</span>&#125;),</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//靠mapMutations生成：JIA、JIAN（对象形式）</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>([<span class="string">&#x27;JIA&#x27;</span>,<span class="string">&#x27;JIAN&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>备注：mapActions与mapMutations使用时，若需要传递参数需要：在模板中绑定事件时传递好参数，否则参数是事件对象。</p>
</blockquote>
<p>具体使用的时候需要先引入  import {mapState} from ‘vuex’</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">		&lt;h1&gt;当前求和为：&#123;&#123;sum&#125;&#125;&lt;/h1&gt;</span><br><span class="line">		&lt;h3&gt;当前求和放大10倍为：&#123;&#123;bigSum&#125;&#125;&lt;/h3&gt;</span><br><span class="line">		&lt;h3&gt;我在&#123;&#123;school&#125;&#125;，学习&#123;&#123;subject&#125;&#125;&lt;/h3&gt;</span><br><span class="line">		&lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">			&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">		&lt;/select&gt;</span><br><span class="line">		&lt;button @click=&quot;increment(n)&quot;&gt;+&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;decrement(n)&quot;&gt;-&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementOdd(n)&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementWait(n)&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;mapState,mapGetters,mapMutations,mapActions&#125; from &#x27;vuex&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;Count&#x27;,</span><br><span class="line">		data() &#123;</span><br><span class="line">			return &#123;</span><br><span class="line">				n:1, //用户选择的数字</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		computed:&#123;</span><br><span class="line">			//借助mapState生成计算属性，从state中读取数据。（对象写法）</span><br><span class="line">			// ...mapState(&#123;he:&#x27;sum&#x27;,xuexiao:&#x27;school&#x27;,xueke:&#x27;subject&#x27;&#125;),</span><br><span class="line"></span><br><span class="line">			//借助mapState生成计算属性，从state中读取数据。（数组写法）</span><br><span class="line">			...mapState([&#x27;sum&#x27;,&#x27;school&#x27;,&#x27;subject&#x27;]),</span><br><span class="line"></span><br><span class="line">			/* ******************************************************************** */</span><br><span class="line"></span><br><span class="line">			//借助mapGetters生成计算属性，从getters中读取数据。（对象写法）</span><br><span class="line">			// ...mapGetters(&#123;bigSum:&#x27;bigSum&#x27;&#125;)</span><br><span class="line">			</span><br><span class="line">			//借助mapGetters生成计算属性，从getters中读取数据。（数组写法）</span><br><span class="line">			...mapGetters([&#x27;bigSum&#x27;])</span><br><span class="line"></span><br><span class="line">		&#125;,</span><br><span class="line">		methods: &#123;</span><br><span class="line">			//程序员亲自写方法</span><br><span class="line">			/* increment()&#123;</span><br><span class="line">				this.$store.commit(&#x27;JIA&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">			decrement()&#123;</span><br><span class="line">				this.$store.commit(&#x27;JIAN&#x27;,this.n)</span><br><span class="line">			&#125;, */</span><br><span class="line"></span><br><span class="line">			//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(对象写法)</span><br><span class="line">			...mapMutations(&#123;increment:&#x27;JIA&#x27;,decrement:&#x27;JIAN&#x27;&#125;),</span><br><span class="line"></span><br><span class="line">			//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(数组写法)</span><br><span class="line">			// ...mapMutations([&#x27;JIA&#x27;,&#x27;JIAN&#x27;]),</span><br><span class="line"></span><br><span class="line">			/* ************************************************* */</span><br><span class="line"></span><br><span class="line">			//程序员亲自写方法</span><br><span class="line">			/* incrementOdd()&#123;</span><br><span class="line">				this.$store.dispatch(&#x27;jiaOdd&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">			incrementWait()&#123;</span><br><span class="line">				this.$store.dispatch(&#x27;jiaWait&#x27;,this.n)</span><br><span class="line">			&#125;, */</span><br><span class="line"></span><br><span class="line">			//借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)</span><br><span class="line">			...mapActions(&#123;incrementOdd:&#x27;jiaOdd&#x27;,incrementWait:&#x27;jiaWait&#x27;&#125;)</span><br><span class="line"></span><br><span class="line">			//借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(数组写法)</span><br><span class="line">			// ...mapActions([&#x27;jiaOdd&#x27;,&#x27;jiaWait&#x27;])</span><br><span class="line">		&#125;,</span><br><span class="line">		mounted() &#123;</span><br><span class="line">			const x = mapState(&#123;he:&#x27;sum&#x27;,xuexiao:&#x27;school&#x27;,xueke:&#x27;subject&#x27;&#125;)</span><br><span class="line">			console.log(x)</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;css&quot;&gt;</span><br><span class="line">	button&#123;</span><br><span class="line">		margin-left: 5px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="7-模块化-命名空间"><a href="#7-模块化-命名空间" class="headerlink" title="7.模块化+命名空间"></a>7.模块化+命名空间</h3><ol>
<li><p>目的：让代码更好维护，让多种数据分类更加明确。</p>
</li>
<li><p>修改<code>store.js</code>  </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> countAbout = &#123;</span><br><span class="line">  <span class="attr">namespaced</span>:<span class="literal">true</span>,<span class="comment">//开启命名空间</span></span><br><span class="line">  <span class="attr">state</span>:&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="title function_">bigSum</span>(<span class="params">state</span>)&#123;</span><br><span class="line">       <span class="keyword">return</span> state.<span class="property">sum</span> * <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> personAbout = &#123;</span><br><span class="line">  <span class="attr">namespaced</span>:<span class="literal">true</span>,<span class="comment">//开启命名空间</span></span><br><span class="line">  <span class="attr">state</span>:&#123; ... &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    countAbout,</span><br><span class="line">    personAbout</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>开启命名空间后，组件中读取state数据：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接读取</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">personAbout</span>.<span class="property">list</span></span><br><span class="line"><span class="comment">//方式二：借助mapState读取：</span></span><br><span class="line">...<span class="title function_">mapState</span>(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>]),</span><br></pre></td></tr></table></figure>
</li>
<li><p>开启命名空间后，组件中读取getters数据：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接读取</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>[<span class="string">&#x27;personAbout/firstPersonName&#x27;</span>]</span><br><span class="line"><span class="comment">//方式二：借助mapGetters读取：</span></span><br><span class="line">...<span class="title function_">mapGetters</span>(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;bigSum&#x27;</span>])</span><br></pre></td></tr></table></figure>
</li>
<li><p>开启命名空间后，组件中调用dispatch</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接dispatch</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;personAbout/addPersonWang&#x27;</span>,person)</span><br><span class="line"><span class="comment">//方式二：借助mapActions：</span></span><br><span class="line">...<span class="title function_">mapActions</span>(<span class="string">&#x27;countAbout&#x27;</span>,&#123;<span class="attr">incrementOdd</span>:<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="attr">incrementWait</span>:<span class="string">&#x27;jiaWait&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>开启命名空间后，组件中调用commit</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接commit</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;personAbout/ADD_PERSON&#x27;</span>,person)</span><br><span class="line"><span class="comment">//方式二：借助mapMutations：</span></span><br><span class="line">...<span class="title function_">mapMutations</span>(<span class="string">&#x27;countAbout&#x27;</span>,&#123;<span class="attr">increment</span>:<span class="string">&#x27;JIA&#x27;</span>,<span class="attr">decrement</span>:<span class="string">&#x27;JIAN&#x27;</span>&#125;),</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="自定义指令-1"><a href="#自定义指令-1" class="headerlink" title="自定义指令"></a>自定义指令</h2><h3 id="什么是自定义指令"><a href="#什么是自定义指令" class="headerlink" title="什么是自定义指令"></a>什么是自定义指令</h3><p>vue 官方提供了v-text、v-for、v-model、v-if 等常用的指令。除此之外vue 还允许开发者自定义指令。</p>
<h3 id="自定义指令的分类"><a href="#自定义指令的分类" class="headerlink" title="自定义指令的分类"></a>自定义指令的分类</h3><p>vue 中的自定义指令分为两类，分别是：</p>
<ol>
<li>私有自定义指令</li>
<li>全局自定义指令</li>
</ol>
<h3 id="私有自定义指令"><a href="#私有自定义指令" class="headerlink" title="私有自定义指令"></a>私有自定义指令</h3><p>在每个vue 组件中，可以在directives 节点（这个节点和data，methods节点都是平级的）下声明私有自定义指令。示例代码如下：</p>
<p><img src="/../pic/image-20230608094756502.png" alt="image-20230608094756502"></p>
<p>这个bind函数的触发时机就是当使用这个自定义指令的时候会执行</p>
<h3 id="使用自定义指令"><a href="#使用自定义指令" class="headerlink" title="使用自定义指令"></a>使用自定义指令</h3><p>在使用自定义指令时，需要加上v- 前缀。示例代码如下：</p>
<p><img src="/../pic/image-20230608094821852.png" alt="image-20230608094821852"></p>
<h3 id="为自定义指令动态绑定参数值"><a href="#为自定义指令动态绑定参数值" class="headerlink" title="为自定义指令动态绑定参数值"></a>为自定义指令动态绑定参数值</h3><p>在 template 结构中使用自定义指令时，可以通过等号（&#x3D;）的方式，为当前指令动态绑定参数值：</p>
<p><img src="/../pic/image-20230608094841723.png" alt="image-20230608094841723"></p>
<h3 id="通过-binding-获取指令的参数值"><a href="#通过-binding-获取指令的参数值" class="headerlink" title="通过 binding 获取指令的参数值"></a>通过 binding 获取指令的参数值</h3><p>在声明自定义指令时，可以通过形参中的第二个参数，来接收指令的参数值：</p>
<p><img src="/../pic/image-20230608094907060.png" alt="image-20230608094907060"></p>
<h3 id="update-函数"><a href="#update-函数" class="headerlink" title="update 函数"></a>update 函数</h3><p>之前我们不是把颜色的值放在了data里面嘛，如果我们想改这个值，那我们可以正常改，但是发现颜色并不会改变，因为bind函数里面的逻辑只在初始化的时候执行</p>
<p>bind 函数只在初始化的时候调用 1 次：当指令第一次绑定到元素时调用，当 DOM 更新时bind 函数不会被触发。 update 函数（这个update函数跟生命周期那个函数不一样）会在每次 DOM 更新时被调用。示例代码如下：</p>
<p><img src="/../pic/image-20230608094930824.png" alt="image-20230608094930824"></p>
<h3 id="函数简写"><a href="#函数简写" class="headerlink" title="函数简写"></a>函数简写</h3><p>如果 bind和update 函数中的逻辑完全相同，则对象格式的自定义指令可以简写成函数格式：</p>
<p><img src="/../pic/image-20230608095059804.png" alt="image-20230608095059804"></p>
<h3 id="全局自定义指令"><a href="#全局自定义指令" class="headerlink" title="全局自定义指令"></a>全局自定义指令</h3><p>全局共享的自定义指令需要通过“Vue.directive()”进行声明，示例代码如下：</p>
<p><img src="/../pic/image-20230608095111296.png" alt="image-20230608095111296"></p>
<p>上面是简化写法，这个是完整写法</p>
<p><img src="/../pic/image-20230608095120684.png" alt="image-20230608095120684"></p>
<p>这个和定义全局过滤器差不多</p>
<p>axios补充，还没弄完</p>
<p><img src="/../pic/image-20230608122337672.png" alt="image-20230608122337672"><img src="/../pic/image-20230608122402552.png" alt="image-20230608122402552"></p>
<p><img src="/../pic/image-20230608123051826.png" alt="image-20230608123051826"></p>
<p><img src="/../pic/image-20230608123104045.png" alt="image-20230608123104045"></p>
<h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><p>vue-router4只能用在vue3中</p>
<p>vue-router3只能用在vue2中</p>
<h3 id="前端路由的概念与原理"><a href="#前端路由的概念与原理" class="headerlink" title="前端路由的概念与原理"></a>前端路由的概念与原理</h3><p>路由（英文：router）就是页面hash与组件的对应关系。</p>
<h4 id="SPA-与前端路由"><a href="#SPA-与前端路由" class="headerlink" title="SPA 与前端路由"></a>SPA 与前端路由</h4><p>SPA 指的是一个web 网站只有唯一的一个HTML 页面，所有组件的展示与切换都在这唯一的一个页面内完成。此时，不同组件之间的切换需要通过前端路由来实现。</p>
<p>结论：在 SPA 项目中，不同功能之间的切换，要依赖于前端路由来完成！</p>
<h4 id="锚链接实现"><a href="#锚链接实现" class="headerlink" title="锚链接实现"></a>锚链接实现</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">锚链接：</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#b1</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#b2</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#b3</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: orange;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#b4</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.side-bar</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;side-bar&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#b1&quot;</span>&gt;</span>b1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#b2&quot;</span>&gt;</span>b2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#b3&quot;</span>&gt;</span>b3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#b4&quot;</span>&gt;</span>b4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">id</span>=<span class="string">&quot;b1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">id</span>=<span class="string">&quot;b2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">id</span>=<span class="string">&quot;b3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">id</span>=<span class="string">&quot;b4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="前端路由的工作方式"><a href="#前端路由的工作方式" class="headerlink" title="前端路由的工作方式"></a>前端路由的工作方式</h4><p>①	用户点击了页面上的路由链接</p>
<p>②	导致了 URL 地址栏中的Hash 值发生了变化</p>
<p>③	前端路由监听了到Hash 地址的变化</p>
<p>④	前端路由把当前 Hash 地址对应的组件渲染都浏览器中</p>
<p><img src="/../pic/image-20230608135746288.png" alt="image-20230608135746288"></p>
<p>结论：前端路由，指的是Hash 地址与组件之间的对应关系！</p>
<h4 id="实现简易的前端路由"><a href="#实现简易的前端路由" class="headerlink" title="实现简易的前端路由"></a>实现简易的前端路由</h4><p>步骤1：通过 <code>&lt;component&gt;</code> 标签，结合comName 动态渲染组件。示例代码如下：</p>
<p><img src="/../pic/image-20230608135808481.png" alt="image-20230608135808481"></p>
<p>步骤2：在App.vue 组件中，为<code>&lt;a&gt;</code> 链接添加对应的hash 值：</p>
<p><img src="/../pic/image-20230608135819924.png" alt="image-20230608135819924"></p>
<p>步骤3：在created 生命周期函数中，监听浏览器地址栏中hash 地址的变化，动态切换要展示的组件的名称：</p>
<p><img src="/../pic/image-20230608135927081.png" alt="image-20230608135927081"></p>
<p>代码实现：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app-container&quot;&gt;</span><br><span class="line">    &lt;h1&gt;App 根组件&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">    &lt;a href=&quot;#/home&quot;&gt;首页&lt;/a&gt;</span><br><span class="line">    &lt;a href=&quot;#/movie&quot;&gt;电影&lt;/a&gt;</span><br><span class="line">    &lt;a href=&quot;#/about&quot;&gt;关于&lt;/a&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;component :is=&quot;comName&quot;&gt;&lt;/component&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 导入组件</span><br><span class="line">import Home from &quot;@/components/Home.vue&quot;;</span><br><span class="line">import Movie from &quot;@/components/Movie.vue&quot;;</span><br><span class="line">import About from &quot;@/components/About.vue&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      // 在动态组件的位置，要展示的组件的名字，值必须是字符串</span><br><span class="line">      comName: &quot;Home&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    // 只要当前的 App 组件一被创建，就立即监听 window 对象的 onhashchange 事件</span><br><span class="line">    window.onhashchange = () =&gt; &#123;</span><br><span class="line">      console.log(&quot;监听到了 hash 地址的变化&quot;, location.hash);</span><br><span class="line">      switch (location.hash) &#123;</span><br><span class="line">        case &quot;#/home&quot;:</span><br><span class="line">          this.comName = &quot;Home&quot;;</span><br><span class="line">          break;</span><br><span class="line">        case &quot;#/movie&quot;:</span><br><span class="line">          this.comName = &quot;Movie&quot;;</span><br><span class="line">          break;</span><br><span class="line">        case &quot;#/about&quot;:</span><br><span class="line">          this.comName = &quot;About&quot;;</span><br><span class="line">          break;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  // 注册组件</span><br><span class="line">  components: &#123;</span><br><span class="line">    Home,</span><br><span class="line">    Movie,</span><br><span class="line">    About,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">.app-container &#123;</span><br><span class="line">  background-color: #efefef;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  margin: 10px;</span><br><span class="line">  padding: 15px;</span><br><span class="line">  &gt; a &#123;</span><br><span class="line">    margin-right: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="vue-router-的基本用法"><a href="#vue-router-的基本用法" class="headerlink" title="vue-router 的基本用法"></a>vue-router 的基本用法</h3><h4 id="在项目中安装-vue-router"><a href="#在项目中安装-vue-router" class="headerlink" title="在项目中安装 vue-router"></a>在项目中安装 vue-router</h4><p>在 vue2 的项目中，安装vue-router 的命令如下：</p>
<p><img src="/../pic/image-20230608162724011.png" alt="image-20230608162724011"></p>
<h4 id="创建路由模块"><a href="#创建路由模块" class="headerlink" title="创建路由模块"></a>创建路由模块</h4><p>在 src 源代码目录下，新建router&#x2F;index.js 路由模块，并初始化如下的代码：</p>
<p><img src="/../pic/image-20230608162740833.png" alt="image-20230608162740833"></p>
<h4 id="导入并挂载路由模块"><a href="#导入并挂载路由模块" class="headerlink" title="导入并挂载路由模块"></a>导入并挂载路由模块</h4><p>在 src&#x2F;main.js 入口文件中，导入并挂载路由模块。示例代码如下：</p>
<p><img src="/../pic/image-20230608162755899.png" alt="image-20230608162755899"></p>
<h4 id="声明路由链接和占位符"><a href="#声明路由链接和占位符" class="headerlink" title="声明路由链接和占位符"></a>声明路由链接和占位符</h4><p>在 src&#x2F;App.vue 组件中，使用vue-router 提供的 <code>&lt;router-link&gt;</code> 和 <code>&lt;router-view&gt;</code> 声明<strong>路由链接</strong>和<strong>占位符</strong>：</p>
<p><img src="/../pic/image-20230608162818705.png" alt="image-20230608162818705"></p>
<h4 id="声明路由的匹配规则"><a href="#声明路由的匹配规则" class="headerlink" title="声明路由的匹配规则"></a>声明路由的匹配规则</h4><p>在 src&#x2F;router&#x2F;index.js 路由模块中，通过routes 数组声明路由的匹配规则。示例代码如下：</p>
<p><img src="/../pic/image-20230608162842908.png" alt="image-20230608162842908"></p>
<h3 id="vue-router-的常见用法"><a href="#vue-router-的常见用法" class="headerlink" title="vue-router 的常见用法"></a>vue-router 的常见用法</h3><h4 id="路由重定向"><a href="#路由重定向" class="headerlink" title="路由重定向"></a>路由重定向</h4><p>路由重定向指的是：用户在访问地址 A 的时候，强制用户跳转到地址C ，从而展示特定的组件页面。通过路由规则的redirect 属性，指定一个新的路由地址，可以很方便地设置路由的重定向：</p>
<p><img src="/../pic/image-20230608162909465.png" alt="image-20230608162909465"></p>
<h4 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h4><p>通过路由实现组件的嵌套展示，叫做嵌套路由。</p>
<p>简单来说就是路由里面又有路由（套娃）</p>
<p><img src="/../pic/image-20230608162946257.png" alt="image-20230608162946257"></p>
<h5 id="声明子路由链接和子路由占位符"><a href="#声明子路由链接和子路由占位符" class="headerlink" title="声明子路由链接和子路由占位符"></a>声明子路由链接和子路由占位符</h5><p>在 About.vue 组件中，声明tab1 和 tab2 的子路由链接以及子路由占位符。示例代码如下：</p>
<p><img src="/../pic/image-20230608163032603.png" alt="image-20230608163032603"></p>
<h5 id="通过-children-属性声明子路由规则"><a href="#通过-children-属性声明子路由规则" class="headerlink" title="通过 children 属性声明子路由规则"></a>通过 children 属性声明子路由规则</h5><p>在 src&#x2F;router&#x2F;index.js 路由模块中，导入需要的组件，并使用children 属性声明子路由规则：</p>
<p><img src="/../pic/image-20230608163126689.png" alt="image-20230608163126689"></p>
<p>配置子路由的默认跳转页面：</p>
<p><img src="/../pic/image-20230608163148719.png" alt="image-20230608163148719"></p>
<h4 id="动态路由匹配"><a href="#动态路由匹配" class="headerlink" title="动态路由匹配"></a>动态路由匹配</h4><p>思考：有如下 3 个路由链接：</p>
<p><img src="/../pic/image-20230608163208297.png" alt="image-20230608163208297"></p>
<p>定义如下 3 个路由规则，是否可行? </p>
<ul>
<li>是可行的，就是复用性太差了，所以我们需要动态路由</li>
</ul>
<p><img src="/../pic/image-20230608163225677.png" alt="image-20230608163225677"></p>
<h5 id="动态路由的概念"><a href="#动态路由的概念" class="headerlink" title="动态路由的概念"></a>动态路由的概念</h5><p>动态路由指的是：把Hash 地址中可变的部分定义为参数项，从而提高路由规则的复用性。在 vue-router 中使用英文的冒号（:）来定义路由的参数项。所以需要修改router&#x2F;index.js中的文件</p>
<h5 id="route-params-参数对象"><a href="#route-params-参数对象" class="headerlink" title="$route.params 参数对象"></a>$route.params 参数对象</h5><p>首先要改router&#x2F;index.js中的代码，注意，下面的代码只需要写第二行一行就可以了</p>
<p>router&#x2F;index.js</p>
<p><img src="/../pic/image-20230617134936521.png" alt="image-20230617134936521"></p>
<p>传参的话需要在</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;router-link :to=&quot;/movie/1&quot;&gt;</span><br><span class="line">	movie1</span><br><span class="line">&lt;router-link/&gt;</span><br><span class="line">&lt;router-link :to=&quot;/movie/2&quot;&gt;</span><br><span class="line">	movie2</span><br><span class="line">&lt;router-link/&gt;</span><br><span class="line">&lt;router-link :to=&quot;/movie/3&quot;&gt;</span><br><span class="line">	movie3</span><br><span class="line">&lt;router-link/&gt;</span><br></pre></td></tr></table></figure>

<p>在动态路由渲染出来的组件中，可以使用this.$route.params 对象访问到动态匹配的参数值。</p>
<p><img src="/../pic/image-20230608163317558.png" alt="image-20230608163317558"></p>
<p>但是这样取到的值很麻烦，下面还有一种方法可以简便的获取传过来的参数值</p>
<h5 id="query进行传参"><a href="#query进行传参" class="headerlink" title="query进行传参"></a>query进行传参</h5><p><img src="/../pic/image-20230617134106614.png" alt="image-20230617134106614"></p>
<p>这种也是通过this.$router.query.xxx进行接收的。。。</p>
<h5 id="使用-props-接收路由参数"><a href="#使用-props-接收路由参数" class="headerlink" title="使用 props 接收路由参数"></a>使用 props 接收路由参数</h5><p>为了简化路由参数的获取形式，vue-router 允许在路由规则中开启props 传参。示例代码如下：</p>
<p><img src="/../pic/image-20230608163419334.png" alt="image-20230608163419334"></p>
<p>在这里需要补充一点，万一url后面还加的有查询参数（?name&#x3D;zs&amp;age&#x3D;18这种）的话，可以通过这种方式来进行接收</p>
<p><img src="/../pic/image-20230608163515943.png" alt="image-20230608163515943"></p>
<h4 id="声明式导航-amp-编程式导航"><a href="#声明式导航-amp-编程式导航" class="headerlink" title="声明式导航 &amp; 编程式导航"></a>声明式导航 &amp; 编程式导航</h4><p>在浏览器中，点击链接实现导航的方式，叫做声明式导航。例如：</p>
<ul>
<li>普通网页中点击<code>&lt;a&gt;</code> 链接、vue 项目中点击 <code>&lt;router-link&gt;</code> 都属于声明式导航</li>
</ul>
<p>在浏览器中，调用 API 方法实现导航的方式，叫做编程式导航。例如：</p>
<ul>
<li>普通网页中调用 location.href 跳转到新页面的方式，属于编程式导航</li>
</ul>
<h5 id="vue-router-中的编程式导航-API"><a href="#vue-router-中的编程式导航-API" class="headerlink" title="vue-router 中的编程式导航 API"></a>vue-router 中的编程式导航 API</h5><p>vue-router 提供了许多编程式导航的API，其中最常用的导航 API 分别是：</p>
<p>①	this.$router.push(‘hash 地址’)</p>
<ul>
<li>跳转到指定hash 地址，并增加一条历史记录</li>
</ul>
<p>②	this.$router.replace(‘hash 地址’)</p>
<ul>
<li>跳转到指定的hash 地址，并替换掉当前的历史记录</li>
</ul>
<p>③	this.$router.go(数值 n)</p>
<ul>
<li>实现导航历史前进、后退</li>
</ul>
<h6 id="router-push"><a href="#router-push" class="headerlink" title="$router.push"></a>$router.push</h6><p>调用this.$router.push() 方法，可以跳转到指定的hash 地址，从而展示对应的组件页面。这个push里面也可以写配置对象，可以写里面可以携带什么参数，具体跳转到那里，name属性是什么等等。示例代码如下：</p>
<p><img src="/../pic/image-20230608163747929.png" alt="image-20230608163747929"></p>
<h6 id="router-replace"><a href="#router-replace" class="headerlink" title="$router.replace"></a>$router.replace</h6><p>调用this.$router.replace() 方法，可以跳转到指定的hash 地址，从而展示对应的组件页面。</p>
<p>push 和 replace 的区别：</p>
<ul>
<li>push 会增加一条历史记录</li>
<li>replace 不会增加历史记录，而是替换掉当前的历史记录（replace是替换掉栈顶的那一条记录，所以不会增加历史记录）</li>
</ul>
<h6 id="router-go"><a href="#router-go" class="headerlink" title="$router.go"></a>$router.go</h6><p>调用this.$router.go() 方法，可以在浏览历史中前进和后退。示例代码如下：</p>
<p><img src="/../pic/image-20230608163827561.png" alt="image-20230608163827561"></p>
<p>注意：如果后退的次数超过上限，会原地不动。。。所以一般都后退一步或者前进一步</p>
<h6 id="router-go-的简化用法"><a href="#router-go-的简化用法" class="headerlink" title="$router.go 的简化用法"></a>$router.go 的简化用法</h6><p>在实际开发中，一般只会前进和后退一层页面。因此vue-router 提供了如下两个便捷方法：</p>
<p>①	$router.back()</p>
<p>在历史记录中，后退到上一个页面</p>
<p>②	$router.forward()</p>
<p>在历史记录中，前进到下一个页面</p>
<h4 id="缓存路由组件"><a href="#缓存路由组件" class="headerlink" title="缓存路由组件"></a>缓存路由组件</h4><p>很明显，组件的切换就会发生销毁和创建的过程</p>
<p>用keep-alive标签直接包住就行了。</p>
<p> <img src="/../pic/image-20230617143507147.png" alt="image-20230617143507147"></p>
<p><img src="/../pic/image-20230617143746135.png" alt="image-20230617143746135"></p>
<p>也可以不写include这个属性，里面的组件会全部缓存！！</p>
<h4 id="两个新的生命周期钩子"><a href="#两个新的生命周期钩子" class="headerlink" title="两个新的生命周期钩子"></a>两个新的生命周期钩子</h4><p><img src="/../pic/image-20230617144251770.png" alt="image-20230617144251770"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">activated()[]</span><br><span class="line"></span><br><span class="line">deactivated()&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>一个失活，一个激活</p>
<p>这个搭配着缓存路由组件比较有用</p>
<h4 id="导航守卫"><a href="#导航守卫" class="headerlink" title="导航守卫"></a>导航守卫</h4><p>导航守卫可以控制路由的访问权限。示意图如下：</p>
<p><img src="/../pic/image-20230608163939911.png" alt="image-20230608163939911"></p>
<h5 id="全局前置守卫"><a href="#全局前置守卫" class="headerlink" title="全局前置守卫"></a>全局前置守卫</h5><p>每次发生路由的导航跳转时，都会触发全局前置守卫。因此，在全局前置守卫中，程序员可以对每个路由进行访问权限的控制：</p>
<p><img src="/../pic/image-20230608164000908.png" alt="image-20230608164000908"></p>
<h6 id="守卫方法的-3-个形参"><a href="#守卫方法的-3-个形参" class="headerlink" title="守卫方法的 3 个形参"></a>守卫方法的 3 个形参</h6><p>全局前置守卫的回调函数中接收 3 个形参，格式为：</p>
<p><img src="/../pic/image-20230608164015700.png" alt="image-20230608164015700"></p>
<p>由于这个是全局的前置守卫，意思就是每次要访问的路由都需要调用这个函数来判断！</p>
<h6 id="next-函数的-3-种调用方式"><a href="#next-函数的-3-种调用方式" class="headerlink" title="next 函数的 3 种调用方式"></a>next 函数的 3 种调用方式</h6><p>参考示意图，分析next 函数的 3 种调用方式最终导致的结果：</p>
<p><img src="/../pic/image-20230608164106027.png" alt="image-20230608164106027"></p>
<ul>
<li>当前用户拥有后台主页的访问权限，直接放行：next()</li>
<li>当前用户没有后台主页的访问权限，强制其跳转到登录页面：next(‘&#x2F;login’)</li>
<li>当前用户没有后台主页的访问权限，不允许跳转到后台主页：next(false)</li>
</ul>
<h6 id="控制后台主页的访问权限"><a href="#控制后台主页的访问权限" class="headerlink" title="控制后台主页的访问权限"></a>控制后台主页的访问权限</h6><p>查看to和from的有关属性可以直接console.log进行打印查看，这个玩意是记不住的，不如手动打印出来看看</p>
<p><img src="/../pic/image-20230608164136480.png" alt="image-20230608164136480"></p>
<p>但是这样写的比较繁琐。我们上面是根据路径来判断的，下面我们可以根据路由里面新增一个属性，如果to里面有这个属性就可以进这里面的逻辑<img src="/../pic/image-20230617155703541.png" alt="image-20230617155703541"></p>
<p>之后就可以直接</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>)&#123;</span><br><span class="line"><span class="comment">//XX逻辑</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>直接这样判断就可以了，比较方便</p>
<h5 id="全局后置守卫"><a href="#全局后置守卫" class="headerlink" title="全局后置守卫"></a>全局后置守卫</h5><p>每次路由切换之后调用</p>
<p>使用的场景比如说当切换页面过后，改个标题就行了</p>
<h5 id="独享路由守卫"><a href="#独享路由守卫" class="headerlink" title="独享路由守卫"></a>独享路由守卫</h5><p>在路由规则里直接配置beforeEnter 为独享路由守卫 </p>
<p>注意独享路由守卫只有前置,没有后置！！！！！！！！！！！！！！！</p>
<p>要完成后置就可以配置全局的后置路由守卫一起使用</p>
<p>这个路由守卫写在路由的配置里面就可以了</p>
<p>router&#x2F;index.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/foo&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Foo</span>,</span><br><span class="line">      <span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/../pic/image-20230617161047915.png" alt="image-20230617161047915"></p>
<h5 id="组件内路由守卫"><a href="#组件内路由守卫" class="headerlink" title="组件内路由守卫"></a>组件内路由守卫</h5><p> <img src="/../pic/image-20230617161539971.png" alt="image-20230617161539971"></p>
<p>注意这里是通过<strong>路由规则</strong>，这个路由规则的意思是你必须经过路由访问的话才会执行这个方法，如果是你直接引用这个组件的话，是不会调用这个方法的！</p>
<h5 id="history模式和hash模式"><a href="#history模式和hash模式" class="headerlink" title="history模式和hash模式"></a>history模式和hash模式</h5><p><img src="/../pic/image-20230617162710398.png" alt="image-20230617162710398"></p>
<p>默认是hash工作模式</p>
<p><img src="/../pic/image-20230617162808116.png" alt="image-20230617162808116"></p>
<p>反正就用hash模式就可以了，省事！</p>
<p>总结：</p>
<ol>
<li>对于一个url来说，什么是hash值？—— #及其后面的内容就是hash值。</li>
<li>hash值不会包含在 HTTP 请求中，即：hash值不会带给服务器。</li>
<li>hash模式：<ol>
<li>地址中永远带着#号，不美观 。</li>
<li>若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法。</li>
<li>兼容性较好。</li>
</ol>
</li>
<li>history模式：<ol>
<li>地址干净，美观 。</li>
<li>兼容性和hash模式相比略差。</li>
<li>应用部署上线时需要后端人员支持，解决刷新页面服务端404的问题。</li>
</ol>
</li>
</ol>
<h5 id="完整的导航解析流程"><a href="#完整的导航解析流程" class="headerlink" title="完整的导航解析流程"></a>完整的导航解析流程</h5><ol>
<li>导航被触发。</li>
<li>在失活的组件里调用 <code>beforeRouteLeave</code> 守卫。</li>
<li>调用全局的 <code>beforeEach</code> 守卫。</li>
<li>在重用的组件里调用 <code>beforeRouteUpdate</code> 守卫 (2.2+)。</li>
<li>在路由配置里调用 <code>beforeEnter</code>。</li>
<li>解析异步路由组件。</li>
<li>在被激活的组件里调用 <code>beforeRouteEnter</code>。</li>
<li>调用全局的 <code>beforeResolve</code> 守卫 (2.5+)。</li>
<li>导航被确认。</li>
<li>调用全局的 <code>afterEach</code> 钩子。</li>
<li>触发 DOM 更新。</li>
<li>调用 <code>beforeRouteEnter</code> 守卫中传给 <code>next</code> 的回调函数，创建好的组件实例会作为回调函数的参数传入。</li>
</ol>
<h1 id="Vue3"><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h1><h2 id="ES6模块化与异步编程高级用法"><a href="#ES6模块化与异步编程高级用法" class="headerlink" title="ES6模块化与异步编程高级用法"></a>ES6模块化与异步编程高级用法</h2><h3 id="ES6-模块化"><a href="#ES6-模块化" class="headerlink" title="ES6 模块化"></a>ES6 模块化</h3><h4 id="回顾：node-js-中如何实现模块化"><a href="#回顾：node-js-中如何实现模块化" class="headerlink" title="回顾：node.js 中如何实现模块化"></a>回顾：node.js 中如何实现模块化</h4><p>node.js 遵循了 CommonJS 的模块化规范。其中：</p>
<ul>
<li>导入其它模块使用require() 方法</li>
<li>模块对外共享成员使用module.exports 对象</li>
</ul>
<p>模块化的好处：</p>
<p>大家都遵守同样的模块化规范写代码，降低了沟通的成本，极大方便了各个模块之间的相互调用，利人利己。</p>
<h4 id="前端模块化规范的分类"><a href="#前端模块化规范的分类" class="headerlink" title="前端模块化规范的分类"></a>前端模块化规范的分类</h4><p>在 ES6 模块化规范诞生之前，JavaScript 社区已经尝试并提出了AMD、CMD、CommonJS 等模块化规范。但是，这些由社区提出的模块化标准，还是存在一定的差异性与局限性、并不是浏览器与服务器通用的模块化标准，例如：</p>
<ul>
<li>AMD 和 CMD 适用于浏览器端的 Javascript 模块化</li>
<li>CommonJS 适用于服务器端的 Javascript 模块化</li>
</ul>
<p>太多的模块化规范给开发者增加了学习的难度与开发的成本。因此，大一统的ES6 模块化规范诞生了！</p>
<h4 id="什么是-ES6-模块化规范"><a href="#什么是-ES6-模块化规范" class="headerlink" title="什么是 ES6 模块化规范"></a>什么是 ES6 模块化规范</h4><p>ES6 模块化规范是浏览器端与服务器端通用的模块化开发规范。它的出现极大的降低了前端开发者的模块化学习成本，开发者不需再额外学习AMD、CMD 或 CommonJS 等模块化规范。</p>
<p>ES6 模块化规范中定义：</p>
<ul>
<li>每个 js 文件都是一个独立的模块</li>
<li>导入其它模块成员使用 import 关键字</li>
<li>向外共享模块成员使用export 关键字</li>
</ul>
<h4 id="在-node-js-中体验-ES6-模块化"><a href="#在-node-js-中体验-ES6-模块化" class="headerlink" title="在 node.js 中体验 ES6 模块化"></a>在 node.js 中体验 ES6 模块化</h4><p>node.js 中默认仅支持 CommonJS 模块化规范，若想基于node.js 体验与学习ES6 的模块化语法，可以按照如下两个步骤进行配置：</p>
<p>①	确保安装了v14.15.1 或更高版本的node.js</p>
<p>②	在 package.json 的根节点中添加 “type”: “module” 节点</p>
<h4 id="ES6-模块化的基本语法"><a href="#ES6-模块化的基本语法" class="headerlink" title="ES6 模块化的基本语法"></a>ES6 模块化的基本语法</h4><p>ES6 的模块化主要包含如下 3 种用法：</p>
<p>①	默认导出与默认导入</p>
<p>②	按需导出与按需导入</p>
<p>③	直接导入并执行模块中的代码</p>
<h5 id="默认导出"><a href="#默认导出" class="headerlink" title="默认导出"></a>默认导出</h5><p>默认导出的语法： export default 默认导出的成员</p>
<p><img src="/../pic/image-20230609151529402.png" alt="image-20230609151529402"></p>
<h5 id="默认导入"><a href="#默认导入" class="headerlink" title="默认导入"></a>默认导入</h5><p>默认导入的语法： import 接收名称 from ‘模块标识符’</p>
<p><img src="/../pic/image-20230609151548311.png" alt="image-20230609151548311"></p>
<h5 id="默认导出的注意事项"><a href="#默认导出的注意事项" class="headerlink" title="默认导出的注意事项"></a>默认导出的注意事项</h5><p>每个模块中，只允许使用唯一的一次export default，否则会报错！</p>
<p><img src="/../pic/image-20230609151652306.png" alt="image-20230609151652306"></p>
<h5 id="默认导入的注意事项"><a href="#默认导入的注意事项" class="headerlink" title="默认导入的注意事项"></a>默认导入的注意事项</h5><p>默认导入时的接收名称可以任意名称，只要是合法的成员名称即可：</p>
<p><img src="/../pic/image-20230609164548002.png" alt="image-20230609164548002"></p>
<h5 id="按需导出"><a href="#按需导出" class="headerlink" title="按需导出"></a>按需导出</h5><p>按需导出的语法： export 按需导出的成员</p>
<p><img src="/../pic/image-20230609164632795.png" alt="image-20230609164632795"></p>
<h5 id="按需导入"><a href="#按需导入" class="headerlink" title="按需导入"></a>按需导入</h5><p>按需导入的语法： import { s1 } from ‘模块标识符’</p>
<p><img src="/../pic/image-20230609164646941.png" alt="image-20230609164646941"></p>
<h5 id="按需导出与按需导入的注意事项"><a href="#按需导出与按需导入的注意事项" class="headerlink" title="按需导出与按需导入的注意事项"></a>按需导出与按需导入的注意事项</h5><p>①	每个模块中可以使用多次按需导出</p>
<p>②	按需导入的成员名称必须和按需导出的名称保持一致</p>
<p>③	按需导入时，可以使用 as 关键字进行重命名<img src="/../pic/image-20230609164709784.png" alt="image-20230609164709784"></p>
<p>④	按需导入可以和默认导入一起使用</p>
<h5 id="直接导入并执行模块中的代码"><a href="#直接导入并执行模块中的代码" class="headerlink" title="直接导入并执行模块中的代码"></a>直接导入并执行模块中的代码</h5><p>如果只想单纯地执行某个模块中的代码，并不需要得到模块中向外共享的成员。此时，可以直接导入并执行模块代码，示例代码如下：</p>
<p><img src="/../pic/image-20230609164750591.png" alt="image-20230609164750591"></p>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><h4 id="回调地狱"><a href="#回调地狱" class="headerlink" title="回调地狱"></a>回调地狱</h4><p>多层回调函数的相互嵌套，就形成了回调地狱。示例代码如下：</p>
<p><img src="/../pic/image-20230609164837344.png" alt="image-20230609164837344"></p>
<p>回调地狱的缺点：</p>
<ul>
<li>代码耦合性太强，牵一发而动全身，难以维护</li>
<li>大量冗余的代码相互嵌套，代码的可读性变差</li>
</ul>
<h5 id="如何解决回调地狱的问题"><a href="#如何解决回调地狱的问题" class="headerlink" title="如何解决回调地狱的问题"></a>如何解决回调地狱的问题</h5><p>为了解决回调地狱的问题，ES6（ECMAScript 2015）中新增了 Promise 的概念。</p>
<h5 id="Promise-的基本概念"><a href="#Promise-的基本概念" class="headerlink" title="Promise 的基本概念"></a>Promise 的基本概念</h5><p>①	Promise 是一个构造函数</p>
<ul>
<li>我们可以创建 Promise 的实例const p &#x3D; new Promise()</li>
<li>new 出来的 Promise 实例对象，代表一个异步操作</li>
</ul>
<p>②	Promise.prototype 上包含一个.then() 方法</p>
<ul>
<li>每一次new Promise() 构造函数得到的实例对象，都可以通过原型链的方式访问到.then() 方法，例如p.then()</li>
</ul>
<p>③	.then() 方法用来预先指定成功和失败的回调函数</p>
<ul>
<li>p.then(成功的回调函数，失败的回调函数)</li>
<li>p.then(result &#x3D;&gt; { }, error &#x3D;&gt; { })</li>
<li>调用.then() 方法时，成功的回调函数是必选的、失败的回调函数是可选的</li>
</ul>
<h4 id="基于回调函数按顺序读取文件内容"><a href="#基于回调函数按顺序读取文件内容" class="headerlink" title="基于回调函数按顺序读取文件内容"></a>基于回调函数按顺序读取文件内容</h4><p><img src="/../pic/image-20230609171639097.png" alt="image-20230609171639097"></p>
<h4 id="基于-then-fs-读取文件内容"><a href="#基于-then-fs-读取文件内容" class="headerlink" title="基于 then-fs 读取文件内容"></a>基于 then-fs 读取文件内容</h4><p>由于node.js 官方提供的fs 模块仅支持以回调函数的方式读取文件，不支持 Promise 的调用方式。因此，需要先运行如下的命令，安装then-fs 这个第三方包，从而支持我们基于 Promise 的方式读取文件的内容：</p>
<p><img src="/../pic/image-20230609171946606.png" alt="image-20230609171946606"></p>
<h5 id="then-fs-的基本使用"><a href="#then-fs-的基本使用" class="headerlink" title="then-fs 的基本使用"></a>then-fs 的基本使用</h5><p>调用then-fs 提供的readFile() 方法，可以异步地读取文件的内容，它的返回值是 Promise 的实例对象。因此可以调用.then() 方法为每个 Promise 异步操作指定成功和失败之后的回调函数。示例代码如下：</p>
<p><img src="/../pic/image-20230609172216435.png" alt="image-20230609172216435"></p>
<p>注意：上述的代码无法保证文件的读取顺序(也就是说没有办法保证先读文件1，再读文件2，再读文件3.。。)，需要做进一步的改进！</p>
<h5 id="then-方法的特性"><a href="#then-方法的特性" class="headerlink" title=".then() 方法的特性"></a>.then() 方法的特性</h5><p>如果上一个 .then() 方法中返回了一个新的 Promise 实例对象，则可以通过下一个 .then() 继续进行处理。通过 .then() 方法的链式调用，就解决了回调地狱的问题。</p>
<h5 id="基于-Promise-按顺序读取文件的内容"><a href="#基于-Promise-按顺序读取文件的内容" class="headerlink" title="基于 Promise 按顺序读取文件的内容"></a>基于 Promise 按顺序读取文件的内容</h5><p>Promise 支持链式调用，从而来解决回调地狱的问题。示例代码如下：</p>
<p><img src="/../pic/image-20230609172430223.png" alt="image-20230609172430223"></p>
<p>解决了回调里面套回调的问题。</p>
<h5 id="通过-catch-捕获错误"><a href="#通过-catch-捕获错误" class="headerlink" title="通过 .catch 捕获错误"></a>通过 .catch 捕获错误</h5><p>在 Promise 的链式操作中如果发生了错误，可以使用 Promise.prototype.catch 方法进行捕获和处理：</p>
<p><img src="/../pic/image-20230609172506260.png" alt="image-20230609172506260"></p>
<p>如果不希望前面的错误导致后续的 .then 无法正常执行，则可以将 .catch 的调用提前，示例代码如下：</p>
<p><img src="/../pic/image-20230609172516288.png" alt="image-20230609172516288"></p>
<h5 id="Promise-all-方法"><a href="#Promise-all-方法" class="headerlink" title="Promise.all() 方法"></a>Promise.all() 方法</h5><p>Promise.all() 方法会发起并行的 Promise 异步操作，等所有的异步操作全部结束后才会执行下一步的 .then<br>操作（等待机制）。示例代码如下：</p>
<p><img src="/../pic/image-20230609172533588.png" alt="image-20230609172533588"></p>
<p>注意：数组中 Promise 实例的顺序，就是最终结果的顺序！</p>
<h5 id="Promise-race-方法"><a href="#Promise-race-方法" class="headerlink" title="Promise.race() 方法"></a>Promise.race() 方法</h5><p>Promise.race() 方法会发起并行的 Promise 异步操作，只要任何一个异步操作完成，就立即执行下一步的.then 操作（赛跑机制）。示例代码如下：</p>
<p><img src="/../pic/image-20230609172602812.png" alt="image-20230609172602812"></p>
<h4 id="基于-Promise-封装读文件的方法"><a href="#基于-Promise-封装读文件的方法" class="headerlink" title="基于 Promise 封装读文件的方法"></a>基于 Promise 封装读文件的方法</h4><p>方法的封装要求：</p>
<p>①	方法的名称要定义为getFile</p>
<p>②	方法接收一个形参fpath，表示要读取的文件的路径</p>
<p>③	方法的返回值为 Promise 实例对象</p>
<h5 id="getFile-方法的基本定义"><a href="#getFile-方法的基本定义" class="headerlink" title="getFile 方法的基本定义"></a>getFile 方法的基本定义</h5><p><img src="/../pic/image-20230609172703719.png" alt="image-20230609172703719"></p>
<p>注意：第 5 行代码中的new Promise() 只是创建了一个形式上的异步操作。</p>
<h5 id="创建具体的异步操作"><a href="#创建具体的异步操作" class="headerlink" title="创建具体的异步操作"></a>创建具体的异步操作</h5><p>如果想要创建具体的异步操作，则需要在new Promise() 构造函数期间，传递一个function 函数，将具体的异步操作定义到function 函数内部。示例代码如下：</p>
<p><img src="/../pic/image-20230609172811713.png" alt="image-20230609172811713"></p>
<h5 id="获取-then-的两个实参"><a href="#获取-then-的两个实参" class="headerlink" title="获取 .then 的两个实参"></a>获取 .then 的两个实参</h5><p>通过.then() 指定的成功和失败的回调函数，可以在function 的形参中进行接收，示例代码如下：</p>
<p><img src="/../pic/image-20230609172825353.png" alt="image-20230609172825353"></p>
<h5 id="调用-resolve-和-reject-回调函数"><a href="#调用-resolve-和-reject-回调函数" class="headerlink" title="调用 resolve 和 reject 回调函数"></a>调用 resolve 和 reject 回调函数</h5><p>Promise 异步操作的结果，可以调用resolve 或 reject 回调函数进行处理。示例代码如下：</p>
<p><img src="/../pic/image-20230609172841207.png" alt="image-20230609172841207"></p>
<h3 id="async-x2F-await"><a href="#async-x2F-await" class="headerlink" title="async&#x2F;await"></a>async&#x2F;await</h3><h4 id="什么是-async-x2F-await"><a href="#什么是-async-x2F-await" class="headerlink" title="什么是 async&#x2F;await"></a>什么是 async&#x2F;await</h4><p>async&#x2F;await 是 ES8（ECMAScript 2017）引入的新语法，用来简化 Promise 异步操作。在 async&#x2F;await 出现之前，开发者只能通过链式.then() 的方式处理 Promise 异步操作。示例代码如下：</p>
<p><img src="/../pic/image-20230609172908045.png" alt="image-20230609172908045"></p>
<p>.then 链式调用的优点：解决了回调地狱的问题</p>
<p>.then 链式调用的缺点：代码冗余、阅读性差、不易理解</p>
<h4 id="async-x2F-await-的基本使用"><a href="#async-x2F-await-的基本使用" class="headerlink" title="async&#x2F;await 的基本使用"></a>async&#x2F;await 的基本使用</h4><p>使用 async&#x2F;await 简化 Promise 异步操作的示例代码如下：</p>
<p><img src="/../pic/image-20230609172926444.png" alt="image-20230609172926444"></p>
<h4 id="async-x2F-await-的使用注意事项"><a href="#async-x2F-await-的使用注意事项" class="headerlink" title="async&#x2F;await 的使用注意事项"></a>async&#x2F;await 的使用注意事项</h4><p>①	如果在function 中使用了 await，则 function 必须被 async 修饰</p>
<p>②	在 async 方法中，第一个 await 之前的代码会同步执行，await 之后的代码会异步执行（也就会退出方法的执行，然后执行主线程后面的代码）</p>
<p><img src="/../pic/image-20230609180955480.png" alt="image-20230609180955480"></p>
<p>输出结果：</p>
<p><img src="/../pic/image-20230609181005142.png" alt="image-20230609181005142"></p>
<h3 id="EventLoop"><a href="#EventLoop" class="headerlink" title="EventLoop"></a>EventLoop</h3><h4 id="JavaScript-是单线程的语言"><a href="#JavaScript-是单线程的语言" class="headerlink" title="JavaScript 是单线程的语言"></a>JavaScript 是单线程的语言</h4><p>JavaScript 是一门单线程执行的编程语言。也就是说，同一时间只能做一件事情。</p>
<p><img src="/../pic/image-20230609181025645.png" alt="image-20230609181025645"></p>
<p>单线程执行任务队列的问题：</p>
<p>如果前一个任务非常耗时，则后续的任务就不得不一直等待，从而导致程序假死的问题。</p>
<h4 id="同步任务和异步任务"><a href="#同步任务和异步任务" class="headerlink" title="同步任务和异步任务"></a>同步任务和异步任务</h4><p>为了防止某个耗时任务导致程序假死的问题，JavaScript 把待执行的任务分为了两类：</p>
<p>①	同步任务（synchronous）</p>
<ul>
<li>又叫做非耗时任务，指的是在主线程上排队执行的那些任务</li>
<li>只有前一个任务执行完毕，才能执行后一个任务</li>
</ul>
<p>②	异步任务（asynchronous）</p>
<ul>
<li>又叫做耗时任务，异步任务由 JavaScript 委托给宿主环境（浏览器&#x2F;node）进行执行</li>
<li>当异步任务执行完成后，会通知 JavaScript 主线程执行异步任务的回调函数</li>
</ul>
<h4 id="同步任务和异步任务的执行过程"><a href="#同步任务和异步任务的执行过程" class="headerlink" title="同步任务和异步任务的执行过程"></a>同步任务和异步任务的执行过程</h4><p><img src="/../pic/image-20230609181229572.png" alt="image-20230609181229572"></p>
<p>①	同步任务由 JavaScript 主线程次序执行</p>
<p>②	异步任务委托给宿主环境执行</p>
<p>③	已完成的异步任务对应的回调函数，会被加入到任务队列中等待执行</p>
<p>④	JavaScript 主线程的执行栈被清空后，会读取任务队列中的回调函数，次序执行</p>
<p>⑤	JavaScript 主线程不断重复上面的第 4 步</p>
<h4 id="EventLoop-的基本概念"><a href="#EventLoop-的基本概念" class="headerlink" title="EventLoop 的基本概念"></a>EventLoop 的基本概念</h4><p>JavaScript 主线程从“任务队列”中读取异步任务的回调函数，放到执行栈中依次执行。这个过程是循环不断的，所以整个的这种运行机制又称为EventLoop（事件循环）。</p>
<h4 id="结合-EventLoop-分析输出的顺序"><a href="#结合-EventLoop-分析输出的顺序" class="headerlink" title="结合 EventLoop 分析输出的顺序"></a>结合 EventLoop 分析输出的顺序</h4><p><img src="/../pic/image-20230609181345531.png" alt="image-20230609181345531"></p>
<p>正确的输出结果：ADCB。其中：</p>
<ul>
<li>A 和 D 属于同步任务。会根据代码的先后顺序依次被执行</li>
<li>C 和 B 属于异步任务。它们的回调函数会被加入到任务队列中，等待主线程空闲时再执行</li>
</ul>
<h3 id="宏任务和微任务"><a href="#宏任务和微任务" class="headerlink" title="宏任务和微任务"></a>宏任务和微任务</h3><h4 id="什么是宏任务和微任务"><a href="#什么是宏任务和微任务" class="headerlink" title="什么是宏任务和微任务"></a>什么是宏任务和微任务</h4><p>JavaScript 把异步任务又做了进一步的划分，异步任务又分为两类，分别是：</p>
<p>①	宏任务（macrotask）</p>
<ul>
<li>异步Ajax 请求、</li>
<li>setTimeout、setInterval、</li>
<li>文件操作</li>
<li>其它宏任务</li>
</ul>
<p>②	微任务（microtask）</p>
<ul>
<li>Promise.then、.catch 和 .finally</li>
<li>process.nextTick</li>
<li>其它微任务</li>
</ul>
<p><img src="/../pic/image-20230609181609414.png" alt="image-20230609181609414"></p>
<h4 id="宏任务和微任务的执行顺序"><a href="#宏任务和微任务的执行顺序" class="headerlink" title="宏任务和微任务的执行顺序"></a>宏任务和微任务的执行顺序</h4><p><img src="/../pic/image-20230609181623047.png" alt="image-20230609181623047"></p>
<p>每一个宏任务执行完之后，都会检查是否存在待执行的微任务，如果有，则执行完所有微任务之后，再继续执行下一个宏任务。</p>
<h4 id="去银行办业务的场景"><a href="#去银行办业务的场景" class="headerlink" title="去银行办业务的场景"></a>去银行办业务的场景</h4><p>①	小云和小腾去银行办业务。首先，需要取号之后进行排队</p>
<ul>
<li>宏任务队列</li>
</ul>
<p>②	假设当前银行网点只有一个柜员，小云在办理存款业务时，小腾只能等待</p>
<ul>
<li>单线程，宏任务按次序执行</li>
</ul>
<p>③	小云办完存款业务后，柜员询问他是否还想办理其它业务？</p>
<ul>
<li>当前宏任务执行完，检查是否有微任务</li>
</ul>
<p>④	小云告诉柜员：想要买理财产品、再办个信用卡、最后再兑换点马年纪念币？</p>
<ul>
<li>执行微任务，后续宏任务被推迟</li>
</ul>
<p>⑤	小云离开柜台后，柜员开始为小腾办理业务</p>
<ul>
<li>所有微任务执行完毕，开始执行下一个宏任务</li>
</ul>
<h4 id="分析以下代码输出的顺序"><a href="#分析以下代码输出的顺序" class="headerlink" title="分析以下代码输出的顺序"></a>分析以下代码输出的顺序</h4><p><img src="/../pic/image-20230609184633274.png" alt="image-20230609184633274"></p>
<p>正确的输出顺序是：2431</p>
<p>分析：</p>
<p>①	先执行所有的同步任务</p>
<ul>
<li>执行第 6 行、第 12 行代码</li>
</ul>
<p>②	再执行微任务</p>
<ul>
<li>执行第 9 行代码</li>
</ul>
<p>③	再执行下一个宏任务</p>
<ul>
<li>执行第 2 行代码</li>
</ul>
<h4 id="经典面试题"><a href="#经典面试题" class="headerlink" title="经典面试题"></a>经典面试题</h4><p>请分析以下代码输出的顺序（代码较长，截取成了左中右 3 个部分） ：</p>
<p><strong><img src="/../pic/image-20230609184755880.png" alt="image-20230609184755880"></strong></p>
<p>正确的输出顺序是：156234789</p>
<h2 id="Vue引入第三方"><a href="#Vue引入第三方" class="headerlink" title="Vue引入第三方"></a>Vue引入第三方</h2><blockquote>
<p>awesome-vue，一些vue的第三方组件.</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/vuejs/awesome-vue">GitHub - vuejs&#x2F;awesome-vue: 🎉 A curated list of awesome things related to Vue.js</a><br><strong>下面介绍swiper</strong><br>**安装swiper **<code>cnpm install --save swiper</code><br>使用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;Swiper&gt;</span><br><span class="line">            &lt;SwiperSlide&gt;</span><br><span class="line">                &lt;img src=&quot;../assets/logo.png&quot;&gt;</span><br><span class="line">            &lt;/SwiperSlide&gt;</span><br><span class="line">            &lt;SwiperSlide&gt;</span><br><span class="line">                &lt;img src=&quot;../assets/logo.png&quot;&gt;</span><br><span class="line">            &lt;/SwiperSlide&gt;</span><br><span class="line">            &lt;SwiperSlide&gt;</span><br><span class="line">                &lt;img src=&quot;../assets/logo.png&quot;&gt;</span><br><span class="line">            &lt;/SwiperSlide&gt;</span><br><span class="line">        &lt;/Swiper&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; Swiper,SwiperSlide &#125; from &#x27;swiper/vue&#x27;;</span><br><span class="line">import &#x27;swiper/css&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">    name:&#x27;SwiperDemo&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        Swiper,</span><br><span class="line">        SwiperSlide</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h1 id="Vue3快速上手"><a href="#Vue3快速上手" class="headerlink" title="Vue3快速上手"></a>Vue3快速上手</h1><img src="../pic/93624428-53932780-f9ae-11ea-8d16-af949e16a09f.png" style="width:200px" />



<h2 id="1-Vue3简介"><a href="#1-Vue3简介" class="headerlink" title="1.Vue3简介"></a>1.Vue3简介</h2><ul>
<li>2020年9月18日，Vue.js发布3.0版本，代号：One Piece（海贼王）</li>
<li>耗时2年多、<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-next/graphs/commit-activity">2600+次提交</a>、<a target="_blank" rel="noopener" href="https://github.com/vuejs/rfcs/tree/master/active-rfcs">30+个RFC</a>、<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-next/pulls?q=is:pr+is:merged+-author:app/dependabot-preview+">600+次PR</a>、<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-next/graphs/contributors">99位贡献者</a> </li>
<li>github上的tags地址：<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-next/releases/tag/v3.0.0">https://github.com/vuejs/vue-next/releases/tag/v3.0.0</a></li>
</ul>
<h2 id="2-Vue3带来了什么"><a href="#2-Vue3带来了什么" class="headerlink" title="2.Vue3带来了什么"></a>2.Vue3带来了什么</h2><h3 id="1-性能的提升"><a href="#1-性能的提升" class="headerlink" title="1.性能的提升"></a>1.性能的提升</h3><ul>
<li><p>打包大小减少41%</p>
</li>
<li><p>初次渲染快55%, 更新渲染快133%</p>
</li>
<li><p>内存减少54%</p>
<p>……</p>
</li>
</ul>
<h3 id="2-源码的升级"><a href="#2-源码的升级" class="headerlink" title="2.源码的升级"></a>2.源码的升级</h3><ul>
<li><p>使用Proxy代替defineProperty实现响应式</p>
</li>
<li><p>重写虚拟DOM的实现和Tree-Shaking</p>
<p>……</p>
</li>
</ul>
<h3 id="3-拥抱TypeScript"><a href="#3-拥抱TypeScript" class="headerlink" title="3.拥抱TypeScript"></a>3.拥抱TypeScript</h3><ul>
<li>Vue3可以更好的支持TypeScript</li>
</ul>
<h3 id="4-新的特性"><a href="#4-新的特性" class="headerlink" title="4.新的特性"></a>4.新的特性</h3><ol>
<li><p>Composition API（组合API）</p>
<ul>
<li>setup配置</li>
<li>ref与reactive</li>
<li>watch与watchEffect</li>
<li>provide与inject</li>
<li>……</li>
</ul>
</li>
<li><p>新的内置组件</p>
<ul>
<li>Fragment </li>
<li>Teleport</li>
<li>Suspense</li>
</ul>
</li>
<li><p>其他改变</p>
<ul>
<li>新的生命周期钩子</li>
<li>data 选项应始终被声明为一个函数</li>
<li>移除keyCode支持作为 v-on 的修饰符</li>
<li>……</li>
</ul>
</li>
</ol>
<h1 id="一、创建Vue3-0工程"><a href="#一、创建Vue3-0工程" class="headerlink" title="一、创建Vue3.0工程"></a>一、创建Vue3.0工程</h1><h2 id="1-使用-vue-cli-创建"><a href="#1-使用-vue-cli-创建" class="headerlink" title="1.使用 vue-cli 创建"></a>1.使用 vue-cli 创建</h2><p>官方文档：<a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">## 查看@vue/cli版本，确保@vue/cli版本在4.5.0以上</span></span><br><span class="line">vue --version</span><br><span class="line"><span class="comment">## 安装或者升级你的@vue/cli</span></span><br><span class="line">npm install -g @vue/cli</span><br><span class="line"><span class="comment">## 创建</span></span><br><span class="line">vue create vue_test</span><br><span class="line"><span class="comment">## 启动</span></span><br><span class="line"><span class="built_in">cd</span> vue_test</span><br><span class="line">npm run serve</span><br></pre></td></tr></table></figure>

<h2 id="2-使用-vite-创建"><a href="#2-使用-vite-创建" class="headerlink" title="2.使用 vite 创建"></a>2.使用 vite 创建</h2><p>官方文档：<a target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/guide/installation.html#vite">https://v3.cn.vuejs.org/guide/installation.html#vite</a></p>
<p>vite官网：<a target="_blank" rel="noopener" href="https://vitejs.cn/">https://vitejs.cn</a></p>
<ul>
<li>什么是vite？—— 新一代前端构建工具。</li>
<li>优势如下：<ul>
<li>开发环境中，无需打包操作，可快速的冷启动。</li>
<li>轻量快速的热重载（HMR）。</li>
<li>真正的按需编译，不再等待整个应用编译完成。</li>
</ul>
</li>
<li>传统构建 与 vite构建对比图</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">## 创建工程</span></span><br><span class="line">npm init vite-app &lt;project-name&gt;</span><br><span class="line"><span class="comment">## 进入工程目录</span></span><br><span class="line"><span class="built_in">cd</span> &lt;project-name&gt;</span><br><span class="line"><span class="comment">## 安装依赖</span></span><br><span class="line">npm install</span><br><span class="line"><span class="comment">## 运行</span></span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure>



<h2 id="分析工程结构"><a href="#分析工程结构" class="headerlink" title="分析工程结构"></a>分析工程结构</h2><p>main.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引入的不再是Vue构造函数了，引入的是一个名为createApp的工厂函数</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建应用实例对象——app(类似于之前Vue2中的vm，但app比vm更“轻”)</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//挂载</span></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;!--只有这里发生了改变！！--&gt;</span><br><span class="line">	&lt;!-- Vue3组件中的模板结构可以没有根标签 --&gt;</span><br><span class="line">	&lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt;</span><br><span class="line">	&lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot;/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import HelloWorld from &#x27;./components/HelloWorld.vue&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name: &#x27;App&#x27;,</span><br><span class="line">		components: &#123;</span><br><span class="line">			HelloWorld</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Vue3</p>
<h1 id="二、常用-Composition-API"><a href="#二、常用-Composition-API" class="headerlink" title="二、常用 Composition API"></a>二、常用 Composition API</h1><p>常用的组合式API</p>
<p>官方文档: <a target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/guide/composition-api-introduction.html">https://v3.cn.vuejs.org/guide/composition-api-introduction.html</a></p>
<h2 id="1-拉开序幕的setup"><a href="#1-拉开序幕的setup" class="headerlink" title="1.拉开序幕的setup"></a>1.拉开序幕的setup</h2><ol>
<li>理解：Vue3.0中一个新的配置项，值为一个函数。</li>
<li>setup是所有<strong style="color:#DD5145">Composition API（组合API）</strong><i style="color:gray;font-weight:bold">“ 表演的舞台 ”</i>。</li>
<li>组件中所用到的：数据、方法等等，均要配置在setup中。</li>
<li>setup函数的两种返回值：<ol>
<li>若返回一个对象，则对象中的属性、方法, 在模板中均可以直接使用。（重点关注！）</li>
<li><span style="color:#aad">若返回一个渲染函数：则可以自定义渲染内容。（了解）</span></li>
</ol>
</li>
<li>注意点：<ol>
<li>尽量不要与Vue2.x配置混用<ul>
<li>Vue2.x配置（data、methos、computed…）中<strong style="color:#DD5145">可以访问到</strong>setup中的属性、方法。</li>
<li>但在setup中<strong style="color:#DD5145">不能访问到</strong>Vue2.x配置（data、methos、computed…）。</li>
<li>如果有重名, setup优先。</li>
</ul>
</li>
<li>setup不能是一个async函数，因为返回值不再是return的对象, 而是promise, 模板看不到return对象中的属性。（后期也可以返回一个Promise实例，但需要Suspense和异步组件的配合）</li>
</ol>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h1&gt;一个人的信息&lt;/h1&gt;</span><br><span class="line">	&lt;h2&gt;姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;h2&gt;年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;h2&gt;性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	// import &#123;h&#125; from &#x27;vue&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name: &#x27;App&#x27;,</span><br><span class="line">		//此处只是测试一下setup，暂时不考虑响应式的问题。</span><br><span class="line">		setup()&#123;</span><br><span class="line">			//数据</span><br><span class="line">			let name = &#x27;张三&#x27;</span><br><span class="line">			let age = 18</span><br><span class="line">			let a = 200</span><br><span class="line"></span><br><span class="line">			//方法</span><br><span class="line">			function sayHello()&#123;</span><br><span class="line">				alert(`我叫$&#123;name&#125;，我$&#123;age&#125;岁了，你好啊！`)</span><br><span class="line">			&#125;</span><br><span class="line">			function test2()&#123;</span><br><span class="line">				console.log(name)</span><br><span class="line">				console.log(age)</span><br><span class="line">				console.log(sayHello)</span><br><span class="line">				console.log(this.sex)</span><br><span class="line">				console.log(this.sayWelcome)</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			//返回一个对象（常用）</span><br><span class="line">			return &#123;</span><br><span class="line">				name,</span><br><span class="line">				age,</span><br><span class="line">				sayHello,</span><br><span class="line">				test2,</span><br><span class="line">				a</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			//返回一个函数（渲染函数）</span><br><span class="line">			// return ()=&gt; h(&#x27;h1&#x27;,&#x27;尚硅谷&#x27;)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="2-ref函数"><a href="#2-ref函数" class="headerlink" title="2.ref函数"></a>2.ref函数</h2><ul>
<li>作用: 定义一个响应式的数据</li>
<li>语法: <code>const xxx = ref(initValue)</code> <ul>
<li>创建一个包含响应式数据的<strong style="color:#DD5145">引用对象（reference对象，简称ref对象）</strong>。</li>
<li>JS中操作数据： <code>xxx.value</code></li>
<li>模板中读取数据: 不需要.value，直接：<code>&lt;div&gt;&#123;&#123;xxx&#125;&#125;&lt;/div&gt;</code></li>
</ul>
</li>
<li>备注：<ul>
<li>接收的数据可以是：基本类型、也可以是对象类型。</li>
<li>基本类型的数据：响应式依然是靠<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>完成的。</li>
<li>对象类型的数据：内部 <i style="color:gray;font-weight:bold">“ 求助 ”</i> 了Vue3.0中的一个新函数—— <code>reactive</code>函数。</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h1&gt;一个人的信息&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h3&gt;工作种类：&#123;&#123;job.type&#125;&#125;&lt;/h3&gt;</span><br><span class="line">    &lt;h3&gt;工作薪水：&#123;&#123;job.salary&#125;&#125;&lt;/h3&gt;</span><br><span class="line">    &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &#x27;App&#x27;,</span><br><span class="line">        setup()&#123;</span><br><span class="line">            //数据</span><br><span class="line">            let name = ref(&#x27;张三&#x27;)</span><br><span class="line">            let age = ref(18)</span><br><span class="line">            let job = ref(&#123;</span><br><span class="line">                type:&#x27;前端工程师&#x27;,</span><br><span class="line">                salary:&#x27;30K&#x27;</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">            //方法</span><br><span class="line">            function changeInfo()&#123;</span><br><span class="line">                name.value = &#x27;李四&#x27;</span><br><span class="line">                age.value = 48</span><br><span class="line">                //这里注意，不需要再在后面加value了，因为这个是对象类型，这个借助了reactive函数</span><br><span class="line">                job.value.type = &#x27;UI设计师&#x27;</span><br><span class="line">                job.value.salary = &#x27;60K&#x27;</span><br><span class="line">                console.log(name,age)</span><br><span class="line">                console.log(job.value)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //返回一个对象（常用）</span><br><span class="line">            return &#123;</span><br><span class="line">                name,</span><br><span class="line">                age,</span><br><span class="line">                job,</span><br><span class="line">                changeInfo</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="3-reactive函数"><a href="#3-reactive函数" class="headerlink" title="3.reactive函数"></a>3.reactive函数</h2><ul>
<li>作用: 定义一个<strong style="color:#DD5145">对象类型（或者数组）</strong>的响应式数据（基本类型不要用它，要用<code>ref</code>函数）</li>
<li>语法：<code>const 代理对象= reactive(源对象)</code>接收一个对象（或数组），返回一个<strong style="color:#DD5145">代理对象（Proxy的实例对象，简称proxy对象）</strong></li>
<li>reactive定义的响应式数据是“深层次的”。</li>
<li>内部基于 ES6 的 Proxy 实现，通过代理对象操作源对象内部数据进行操作。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h1&gt;一个人的信息&lt;/h1&gt;</span><br><span class="line">	&lt;h2&gt;姓名：&#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;h2&gt;年龄：&#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;h3&gt;工作种类：&#123;&#123;person.job.type&#125;&#125;&lt;/h3&gt;</span><br><span class="line">	&lt;h3&gt;工作薪水：&#123;&#123;person.job.salary&#125;&#125;&lt;/h3&gt;</span><br><span class="line">	&lt;h3&gt;爱好：&#123;&#123;person.hobby&#125;&#125;&lt;/h3&gt;</span><br><span class="line">	&lt;h3&gt;测试的数据c：&#123;&#123;person.job.a.b.c&#125;&#125;&lt;/h3&gt;</span><br><span class="line">	&lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name: &#x27;App&#x27;,</span><br><span class="line">		setup()&#123;</span><br><span class="line">			//数据</span><br><span class="line">            //这里包裹成了一个大对象，当然你也可以分开写，</span><br><span class="line">			let person = reactive(&#123;</span><br><span class="line">				name:&#x27;张三&#x27;,</span><br><span class="line">				age:18,</span><br><span class="line">				job:&#123;</span><br><span class="line">					type:&#x27;前端工程师&#x27;,</span><br><span class="line">					salary:&#x27;30K&#x27;,</span><br><span class="line">					a:&#123;</span><br><span class="line">						b:&#123;</span><br><span class="line">							c:666</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;,</span><br><span class="line">				hobby:[&#x27;抽烟&#x27;,&#x27;喝酒&#x27;,&#x27;烫头&#x27;]</span><br><span class="line">			&#125;)</span><br><span class="line"></span><br><span class="line">			//方法</span><br><span class="line">			function changeInfo()&#123;</span><br><span class="line">				person.name = &#x27;李四&#x27;</span><br><span class="line">				person.age = 48</span><br><span class="line">				person.job.type = &#x27;UI设计师&#x27;</span><br><span class="line">				person.job.salary = &#x27;60K&#x27;</span><br><span class="line">				person.job.a.b.c = 999</span><br><span class="line">				person.hobby[0] = &#x27;学习&#x27;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			//返回一个对象（常用）</span><br><span class="line">			return &#123;</span><br><span class="line">				person,</span><br><span class="line">				changeInfo</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="4-Vue3-0中的响应式原理"><a href="#4-Vue3-0中的响应式原理" class="headerlink" title="4.Vue3.0中的响应式原理"></a>4.Vue3.0中的响应式原理</h2><h3 id="vue2-x的响应式"><a href="#vue2-x的响应式" class="headerlink" title="vue2.x的响应式"></a>vue2.x的响应式</h3><ul>
<li><p>实现原理：</p>
<ul>
<li><p>对象类型：通过<code>Object.defineProperty()</code>对属性的读取、修改进行拦截（数据劫持）。</p>
</li>
<li><p>数组类型：通过重写更新数组的一系列方法来实现拦截。（对数组的变更方法进行了包裹）。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(data, <span class="string">&#x27;count&#x27;</span>, &#123;</span><br><span class="line">    get () &#123;&#125;, </span><br><span class="line">    set () &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>存在问题：</p>
<ul>
<li>新增属性、删除属性, 界面不会更新。</li>
<li>直接通过下标修改数组, 界面不会自动更新。</li>
</ul>
</li>
</ul>
<h3 id="Vue3-0的响应式"><a href="#Vue3-0的响应式" class="headerlink" title="Vue3.0的响应式"></a>Vue3.0的响应式</h3><ul>
<li><p>实现原理: </p>
<ul>
<li><p>通过Proxy（代理）:  拦截对象中任意属性的变化, 包括：属性值的读写、属性的添加、属性的删除等。</p>
</li>
<li><p>通过Reflect（反射）:  对源对象的属性进行操作。</p>
</li>
<li><p>MDN文档中描述的Proxy与Reflect：</p>
<ul>
<li><p>Proxy：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy</a></p>
</li>
<li><p>Reflect：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect</a></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Proxy</span>(data, &#123;</span><br><span class="line">	<span class="comment">// 拦截读取属性值</span></span><br><span class="line">    get (target, prop) &#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target, prop)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 拦截设置属性值或添加新属性</span></span><br><span class="line">    set (target, prop, value) &#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">set</span>(target, prop, value)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 拦截删除属性</span></span><br><span class="line">    deleteProperty (target, prop) &#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">deleteProperty</span>(target, prop)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">proxy.<span class="property">name</span> = <span class="string">&#x27;tom&#x27;</span>   </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="5-reactive对比ref"><a href="#5-reactive对比ref" class="headerlink" title="5.reactive对比ref"></a>5.reactive对比ref</h2><ul>
<li>从定义数据角度对比：<ul>
<li>ref用来定义：<strong style="color:#DD5145">基本类型数据</strong>。</li>
<li>reactive用来定义：<strong style="color:#DD5145">对象（或数组）类型数据</strong>。</li>
<li>备注：ref也可以用来定义<strong style="color:#DD5145">对象（或数组）类型数据</strong>, 它内部会自动通过<code>reactive</code>转为<strong style="color:#DD5145">代理对象</strong>。</li>
</ul>
</li>
<li>从原理角度对比：<ul>
<li>ref通过<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>来实现响应式（数据劫持）。</li>
<li>reactive通过使用<strong style="color:#DD5145">Proxy</strong>来实现响应式（数据劫持）, 并通过<strong style="color:#DD5145">Reflect</strong>操作<strong style="color:orange">源对象</strong>内部的数据。</li>
</ul>
</li>
<li>从使用角度对比：<ul>
<li>ref定义的数据：操作数据<strong style="color:#DD5145">需要</strong><code>.value</code>，读取数据时模板中直接读取<strong style="color:#DD5145">不需要</strong><code>.value</code>。</li>
<li>reactive定义的数据：操作数据与读取数据：<strong style="color:#DD5145">均不需要</strong><code>.value</code>。</li>
</ul>
</li>
</ul>
<h2 id="6-setup的两个注意点"><a href="#6-setup的两个注意点" class="headerlink" title="6.setup的两个注意点"></a>6.setup的两个注意点</h2><ul>
<li><p>setup执行的时机</p>
<ul>
<li>在beforeCreate之前执行一次，this是undefined。</li>
</ul>
</li>
<li><p>setup的参数</p>
<ul>
<li>props：值为对象，包含：组件外部传递过来，且组件内部声明接收了的属性。</li>
<li>context：上下文对象<ul>
<li>attrs: 值为对象，包含：组件外部传递过来，但没有在props配置中声明的属性, 相当于 <code>this.$attrs</code>。</li>
<li>slots: 收到的插槽内容, 相当于 <code>this.$slots</code>。</li>
<li>emit: 分发自定义事件的函数, 相当于 <code>this.$emit</code>。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="7-计算属性与监视"><a href="#7-计算属性与监视" class="headerlink" title="7.计算属性与监视"></a>7.计算属性与监视</h2><h3 id="1-computed函数"><a href="#1-computed函数" class="headerlink" title="1.computed函数"></a>1.computed函数</h3><ul>
<li><p>与Vue2.x中computed配置功能一致</p>
</li>
<li><p>写法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;computed&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">    ...</span><br><span class="line">	<span class="comment">//计算属性——简写</span></span><br><span class="line">    <span class="keyword">let</span> fullName = <span class="title function_">computed</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> person.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + person.<span class="property">lastName</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//计算属性——完整</span></span><br><span class="line">    <span class="keyword">let</span> fullName = <span class="title function_">computed</span>(&#123;</span><br><span class="line">        <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> person.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + person.<span class="property">lastName</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line">            <span class="keyword">const</span> nameArr = value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            person.<span class="property">firstName</span> = nameArr[<span class="number">0</span>]</span><br><span class="line">            person.<span class="property">lastName</span> = nameArr[<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-watch函数"><a href="#2-watch函数" class="headerlink" title="2.watch函数"></a>2.watch函数</h3><ul>
<li><p>与Vue2.x中watch配置功能一致</p>
</li>
<li><p>两个小“坑”：</p>
<ul>
<li>监视reactive定义的响应式数据时：oldValue无法正确获取、强制开启了深度监视（deep配置失效）。</li>
<li>监视reactive定义的响应式数据中某个属性时：deep配置有效。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//数据</span></span><br><span class="line">    <span class="keyword">let</span> sum = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">let</span> msg = <span class="title function_">ref</span>(<span class="string">&#x27;你好啊&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">        <span class="attr">job</span>:&#123;</span><br><span class="line">            <span class="attr">j1</span>:&#123;</span><br><span class="line">                <span class="attr">salary</span>:<span class="number">20</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//情况一：监视ref定义的响应式数据,注意，这里不需要在sum.value了</span></span><br><span class="line">    <span class="title function_">watch</span>(sum,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sum变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">    &#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//情况二：监视多个ref定义的响应式数据</span></span><br><span class="line">    <span class="title function_">watch</span>([sum,msg],<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;<span class="comment">//这里的newValue和oldValue都是数组了</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sum或msg变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">    &#125;) </span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 情况三：监视reactive定义的响应式数据</span></span><br><span class="line"><span class="comment">			若watch监视的是reactive定义的响应式数据，则无法正确获得oldValue！！</span></span><br><span class="line"><span class="comment">			若watch监视的是reactive定义的响应式数据，则强制开启了深度监视 </span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">    <span class="title function_">watch</span>(person,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">    &#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">false</span>&#125;) <span class="comment">//此处的deep配置不再奏效</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//情况四：监视reactive定义的响应式数据中的某个属性</span></span><br><span class="line">    <span class="title function_">watch</span>(<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">    &#125;) </span><br><span class="line"></span><br><span class="line">    <span class="comment">//情况五：监视reactive定义的响应式数据中的某些属性</span></span><br><span class="line">    <span class="title function_">watch</span>([<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">()=&gt;</span>person.<span class="property">name</span>],<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//特殊情况</span></span><br><span class="line">    <span class="title function_">watch</span>(<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">    &#125;,&#123;<span class="attr">deep</span>:<span class="literal">true</span>&#125;) <span class="comment">//此处由于监视的是reactive素定义的对象中的某个属性，所以deep配置有效</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-watchEffect函数"><a href="#3-watchEffect函数" class="headerlink" title="3.watchEffect函数"></a>3.watchEffect函数</h3><p>我去，这个东西好智能 </p>
<ul>
<li><p>watch的套路是：既要指明监视的属性，也要指明监视的回调。</p>
</li>
<li><p>watchEffect的套路是：不用指明监视哪个属性，监视的回调中用到哪个属性，那就监视哪个属性。</p>
</li>
<li><p>watchEffect有点像computed：</p>
<ul>
<li>但computed注重的计算出来的值（回调函数的返回值），所以必须要写返回值。</li>
<li>而watchEffect更注重的是过程（回调函数的函数体），所以不用写返回值。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//watchEffect所指定的回调中用到的数据只要发生变化，则直接重新执行回调。</span></span><br><span class="line"><span class="title function_">watchEffect</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> x1 = sum.<span class="property">value</span></span><br><span class="line">    <span class="keyword">const</span> x2 = person.<span class="property">age</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;watchEffect配置的回调执行了&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="8-生命周期"><a href="#8-生命周期" class="headerlink" title="8.生命周期"></a>8.生命周期</h2><div style="border:1px solid black;width:380px;float:left;margin-right:20px;"><strong>vue2.x的生命周期</strong><img src="../pic/lifecycle-16861119159321.png" alt="lifecycle_2" style="zoom:33%;width:1200px" /></div><div style="border:1px solid black;width:510px;height:985px;float:left"><strong>vue3.0的生命周期</strong><img src="https://cn.vuejs.org/assets/lifecycle.16e4c08e.png" alt="lifecycle_2" style="zoom:33%;width:2500px" /></div>





































































<ul>
<li>Vue3.0中可以继续使用Vue2.x中的生命周期钩子，但有有两个被更名：<ul>
<li><code>beforeDestroy</code>改名为 <code>beforeUnmount</code></li>
<li><code>destroyed</code>改名为 <code>unmounted</code></li>
</ul>
</li>
<li>Vue3.0也提供了 Composition API 形式的生命周期钩子，与Vue2.x中钩子对应关系如下：<ul>
<li><code>beforeCreate</code>&#x3D;&#x3D;&#x3D;&gt;<code>setup()</code></li>
<li><code>created</code>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>setup()</code></li>
<li><code>beforeMount</code> &#x3D;&#x3D;&#x3D;&gt;<code>onBeforeMount</code></li>
<li><code>mounted</code>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onMounted</code></li>
<li><code>beforeUpdate</code>&#x3D;&#x3D;&#x3D;&gt;<code>onBeforeUpdate</code></li>
<li><code>updated</code> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onUpdated</code></li>
<li><code>beforeUnmount</code> &#x3D;&#x3D;&gt;<code>onBeforeUnmount</code></li>
<li><code>unmounted</code> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onUnmounted</code></li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h2&gt;当前求和为：&#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;button @click=&quot;sum++&quot;&gt;点我+1&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;ref,onBeforeMount,onMounted,onBeforeUpdate,onUpdated,onBeforeUnmount,onUnmounted&#125; from &#x27;vue&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name: &#x27;Demo&#x27;,</span><br><span class="line">		</span><br><span class="line">		setup()&#123;</span><br><span class="line">			console.log(&#x27;---setup---&#x27;)</span><br><span class="line">			//数据</span><br><span class="line">			let sum = ref(0)</span><br><span class="line"></span><br><span class="line">			//通过组合式API的形式去使用生命周期钩子</span><br><span class="line">			onBeforeMount(()=&gt;&#123;</span><br><span class="line">				console.log(&#x27;---onBeforeMount---&#x27;)</span><br><span class="line">			&#125;)</span><br><span class="line">			onMounted(()=&gt;&#123;</span><br><span class="line">				console.log(&#x27;---onMounted---&#x27;)</span><br><span class="line">			&#125;)</span><br><span class="line">			onBeforeUpdate(()=&gt;&#123;</span><br><span class="line">				console.log(&#x27;---onBeforeUpdate---&#x27;)</span><br><span class="line">			&#125;)</span><br><span class="line">			onUpdated(()=&gt;&#123;</span><br><span class="line">				console.log(&#x27;---onUpdated---&#x27;)</span><br><span class="line">			&#125;)</span><br><span class="line">			onBeforeUnmount(()=&gt;&#123;</span><br><span class="line">				console.log(&#x27;---onBeforeUnmount---&#x27;)</span><br><span class="line">			&#125;)</span><br><span class="line">			onUnmounted(()=&gt;&#123;</span><br><span class="line">				console.log(&#x27;---onUnmounted---&#x27;)</span><br><span class="line">			&#125;)</span><br><span class="line"></span><br><span class="line">			//返回一个对象（常用）</span><br><span class="line">			return &#123;sum&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		//通过配置项的形式使用生命周期钩子</span><br><span class="line">		//#region </span><br><span class="line">		beforeCreate() &#123;</span><br><span class="line">			console.log(&#x27;---beforeCreate---&#x27;)</span><br><span class="line">		&#125;,</span><br><span class="line">		created() &#123;</span><br><span class="line">			console.log(&#x27;---created---&#x27;)</span><br><span class="line">		&#125;,</span><br><span class="line">		beforeMount() &#123;</span><br><span class="line">			console.log(&#x27;---beforeMount---&#x27;)</span><br><span class="line">		&#125;,</span><br><span class="line">		mounted() &#123;</span><br><span class="line">			console.log(&#x27;---mounted---&#x27;)</span><br><span class="line">		&#125;,</span><br><span class="line">		beforeUpdate()&#123;</span><br><span class="line">			console.log(&#x27;---beforeUpdate---&#x27;)</span><br><span class="line">		&#125;,</span><br><span class="line">		updated() &#123;</span><br><span class="line">			console.log(&#x27;---updated---&#x27;)</span><br><span class="line">		&#125;,</span><br><span class="line">		beforeUnmount() &#123;</span><br><span class="line">			console.log(&#x27;---beforeUnmount---&#x27;)</span><br><span class="line">		&#125;,</span><br><span class="line">		unmounted() &#123;</span><br><span class="line">			console.log(&#x27;---unmounted---&#x27;)</span><br><span class="line">		&#125;,</span><br><span class="line">		//#endregion</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/../pic/image-20230617222806545.png" alt="image-20230617222806545"></p>
<h2 id="9-自定义hook函数"><a href="#9-自定义hook函数" class="headerlink" title="9.自定义hook函数"></a>9.自定义hook函数</h2><ul>
<li><p>什么是hook？—— 本质是一个函数，把setup函数中使用的Composition API进行了封装。</p>
</li>
<li><p>类似于vue2.x中的mixin。</p>
</li>
<li><p>自定义hook的优势: 复用代码, 让setup中的逻辑更清楚易懂。</p>
</li>
</ul>
<p>新建hooks文件夹</p>
<p>hooks&#x2F;usePoint.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;reactive,onMounted,onBeforeUnmount&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line">	<span class="comment">//实现鼠标“打点”相关的数据</span></span><br><span class="line">	<span class="keyword">let</span> point = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">		<span class="attr">x</span>:<span class="number">0</span>,</span><br><span class="line">		<span class="attr">y</span>:<span class="number">0</span></span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//实现鼠标“打点”相关的方法</span></span><br><span class="line">	<span class="keyword">function</span> <span class="title function_">savePoint</span>(<span class="params">event</span>)&#123;</span><br><span class="line">		point.<span class="property">x</span> = event.<span class="property">pageX</span></span><br><span class="line">		point.<span class="property">y</span> = event.<span class="property">pageY</span></span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">pageX</span>,event.<span class="property">pageY</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//实现鼠标“打点”相关的生命周期钩子</span></span><br><span class="line">	<span class="title function_">onMounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">		<span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,savePoint)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	<span class="title function_">onBeforeUnmount</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">		<span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;click&#x27;</span>,savePoint)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> point</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>引入这个hook，实现代码复用</p>
<p>demo.vue</p>
<blockquote>
<p>引入这个hook就可以实现一个点击哪里就显示出坐标的功能，但是这个编写的是有些问题的，因为是在windows上绑定的。。。但是不影响</p>
<p>这样做的好处是，不用关心hook里面内部的细节，直接用就可以了</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h2&gt;当前求和为：&#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;button @click=&quot;sum++&quot;&gt;点我+1&lt;/button&gt;</span><br><span class="line">	&lt;hr&gt;</span><br><span class="line">	&lt;h2&gt;当前点击时鼠标的坐标为：x：&#123;&#123;point.x&#125;&#125;，y：&#123;&#123;point.y&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">	import usePoint from &#x27;../hooks/usePoint&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name: &#x27;Demo&#x27;,</span><br><span class="line">		setup()&#123;</span><br><span class="line">			//数据</span><br><span class="line">			let sum = ref(0)</span><br><span class="line">			let point = usePoint()</span><br><span class="line">			</span><br><span class="line"></span><br><span class="line">			//这里也返回了point</span><br><span class="line">			return &#123;sum,point&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="10-toRef"><a href="#10-toRef" class="headerlink" title="10.toRef"></a>10.toRef</h2><ul>
<li><p>作用：创建一个 ref 对象，其value值指向另一个对象中的某个属性。</p>
</li>
<li><p>语法：<code>const name = toRef(person,&#39;name&#39;)</code></p>
</li>
<li><p>应用:   要将响应式对象中的某个属性单独提供给外部使用时。</p>
</li>
<li><p>扩展：<code>toRefs</code> 与<code>toRef</code>功能一致，但可以批量创建多个 ref 对象，语法：<code>toRefs(person)</code></p>
</li>
</ul>
<p>这个东西给我的感觉是Java里面的string类里面的intern方法。返回引用地址</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h4&gt;&#123;&#123;person&#125;&#125;&lt;/h4&gt;</span><br><span class="line">	&lt;h2&gt;姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;h2&gt;年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;h2&gt;薪资：&#123;&#123;job.j1.salary&#125;&#125;K&lt;/h2&gt;</span><br><span class="line">	&lt;button @click=&quot;name+=&#x27;~&#x27;&quot;&gt;修改姓名&lt;/button&gt;</span><br><span class="line">	&lt;button @click=&quot;age++&quot;&gt;增长年龄&lt;/button&gt;</span><br><span class="line">	&lt;button @click=&quot;job.j1.salary++&quot;&gt;涨薪&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;ref,reactive,toRef,toRefs&#125; from &#x27;vue&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name: &#x27;Demo&#x27;,</span><br><span class="line">		setup()&#123;</span><br><span class="line">			//数据</span><br><span class="line">			let person = reactive(&#123;</span><br><span class="line">				name:&#x27;张三&#x27;,</span><br><span class="line">				age:18,</span><br><span class="line">				job:&#123;</span><br><span class="line">					j1:&#123;</span><br><span class="line">						salary:20</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;)</span><br><span class="line"></span><br><span class="line">			// const name1 = person.name</span><br><span class="line">			// console.log(&#x27;%%%&#x27;,name1)</span><br><span class="line"></span><br><span class="line">			// const name2 = toRef(person,&#x27;name&#x27;)</span><br><span class="line">			// console.log(&#x27;####&#x27;,name2)</span><br><span class="line"></span><br><span class="line">			const x = toRefs(person)</span><br><span class="line">			console.log(&#x27;******&#x27;,x)</span><br><span class="line"></span><br><span class="line">			//返回一个对象（常用）</span><br><span class="line">			return &#123;</span><br><span class="line">				person,</span><br><span class="line">				// name:toRef(person,&#x27;name&#x27;),</span><br><span class="line">				// age:toRef(person,&#x27;age&#x27;),</span><br><span class="line">				// salary:toRef(person.job.j1,&#x27;salary&#x27;),//这里可以直接用salary取</span><br><span class="line">				...toRefs(person)//解构了，但是这里只能拆第一层</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>




<h1 id="三、其它-Composition-API"><a href="#三、其它-Composition-API" class="headerlink" title="三、其它 Composition API"></a>三、其它 Composition API</h1><h2 id="1-shallowReactive-与-shallowRef"><a href="#1-shallowReactive-与-shallowRef" class="headerlink" title="1.shallowReactive 与 shallowRef"></a>1.shallowReactive 与 shallowRef</h2><ul>
<li><p>shallowReactive：只处理对象最外层属性的响应式（浅响应式）。</p>
</li>
<li><p>shallowRef：只处理基本数据类型的响应式, 不进行对象的响应式处理。</p>
</li>
<li><p>什么时候使用?</p>
<ul>
<li>如果有一个对象数据，结构比较深, 但变化时只是外层属性变化 &#x3D;&#x3D;&#x3D;&gt; shallowReactive。</li>
<li>如果有一个对象数据，后续功能不会修改该对象中的属性，而是生新的对象来替换 &#x3D;&#x3D;&#x3D;&gt; shallowRef。</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h4&gt;当前的x.y值是：&#123;&#123;x.y&#125;&#125;&lt;/h4&gt;</span><br><span class="line">	&lt;button @click=&quot;x=&#123;y:888&#125;&quot;&gt;点我替换x&lt;/button&gt;</span><br><span class="line">	&lt;button @click=&quot;x.y++&quot;&gt;点我x.y++&lt;/button&gt;</span><br><span class="line">	&lt;hr&gt;</span><br><span class="line">	&lt;h4&gt;&#123;&#123;person&#125;&#125;&lt;/h4&gt;</span><br><span class="line">	&lt;h2&gt;姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;h2&gt;年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;h2&gt;薪资：&#123;&#123;job.j1.salary&#125;&#125;K&lt;/h2&gt;</span><br><span class="line">	&lt;button @click=&quot;name+=&#x27;~&#x27;&quot;&gt;修改姓名&lt;/button&gt;</span><br><span class="line">	&lt;button @click=&quot;age++&quot;&gt;增长年龄&lt;/button&gt;</span><br><span class="line">	&lt;button @click=&quot;job.j1.salary++&quot;&gt;涨薪&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;ref,reactive,toRef,toRefs,shallowReactive,shallowRef&#125; from &#x27;vue&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name: &#x27;Demo&#x27;,</span><br><span class="line">		setup()&#123;</span><br><span class="line">			//数据</span><br><span class="line">			// let person = shallowReactive(&#123; //只考虑第一层数据的响应式</span><br><span class="line">			let person = reactive(&#123;</span><br><span class="line">				name:&#x27;张三&#x27;,</span><br><span class="line">				age:18,</span><br><span class="line">				job:&#123;</span><br><span class="line">					j1:&#123;</span><br><span class="line">						salary:20</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;)</span><br><span class="line">			let x = shallowRef(&#123;</span><br><span class="line">				y:0</span><br><span class="line">			&#125;)</span><br><span class="line">			console.log(&#x27;******&#x27;,x)</span><br><span class="line"></span><br><span class="line">			return &#123;</span><br><span class="line">				x,</span><br><span class="line">				person,</span><br><span class="line">				...toRefs(person)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="2-readonly-与-shallowReadonly"><a href="#2-readonly-与-shallowReadonly" class="headerlink" title="2.readonly 与 shallowReadonly"></a>2.readonly 与 shallowReadonly</h2><ul>
<li>readonly: 让一个响应式数据变为只读的（深只读）。</li>
<li>shallowReadonly：让一个响应式数据变为只读的（浅只读）。</li>
<li>应用场景: 不希望数据被修改时，而且有可能这个数据是别人传过来的。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h4&gt;当前求和为：&#123;&#123;sum&#125;&#125;&lt;/h4&gt;</span><br><span class="line">	&lt;button @click=&quot;sum++&quot;&gt;点我++&lt;/button&gt;</span><br><span class="line">	&lt;hr&gt;</span><br><span class="line">	&lt;h2&gt;姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;h2&gt;年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">	&lt;h2&gt;薪资：&#123;&#123;job.j1.salary&#125;&#125;K&lt;/h2&gt;</span><br><span class="line">	&lt;button @click=&quot;name+=&#x27;~&#x27;&quot;&gt;修改姓名&lt;/button&gt;</span><br><span class="line">	&lt;button @click=&quot;age++&quot;&gt;增长年龄&lt;/button&gt;</span><br><span class="line">	&lt;button @click=&quot;job.j1.salary++&quot;&gt;涨薪&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;ref,reactive,toRefs,readonly,shallowReadonly&#125; from &#x27;vue&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name: &#x27;Demo&#x27;,</span><br><span class="line">		setup()&#123;</span><br><span class="line">			//数据</span><br><span class="line">			let sum = ref(0)</span><br><span class="line">			let person = reactive(&#123;</span><br><span class="line">				name:&#x27;张三&#x27;,</span><br><span class="line">				age:18,</span><br><span class="line">				job:&#123;</span><br><span class="line">					j1:&#123;</span><br><span class="line">						salary:20</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;)</span><br><span class="line"></span><br><span class="line">            //这里面的person从现在开始就不能再改变了</span><br><span class="line">			person = readonly(person)</span><br><span class="line">            //浅层次的不能再改变，如果是深层次的还可以改</span><br><span class="line">			// person = shallowReadonly(person)</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">               </span><br><span class="line">			// sum = readonly(sum)</span><br><span class="line">			// sum = shallowReadonly(sum)</span><br><span class="line"></span><br><span class="line">			//返回一个对象（常用）</span><br><span class="line">			return &#123;</span><br><span class="line">				sum,</span><br><span class="line">				...toRefs(person)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="3-toRaw-与-markRaw"><a href="#3-toRaw-与-markRaw" class="headerlink" title="3.toRaw 与 markRaw"></a>3.toRaw 与 markRaw</h2><ul>
<li>toRaw：<ul>
<li>作用：将一个由<code>reactive</code>生成的<strong style="color:orange">响应式对象</strong>转为<strong style="color:orange">普通对象</strong>。</li>
<li>使用场景：用于读取响应式对象对应的普通对象，对这个普通对象的所有操作，不会引起页面更新。</li>
</ul>
</li>
<li>markRaw：<ul>
<li>作用：标记一个对象，使其永远不会再成为响应式对象（如果是直接在响应式对象上新增属性的话，默认的话也是响应式的，但是有些需求我们不想让他是响应式的）。</li>
<li>应用场景:<ol>
<li>有些值不应被设置为响应式的，例如复杂的第三方类库等。</li>
<li>当渲染具有不可变数据源的大列表时，跳过响应式转换可以提高性能。</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="4-customRef"><a href="#4-customRef" class="headerlink" title="4.customRef"></a>4.customRef</h2><ul>
<li><p>作用：创建一个自定义的 ref，并对其依赖项跟踪和更新触发进行显式控制。</p>
</li>
<li><p>实现防抖效果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;input type=&quot;text&quot; v-model=&quot;keyword&quot;&gt;</span><br><span class="line">	&lt;h3&gt;&#123;&#123;keyword&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;ref,customRef&#125; from &#x27;vue&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;Demo&#x27;,</span><br><span class="line">		setup()&#123;</span><br><span class="line">			// let keyword = ref(&#x27;hello&#x27;) //使用Vue准备好的内置ref</span><br><span class="line">			//自定义一个myRef</span><br><span class="line">			function myRef(value,delay)&#123;</span><br><span class="line">				let timer</span><br><span class="line">				//通过customRef去实现自定义</span><br><span class="line">				return customRef((track,trigger)=&gt;&#123;</span><br><span class="line">					return&#123;</span><br><span class="line">						get()&#123;</span><br><span class="line">							track() //告诉Vue这个value值是需要被“追踪”的（提前跟get说，这个value是有用的）</span><br><span class="line">							return value</span><br><span class="line">						&#125;,</span><br><span class="line">						set(newValue)&#123;</span><br><span class="line">							clearTimeout(timer)</span><br><span class="line">							timer = setTimeout(()=&gt;&#123;</span><br><span class="line">								value = newValue</span><br><span class="line">								trigger() //告诉Vue去更新界面</span><br><span class="line">							&#125;,delay)</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;)</span><br><span class="line">			&#125;</span><br><span class="line">			let keyword = myRef(&#x27;hello&#x27;,500) //使用程序员自定义的ref</span><br><span class="line">			return &#123;</span><br><span class="line">				keyword</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-provide-与-inject"><a href="#5-provide-与-inject" class="headerlink" title="5.provide 与 inject"></a>5.provide 与 inject</h2><p>提供数据和注入数据</p>
<p><img src="/../pic/image-20230618161027072.png" alt="image-20230618161027072"></p>
<ul>
<li><p>作用：实现<strong style="color:#DD5145">祖与后代（跨级）组件间</strong>通信，但是其实子组件也可以用，不过我们一般用props来实现父子间传递数据</p>
</li>
<li><p>套路：父组件有一个 <code>provide</code> 选项来提供数据，后代组件有一个 <code>inject</code> 选项来开始使用这些数据</p>
</li>
<li><p>具体写法：</p>
<ol>
<li><p>祖组件中：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">	......</span><br><span class="line">    <span class="keyword">let</span> car = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;奔驰&#x27;</span>,<span class="attr">price</span>:<span class="string">&#x27;40万&#x27;</span>&#125;)</span><br><span class="line">    <span class="title function_">provide</span>(<span class="string">&#x27;car&#x27;</span>,car)</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>后代（孙及后代）组件中：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params">props,context</span>)&#123;</span><br><span class="line">	......</span><br><span class="line">    <span class="keyword">const</span> car = <span class="title function_">inject</span>(<span class="string">&#x27;car&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;car&#125;</span><br><span class="line">	......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<h2 id="6-响应式数据的判断"><a href="#6-响应式数据的判断" class="headerlink" title="6.响应式数据的判断"></a>6.响应式数据的判断</h2><ul>
<li>isRef: 检查一个值是否为一个 ref 对象</li>
<li>isReactive: 检查一个对象是否是由 <code>reactive</code> 创建的响应式代理</li>
<li>isReadonly: 检查一个对象是否是由 <code>readonly</code> 创建的只读代理</li>
<li>isProxy: 检查一个对象是否是由 <code>reactive</code> 或者 <code>readonly</code> 方法创建的代理</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h3&gt;我是App组件&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;ref, reactive,toRefs,readonly,isRef,isReactive,isReadonly,isProxy &#125; from &#x27;vue&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;App&#x27;,</span><br><span class="line">		setup()&#123;</span><br><span class="line">			let car = reactive(&#123;name:&#x27;奔驰&#x27;,price:&#x27;40W&#x27;&#125;)</span><br><span class="line">			let sum = ref(0)</span><br><span class="line">			let car2 = readonly(car)</span><br><span class="line"></span><br><span class="line">			console.log(isRef(sum))//true</span><br><span class="line">			console.log(isReactive(car))//true</span><br><span class="line">			console.log(isReadonly(car2))//true</span><br><span class="line">			console.log(isProxy(car))//true</span><br><span class="line">			console.log(isProxy(sum))//false</span><br><span class="line"></span><br><span class="line">			</span><br><span class="line">			return &#123;...toRefs(car)&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">	.app&#123;</span><br><span class="line">		background-color: gray;</span><br><span class="line">		padding: 10px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h1 id="四、Composition-API-的优势"><a href="#四、Composition-API-的优势" class="headerlink" title="四、Composition API 的优势"></a>四、Composition API 的优势</h1><h2 id="1-Options-API-存在的问题"><a href="#1-Options-API-存在的问题" class="headerlink" title="1.Options API 存在的问题"></a>1.Options API 存在的问题</h2><p>使用传统OptionsAPI中，新增或者修改一个需求，就需要分别在data，methods，computed里修改 。</p>
<div style="width:600px;height:370px;overflow:hidden;float:left">
    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f84e4e2c02424d9a99862ade0a2e4114~tplv-k3u1fbpfcp-watermark.image" style="width:600px;float:left" />
</div>
<div style="width:300px;height:370px;overflow:hidden;float:left">
    <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5ac7e20d1784887a826f6360768a368~tplv-k3u1fbpfcp-watermark.image" style="zoom:50%;width:560px;left" /> 
</div>


















<h2 id="2-Composition-API-的优势"><a href="#2-Composition-API-的优势" class="headerlink" title="2.Composition API 的优势"></a>2.Composition API 的优势</h2><p>我们可以更加优雅的组织我们的代码，函数。让相关功能的代码更加有序的组织在一起。</p>
<p>同一个颜色意思就是我们在一个功能里面需要用到的东西</p>
<p>主要的思想就是：相关的data、method、computed、watch组合成一个hook</p>
<div style="width:500px;height:340px;overflow:hidden;float:left">
    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc0be8211fc54b6c941c036791ba4efe~tplv-k3u1fbpfcp-watermark.image"style="height:360px"/>
</div>
<div style="width:430px;height:340px;overflow:hidden;float:left">
    <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6cc55165c0e34069a75fe36f8712eb80~tplv-k3u1fbpfcp-watermark.image"style="height:360px"/>
</div>














<h1 id="五、新的组件"><a href="#五、新的组件" class="headerlink" title="五、新的组件"></a>五、新的组件</h1><h2 id="1-Fragment"><a href="#1-Fragment" class="headerlink" title="1.Fragment"></a>1.Fragment</h2><ul>
<li>在Vue2中: 组件必须有一个根标签</li>
<li>在Vue3中: 组件可以没有根标签, 内部会将多个标签包含在一个Fragment虚拟元素中</li>
<li>好处: 减少标签层级, 减小内存占用</li>
</ul>
<h2 id="2-Teleport"><a href="#2-Teleport" class="headerlink" title="2.Teleport"></a>2.Teleport</h2><p>Teleport是传送的意思</p>
<ul>
<li><p>什么是Teleport？—— <code>Teleport</code> 是一种能够将我们的<strong style="color:#DD5145">组件html结构</strong>移动到指定位置的技术。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;isShow = true&quot;&gt;点我弹个窗&lt;/button&gt;</span><br><span class="line">    &lt;!-- 这里的body的意思是移动到body标签里面 --&gt;</span><br><span class="line">    &lt;teleport to=&quot;body&quot;&gt;</span><br><span class="line">      &lt;div v-if=&quot;isShow&quot; class=&quot;mask&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;dialog&quot;&gt;</span><br><span class="line">          &lt;h3&gt;我是一个弹窗&lt;/h3&gt;</span><br><span class="line">          &lt;h4&gt;一些内容&lt;/h4&gt;</span><br><span class="line">          &lt;h4&gt;一些内容&lt;/h4&gt;</span><br><span class="line">          &lt;h4&gt;一些内容&lt;/h4&gt;</span><br><span class="line">          &lt;button @click=&quot;isShow = false&quot;&gt;关闭弹窗&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/teleport&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;Dialog&quot;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    let isShow = ref(false);</span><br><span class="line">    return &#123; isShow &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.mask &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 0;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  background-color: rgba(0, 0, 0, 0.5);</span><br><span class="line">&#125;</span><br><span class="line">.dialog &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 50%;</span><br><span class="line">  left: 50%;</span><br><span class="line">  transform: translate(-50%, -50%);</span><br><span class="line">  text-align: center;</span><br><span class="line">  width: 300px;</span><br><span class="line">  height: 300px;</span><br><span class="line">  background-color: green;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-Suspense"><a href="#3-Suspense" class="headerlink" title="3.Suspense"></a>3.Suspense</h2><ul>
<li><p>等待异步组件时渲染一些额外内容，让应用有更好的用户体验</p>
</li>
<li><p>使用步骤：</p>
<ul>
<li><p>异步引入组件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;defineAsyncComponent&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Child</span> = <span class="title function_">defineAsyncComponent</span>(<span class="function">()=&gt;</span><span class="title function_">import</span>(<span class="string">&#x27;./components/Child.vue&#x27;</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>Suspense</code>包裹组件，并配置好<code>default</code> 与 <code>fallback</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div class=&quot;app&quot;&gt;</span><br><span class="line">		&lt;h3&gt;我是App组件&lt;/h3&gt;</span><br><span class="line">		&lt;Suspense&gt;</span><br><span class="line">			&lt;template v-slot:default&gt;</span><br><span class="line">				&lt;Child/&gt;</span><br><span class="line">			&lt;/template&gt;</span><br><span class="line">			&lt;template v-slot:fallback&gt;</span><br><span class="line">				&lt;h3&gt;加载中.....&lt;/h3&gt;</span><br><span class="line">			&lt;/template&gt;</span><br><span class="line">		&lt;/Suspense&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>总代码：</p>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div class=&quot;app&quot;&gt;</span><br><span class="line">		&lt;h3&gt;我是App组件&lt;/h3&gt;</span><br><span class="line">		&lt;Suspense&gt;</span><br><span class="line">			&lt;template v-slot:default&gt;</span><br><span class="line">				&lt;Child/&gt;</span><br><span class="line">			&lt;/template&gt;</span><br><span class="line">			&lt;template v-slot:fallback&gt;</span><br><span class="line">				&lt;h3&gt;稍等，加载中...&lt;/h3&gt;</span><br><span class="line">			&lt;/template&gt;</span><br><span class="line">		&lt;/Suspense&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	// import Child from &#x27;./components/Child&#x27;//静态引入</span><br><span class="line">	import &#123;defineAsyncComponent&#125; from &#x27;vue&#x27; </span><br><span class="line">	const Child = defineAsyncComponent(()=&gt;import(&#x27;./components/Child&#x27;)) //异步引入</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;App&#x27;,</span><br><span class="line">		components:&#123;Child&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">	.app&#123;</span><br><span class="line">		background-color: gray;</span><br><span class="line">		padding: 10px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>Child.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div class=&quot;child&quot;&gt;</span><br><span class="line">		&lt;h3&gt;我是Child组件&lt;/h3&gt;</span><br><span class="line">		&#123;&#123;sum&#125;&#125;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;Child&#x27;,</span><br><span class="line">		async setup()&#123;</span><br><span class="line">			let sum = ref(0)</span><br><span class="line">            &lt;!--这里可以设置3秒后在进行渲染child这个组件--&gt;</span><br><span class="line">			let p = new Promise((resolve,reject)=&gt;&#123;</span><br><span class="line">				setTimeout(()=&gt;&#123;</span><br><span class="line">					resolve(&#123;sum&#125;)</span><br><span class="line">				&#125;,3000)</span><br><span class="line">			&#125;)</span><br><span class="line">			return await p</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">	.child&#123;</span><br><span class="line">		background-color: skyblue;</span><br><span class="line">		padding: 10px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h1 id="六、其他"><a href="#六、其他" class="headerlink" title="六、其他"></a>六、其他</h1><h2 id="1-全局API的转移"><a href="#1-全局API的转移" class="headerlink" title="1.全局API的转移"></a>1.全局API的转移</h2><ul>
<li><p>Vue 2.x 有许多全局 API 和配置。</p>
<ul>
<li><p>例如：注册全局组件、注册全局指令等。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//注册全局组件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;MyButton&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">data</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="attr">template</span>: <span class="string">&#x27;&lt;button @click=&quot;count++&quot;&gt;Clicked &#123;&#123; count &#125;&#125; times.&lt;/button&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//注册全局指令</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;focus&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">inserted</span>: <span class="function"><span class="params">el</span> =&gt;</span> el.<span class="title function_">focus</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Vue3.0中对这些API做出了调整：</p>
<ul>
<li><p>将全局的API，即：<code>Vue.xxx</code>调整到应用实例（<code>app</code>）上</p>
<table>
<thead>
<tr>
<th>2.x 全局 API（<code>Vue</code>）</th>
<th>3.x 实例 API (<code>app</code>)</th>
</tr>
</thead>
<tbody><tr>
<td>Vue.config.xxxx</td>
<td>app.config.xxxx</td>
</tr>
<tr>
<td>Vue.config.productionTip</td>
<td><strong style="color:#DD5145">移除</strong></td>
</tr>
<tr>
<td>Vue.component</td>
<td>app.component</td>
</tr>
<tr>
<td>Vue.directive</td>
<td>app.directive</td>
</tr>
<tr>
<td>Vue.mixin</td>
<td>app.mixin</td>
</tr>
<tr>
<td>Vue.use</td>
<td>app.use</td>
</tr>
<tr>
<td>Vue.prototype</td>
<td>app.config.globalProperties</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
</ul>
<h2 id="2-其他改变"><a href="#2-其他改变" class="headerlink" title="2.其他改变"></a>2.其他改变</h2><ul>
<li><p>data选项应始终被声明为一个函数。</p>
</li>
<li><p>过度动画类名的更改（其实就是改了个名字）：</p>
<ul>
<li><p>Vue2.x写法</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.v-enter</span>,</span><br><span class="line"><span class="selector-class">.v-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.v-leave</span>,</span><br><span class="line"><span class="selector-class">.v-enter-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Vue3.x写法</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.v-enter-from</span>,</span><br><span class="line"><span class="selector-class">.v-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v-leave-from</span>,</span><br><span class="line"><span class="selector-class">.v-enter-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong style="color:#DD5145">移除</strong>keyCode作为 v-on 的修饰符，同时也不再支持<code>config.keyCodes</code></p>
</li>
<li><p><strong style="color:#DD5145">移除</strong><code>v-on.native</code>修饰符（自定义事件上用的）</p>
<ul>
<li><p>父组件中绑定事件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;my-component</span><br><span class="line">  v-on:close=&quot;handleComponentEvent&quot;</span><br><span class="line">  v-on:click=&quot;handleNativeClickEvent&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>子组件中声明自定义事件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    emits: [&#x27;close&#x27;]</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong style="color:#DD5145">移除</strong>过滤器（filter）</p>
<blockquote>
<p>过滤器虽然这看起来很方便，但它需要一个自定义语法，打破大括号内表达式是 “只是 JavaScript” 的假设，这不仅有学习成本，而且有实现成本！建议用方法调用或计算属性去替换过滤器。</p>
</blockquote>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">小白菜</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/06/03/Vue2-Vue3/">http://example.com/2023/06/03/Vue2-Vue3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">是小白菜哦</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a></div><div class="post_share"><div class="social-share" data-image="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220806101221.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/06/13/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E5%A4%8D%E4%B9%A0/"><img class="prev-cover" src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220806101221.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">计算机组成原理复习</div></div></a></div><div class="next-post pull-right"><a href="/2023/05/29/Node-js/"><img class="next-cover" src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220806101221.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Node.js</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/05/26/Ajax-Git/" title="Ajax-Git"><img class="cover" src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220806101221.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-26</div><div class="title">Ajax-Git</div></div></a></div><div><a href="/2023/05/13/HTML5-CSS3-%E7%A7%BB%E5%8A%A8web/" title="HTML5+CSS3+移动web"><img class="cover" src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220806101221.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-13</div><div class="title">HTML5+CSS3+移动web</div></div></a></div><div><a href="/2023/05/19/JavaScript/" title="JavaScript"><img class="cover" src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220806101221.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-19</div><div class="title">JavaScript</div></div></a></div><div><a href="/2023/07/03/%E5%B0%9A%E7%A1%85%E8%B0%B7Web%E5%89%8D%E7%AB%AFES6%E6%95%99%E7%A8%8B%EF%BC%8C%E6%B6%B5%E7%9B%96ES6-ES11/" title="尚硅谷Web前端ES6教程，涵盖ES6-ES11"><img class="cover" src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220806101221.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-03</div><div class="title">尚硅谷Web前端ES6教程，涵盖ES6-ES11</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/pic.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">小白菜</div><div class="author-info__description">头发多多</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">72</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">22</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Xiaobaicai350"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Xiaobaicai350" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1499487526@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">阳光斑斓 微风含香 爱与四季 皆是向往 <img height="230" lengh="230" src="https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/1.gif"/></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E4%B8%8E-webpack"><span class="toc-number">1.</span> <span class="toc-text">前端工程化与 webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96"><span class="toc-number">1.1.</span> <span class="toc-text">前端工程化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%B0%8F%E7%99%BD%E7%9C%BC%E4%B8%AD%E7%9A%84%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-vs-%E5%AE%9E%E9%99%85%E7%9A%84%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.小白眼中的前端开发 vs 实际的前端开发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BB%80%E4%B9%88%E6%98%AF%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96"><span class="toc-number">1.1.2.</span> <span class="toc-text">2.什么是前端工程化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.1.3.</span> <span class="toc-text">3.前端工程化的解决方案</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack-%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.2.</span> <span class="toc-text">webpack 的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF-webpack"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.什么是 webpack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E5%88%97%E8%A1%A8%E9%9A%94%E8%A1%8C%E5%8F%98%E8%89%B2%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.创建列表隔行变色项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%AE%89%E8%A3%85-webpack"><span class="toc-number">1.2.3.</span> <span class="toc-text">3.在项目中安装 webpack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E9%85%8D%E7%BD%AE-webpack"><span class="toc-number">1.2.4.</span> <span class="toc-text">4.在项目中配置 webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#mode-%E7%9A%84%E5%8F%AF%E9%80%89%E5%80%BC"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">mode 的可选值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-config-js-%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">webpack.config.js 文件的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-%E4%B8%AD%E7%9A%84%E9%BB%98%E8%AE%A4%E7%BA%A6%E5%AE%9A"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">webpack 中的默认约定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%89%93%E5%8C%85%E7%9A%84%E5%85%A5%E5%8F%A3%E4%B8%8E%E5%87%BA%E5%8F%A3"><span class="toc-number">1.2.4.4.</span> <span class="toc-text">自定义打包的入口与出口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack-%E4%B8%AD%E7%9A%84%E6%8F%92%E4%BB%B6"><span class="toc-number">1.3.</span> <span class="toc-text">webpack 中的插件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.3.1.</span> <span class="toc-text">webpack 插件的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-dev-server"><span class="toc-number">1.3.2.</span> <span class="toc-text">webpack-dev-server</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-webpack-dev-server"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">安装 webpack-dev-server</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-webpack-dev-server"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">配置 webpack-dev-server</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E7%94%9F%E6%88%90%E7%9A%84%E6%96%87%E4%BB%B6%E5%93%AA%E5%84%BF%E5%8E%BB%E4%BA%86%EF%BC%9F"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">打包生成的文件哪儿去了？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%88%B0%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6%E8%AF%A5%E5%A6%82%E4%BD%95%E8%AE%BF%E9%97%AE%EF%BC%9F"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">生成到内存中的文件该如何访问？</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#html-webpack-plugin"><span class="toc-number">1.3.3.</span> <span class="toc-text">html-webpack-plugin</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-html-webpack-plugin"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">安装 html-webpack-plugin</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-html-webpack-plugin"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">配置 html-webpack-plugin</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%83%91-html-webpack-plugin"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">解惑 html-webpack-plugin</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#devServer-%E8%8A%82%E7%82%B9"><span class="toc-number">1.3.4.</span> <span class="toc-text">devServer 节点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack-%E4%B8%AD%E7%9A%84-loader"><span class="toc-number">1.4.</span> <span class="toc-text">webpack 中的 loader</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#loader-%E6%A6%82%E8%BF%B0"><span class="toc-number">1.4.1.</span> <span class="toc-text">loader 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#loader-%E7%9A%84%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">1.4.2.</span> <span class="toc-text">loader 的调用过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E5%A4%84%E7%90%86-css-%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.3.</span> <span class="toc-text">打包处理 css 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E5%A4%84%E7%90%86-less-%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.4.</span> <span class="toc-text">打包处理 less 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E5%A4%84%E7%90%86%E6%A0%B7%E5%BC%8F%E8%A1%A8%E4%B8%AD%E4%B8%8E-url-%E8%B7%AF%E5%BE%84%E7%9B%B8%E5%85%B3%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.5.</span> <span class="toc-text">打包处理样式表中与 url 路径相关的文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E5%A4%84%E7%90%86-js-%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95"><span class="toc-number">1.4.6.</span> <span class="toc-text">打包处理 js 文件中的高级语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-babel-loader-%E7%9B%B8%E5%85%B3%E7%9A%84%E5%8C%85"><span class="toc-number">1.4.6.1.</span> <span class="toc-text">安装 babel-loader 相关的包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-babel-loader"><span class="toc-number">1.4.6.2.</span> <span class="toc-text">配置 babel-loader</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E5%8F%91%E5%B8%83"><span class="toc-number">1.5.</span> <span class="toc-text">打包发布</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%89%93%E5%8C%85%E5%8F%91%E5%B8%83"><span class="toc-number">1.5.1.</span> <span class="toc-text">为什么要打包发布</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-webpack-%E7%9A%84%E6%89%93%E5%8C%85%E5%8F%91%E5%B8%83"><span class="toc-number">1.5.2.</span> <span class="toc-text">配置 webpack 的打包发布</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%8A-JavaScript-%E6%96%87%E4%BB%B6%E7%BB%9F%E4%B8%80%E7%94%9F%E6%88%90%E5%88%B0-js-%E7%9B%AE%E5%BD%95%E4%B8%AD"><span class="toc-number">1.5.3.</span> <span class="toc-text">把 JavaScript 文件统一生成到 js 目录中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%8A%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%E7%BB%9F%E4%B8%80%E7%94%9F%E6%88%90%E5%88%B0-image-%E7%9B%AE%E5%BD%95%E4%B8%AD"><span class="toc-number">1.5.4.</span> <span class="toc-text">把图片文件统一生成到 image 目录中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E6%B8%85%E7%90%86-dist-%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%97%A7%E6%96%87%E4%BB%B6"><span class="toc-number">1.5.5.</span> <span class="toc-text">自动清理 dist 目录下的旧文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Source-Map"><span class="toc-number">1.6.</span> <span class="toc-text">Source Map</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.6.1.</span> <span class="toc-text">生产环境遇到的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Source-Map"><span class="toc-number">1.6.2.</span> <span class="toc-text">什么是 Source Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84-Source-Map"><span class="toc-number">1.6.3.</span> <span class="toc-text">webpack 开发环境下的 Source Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E9%BB%98%E8%AE%A4-Source-Map-%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.6.4.</span> <span class="toc-text">解决默认 Source Map 的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84-Source-Map"><span class="toc-number">1.6.5.</span> <span class="toc-text">webpack 生产环境下的 Source Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AA%E5%AE%9A%E4%BD%8D%E8%A1%8C%E6%95%B0%E4%B8%8D%E6%9A%B4%E9%9C%B2%E6%BA%90%E7%A0%81"><span class="toc-number">1.6.6.</span> <span class="toc-text">只定位行数不暴露源码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%BD%8D%E8%A1%8C%E6%95%B0%E4%B8%94%E6%9A%B4%E9%9C%B2%E6%BA%90%E7%A0%81"><span class="toc-number">1.6.7.</span> <span class="toc-text">定位行数且暴露源码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Source-Map-%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.6.8.</span> <span class="toc-text">Source Map 的最佳实践</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E5%BC%80%E5%8F%91%E4%B8%AD%E9%9C%80%E8%A6%81%E8%87%AA%E5%B7%B1%E9%85%8D%E7%BD%AE-webpack-%E5%90%97%EF%BC%9F"><span class="toc-number">1.6.9.</span> <span class="toc-text">实际开发中需要自己配置 webpack 吗？</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">@符号的作用</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue2"><span class="toc-number">3.</span> <span class="toc-text">Vue2</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vue2-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8"><span class="toc-number">3.1.</span> <span class="toc-text">vue2 基础入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">3.1.1.</span> <span class="toc-text">Vue的特性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E8%A7%86%E5%9B%BE"><span class="toc-number">3.1.1.1.</span> <span class="toc-text">数据驱动视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-number">3.1.1.2.</span> <span class="toc-text">双向数据绑定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MVVM"><span class="toc-number">3.1.1.3.</span> <span class="toc-text">MVVM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MVVM-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">3.1.1.4.</span> <span class="toc-text">MVVM 的工作原理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.1.2.</span> <span class="toc-text">vue 的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">3.1.2.1.</span> <span class="toc-text">基本使用步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%A3%E7%A0%81%E4%B8%8E-MVVM-%E7%9A%84%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="toc-number">3.1.2.2.</span> <span class="toc-text">基本代码与 MVVM 的对应关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AAvue%E7%A8%8B%E5%BA%8F"><span class="toc-number">3.1.2.3.</span> <span class="toc-text">第一个vue程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5"><span class="toc-number">3.1.2.4.</span> <span class="toc-text">创建代码片段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#el%E6%8C%82%E8%BD%BD%E7%82%B9"><span class="toc-number">3.1.2.5.</span> <span class="toc-text">el挂载点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#data-%E6%95%B0%E6%8D%AE%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.1.2.6.</span> <span class="toc-text">data 数据对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E9%A1%BEObject-defineproperty%E6%96%B9%E6%B3%95"><span class="toc-number">3.1.3.</span> <span class="toc-text">回顾Object.defineproperty方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-%E7%9A%84%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.</span> <span class="toc-text">vue 的指令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#js%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.1.4.1.</span> <span class="toc-text">js表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.4.2.</span> <span class="toc-text">指令的概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E6%B8%B2%E6%9F%93%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.3.</span> <span class="toc-text">内容渲染指令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#v-text"><span class="toc-number">3.1.4.3.1.</span> <span class="toc-text">v-text</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8F%92%E5%80%BC%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.1.4.3.2.</span> <span class="toc-text">插值表达式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#v-html%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.3.3.</span> <span class="toc-text">v-html指令</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%BB%91%E5%AE%9A%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.4.</span> <span class="toc-text">属性绑定指令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#v-bind%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.4.1.</span> <span class="toc-text">v-bind指令</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.5.</span> <span class="toc-text">事件绑定指令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#v-on%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.5.1.</span> <span class="toc-text">v-on指令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%8F%82%E6%95%B0%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.1.4.5.2.</span> <span class="toc-text">事件参数对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%E5%B9%B6%E4%BC%A0%E5%8F%82"><span class="toc-number">3.1.4.5.3.</span> <span class="toc-text">绑定事件并传参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#event"><span class="toc-number">3.1.4.5.4.</span> <span class="toc-text">$event</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">3.1.4.5.5.</span> <span class="toc-text">事件修饰符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">3.1.4.5.6.</span> <span class="toc-text">按键修饰符</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.6.</span> <span class="toc-text">双向绑定指令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#v-model"><span class="toc-number">3.1.4.6.1.</span> <span class="toc-text">v-model</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#v-model-%E6%8C%87%E4%BB%A4%E7%9A%84%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">3.1.4.6.2.</span> <span class="toc-text">v-model 指令的修饰符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A9%E7%94%A8v-model%E6%89%8B%E6%9C%BA%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="toc-number">3.1.4.6.3.</span> <span class="toc-text">利用v-model手机表单数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.7.</span> <span class="toc-text">条件渲染指令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#v-show%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.7.1.</span> <span class="toc-text">v-show指令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#v-if%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.7.2.</span> <span class="toc-text">v-if指令</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#v-else"><span class="toc-number">3.1.4.7.2.1.</span> <span class="toc-text">v-else</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#v-else-if"><span class="toc-number">3.1.4.7.2.2.</span> <span class="toc-text">v-else-if</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.8.</span> <span class="toc-text">列表渲染指令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#v-for"><span class="toc-number">3.1.4.8.1.</span> <span class="toc-text">v-for</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%A9%E7%94%A8v-for%E9%81%8D%E5%8E%86%E5%90%84%E7%A7%8D%E4%B8%9C%E8%A5%BF"><span class="toc-number">3.1.4.8.1.1.</span> <span class="toc-text">利用v-for遍历各种东西</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#v-for-%E4%B8%AD%E7%9A%84%E7%B4%A2%E5%BC%95"><span class="toc-number">3.1.4.8.1.2.</span> <span class="toc-text">v-for 中的索引</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-key-%E7%BB%B4%E6%8A%A4%E5%88%97%E8%A1%A8%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">3.1.4.8.1.3.</span> <span class="toc-text">使用 key 维护列表的状态</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#key%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">3.1.4.8.1.4.</span> <span class="toc-text">key的原理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.9.</span> <span class="toc-text">其他指令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#v-cloak"><span class="toc-number">3.1.4.9.1.</span> <span class="toc-text">v-cloak</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#v-once"><span class="toc-number">3.1.4.9.2.</span> <span class="toc-text">v-once</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#v-pre"><span class="toc-number">3.1.4.9.3.</span> <span class="toc-text">v-pre</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">3.1.4.10.</span> <span class="toc-text">自定义指令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E6%A3%80%E6%B5%8B"><span class="toc-number">3.1.5.</span> <span class="toc-text">vue中的数据检测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A%E6%A0%B7%E5%BC%8F"><span class="toc-number">3.1.6.</span> <span class="toc-text">vue动态绑定样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">3.1.7.</span> <span class="toc-text">过滤器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.1.7.1.</span> <span class="toc-text">过滤器的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%81%E6%9C%89%E8%BF%87%E6%BB%A4%E5%99%A8%E5%92%8C%E5%85%A8%E5%B1%80%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">3.1.7.2.</span> <span class="toc-text">私有过滤器和全局过滤器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E7%BB%AD%E8%B0%83%E7%94%A8%E5%A4%9A%E4%B8%AA%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">3.1.7.3.</span> <span class="toc-text">连续调用多个过滤器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8%E4%BC%A0%E5%8F%82"><span class="toc-number">3.1.7.4.</span> <span class="toc-text">过滤器传参</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7"><span class="toc-number">3.1.7.5.</span> <span class="toc-text">过滤器的兼容性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#watch-%E4%BE%A6%E5%90%AC%E5%99%A8"><span class="toc-number">3.1.8.</span> <span class="toc-text">watch 侦听器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-watch-%E4%BE%A6%E5%90%AC%E5%99%A8"><span class="toc-number">3.1.8.1.</span> <span class="toc-text">什么是 watch 侦听器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%99%A8%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">3.1.8.2.</span> <span class="toc-text">监听器的应用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#immediate-%E9%80%89%E9%A1%B9"><span class="toc-number">3.1.8.3.</span> <span class="toc-text">immediate 选项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#deep-%E9%80%89%E9%A1%B9"><span class="toc-number">3.1.8.4.</span> <span class="toc-text">deep 选项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%AF%B9%E8%B1%A1%E5%8D%95%E4%B8%AA%E5%B1%9E%E6%80%A7%E7%9A%84%E5%8F%98%E5%8C%96"><span class="toc-number">3.1.8.5.</span> <span class="toc-text">监听对象单个属性的变化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9B%91%E5%90%AC%E5%99%A8%E5%92%8C%E6%96%B9%E6%B3%95%E7%9B%91%E5%90%AC%E5%99%A8%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.1.8.6.</span> <span class="toc-text">对象监听器和方法监听器的区别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-number">3.1.9.</span> <span class="toc-text">计算属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-number">3.1.9.1.</span> <span class="toc-text">什么是计算属性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8F%92%E5%80%BC%E8%AF%AD%E6%B3%95%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.1.9.1.1.</span> <span class="toc-text">插值语法实现</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#methods%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.1.9.1.2.</span> <span class="toc-text">methods实现</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.1.9.1.3.</span> <span class="toc-text">计算属性实现</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%99%A8%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.1.9.1.4.</span> <span class="toc-text">监听器实现</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%AE%80%E5%86%99"><span class="toc-number">3.1.9.2.</span> <span class="toc-text">计算属性简写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">3.1.9.3.</span> <span class="toc-text">计算属性的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%BC%96%E5%86%99%E5%B0%8F%E6%A1%88%E4%BE%8B"><span class="toc-number">3.1.9.4.</span> <span class="toc-text">利用计算属性编写小案例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue-Cli"><span class="toc-number">3.2.</span> <span class="toc-text">Vue-Cli</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E9%A1%B5%E9%9D%A2%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">3.2.1.</span> <span class="toc-text">单页面应用程序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%95%E9%A1%B5%E9%9D%A2%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">3.2.1.1.</span> <span class="toc-text">什么是单页面应用程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-vue-cli"><span class="toc-number">3.2.1.2.</span> <span class="toc-text">什么是 vue-cli</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.1.3.</span> <span class="toc-text">安装和使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue-%E9%A1%B9%E7%9B%AE%E7%9A%84%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-number">3.2.1.4.</span> <span class="toc-text">vue 项目的运行流程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%89%8B%E6%9E%B6%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="toc-number">3.2.2.</span> <span class="toc-text">脚手架文件结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E7%9A%84Vue"><span class="toc-number">3.2.3.</span> <span class="toc-text">关于不同版本的Vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-config-js%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">3.2.4.</span> <span class="toc-text">vue.config.js配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-%E7%BB%84%E4%BB%B6"><span class="toc-number">3.2.5.</span> <span class="toc-text">vue 组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91"><span class="toc-number">3.2.5.1.</span> <span class="toc-text">什么是组件化开发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue-%E4%B8%AD%E7%9A%84%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91"><span class="toc-number">3.2.5.2.</span> <span class="toc-text">vue 中的组件化开发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue-%E7%BB%84%E4%BB%B6%E7%9A%84%E4%B8%89%E4%B8%AA%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-number">3.2.5.3.</span> <span class="toc-text">vue 组件的三个组成部分</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#template"><span class="toc-number">3.2.5.3.1.</span> <span class="toc-text">template</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#script"><span class="toc-number">3.2.5.3.2.</span> <span class="toc-text">script</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#style"><span class="toc-number">3.2.5.3.3.</span> <span class="toc-text">style</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E7%88%B6%E5%AD%90%E5%85%B3%E7%B3%BB"><span class="toc-number">3.2.5.4.</span> <span class="toc-text">组件之间的父子关系</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%84%E4%BB%B6%E7%9A%84%E4%B8%89%E4%B8%AA%E6%AD%A5%E9%AA%A4"><span class="toc-number">3.2.5.4.1.</span> <span class="toc-text">使用组件的三个步骤</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A7%81%E6%9C%89%E7%BB%84%E4%BB%B6"><span class="toc-number">3.2.5.4.2.</span> <span class="toc-text">私有组件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E5%85%A8%E5%B1%80%E7%BB%84%E4%BB%B6"><span class="toc-number">3.2.5.4.3.</span> <span class="toc-text">注册全局组件</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">3.2.5.4.3.1.</span> <span class="toc-text">第一种方法：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">3.2.5.4.3.2.</span> <span class="toc-text">第二种方法：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84-props"><span class="toc-number">3.2.5.5.</span> <span class="toc-text">组件的 props</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#props-%E6%98%AF%E5%8F%AA%E8%AF%BB%E7%9A%84"><span class="toc-number">3.2.5.5.1.</span> <span class="toc-text">props 是只读的</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#props-%E7%9A%84-default-%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">3.2.5.5.2.</span> <span class="toc-text">props 的 default 默认值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#props-%E7%9A%84-type-%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.5.5.3.</span> <span class="toc-text">props 的 type 值类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#props-%E7%9A%84-required-%E5%BF%85%E5%A1%AB%E9%A1%B9"><span class="toc-number">3.2.5.5.4.</span> <span class="toc-text">props 的 required 必填项</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E4%BB%A3%E7%A0%81"><span class="toc-number">3.2.5.5.5.</span> <span class="toc-text">具体代码</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E6%A0%B7%E5%BC%8F%E5%86%B2%E7%AA%81%E9%97%AE%E9%A2%98"><span class="toc-number">3.2.5.6.</span> <span class="toc-text">组件之间的样式冲突问题</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%80%83%EF%BC%9A%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E7%BB%84%E4%BB%B6%E6%A0%B7%E5%BC%8F%E5%86%B2%E7%AA%81%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">3.2.5.6.1.</span> <span class="toc-text">思考：如何解决组件样式冲突的问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#style-%E8%8A%82%E7%82%B9%E7%9A%84-scoped-%E5%B1%9E%E6%80%A7"><span class="toc-number">3.2.5.6.2.</span> <span class="toc-text">style 节点的 scoped 属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#x2F-deep-x2F-%E6%A0%B7%E5%BC%8F%E7%A9%BF%E9%80%8F"><span class="toc-number">3.2.5.6.3.</span> <span class="toc-text">&#x2F;deep&#x2F; 样式穿透</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.5.7.</span> <span class="toc-text">组件的构造函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue%E5%92%8CVueComponent%E7%9A%84%E5%86%85%E7%BD%AE%E5%85%B3%E7%B3%BB"><span class="toc-number">3.2.5.8.</span> <span class="toc-text">Vue和VueComponent的内置关系</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">3.3.</span> <span class="toc-text">生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">3.3.1.</span> <span class="toc-text">实例生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.3.2.</span> <span class="toc-text">组件生命周期函数的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E5%85%AB%E5%A4%A7%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">生命周期的八大钩子函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E3%80%81beforeCreate-created"><span class="toc-number">3.3.2.1.1.</span> <span class="toc-text">一、beforeCreate,created</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E3%80%81beforeMount-mounted"><span class="toc-number">3.3.2.1.2.</span> <span class="toc-text">二、beforeMount,mounted</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E3%80%81beforeUpdate-updated"><span class="toc-number">3.3.2.1.3.</span> <span class="toc-text">三、beforeUpdate,updated</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9B%E3%80%81beforeDestory-destoryed"><span class="toc-number">3.3.2.1.4.</span> <span class="toc-text">四、beforeDestory,destoryed</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB"><span class="toc-number">3.4.</span> <span class="toc-text">组件之间的数据共享</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">3.4.1.</span> <span class="toc-text">组件之间的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB"><span class="toc-number">3.4.2.</span> <span class="toc-text">父子组件之间的数据共享</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%88%B6%E7%BB%84%E4%BB%B6%E5%90%91%E5%AD%90%E7%BB%84%E4%BB%B6%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE"><span class="toc-number">3.4.2.1.</span> <span class="toc-text">父组件向子组件共享数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E7%BB%84%E4%BB%B6%E5%90%91%E7%88%B6%E7%BB%84%E4%BB%B6%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE"><span class="toc-number">3.4.2.2.</span> <span class="toc-text">子组件向父组件共享数据</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%84%E5%BC%9F%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB"><span class="toc-number">3.4.3.</span> <span class="toc-text">兄弟组件之间的数据共享</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF"><span class="toc-number">3.4.4.</span> <span class="toc-text">全局事件总线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B6%88%E6%81%AF%E8%AE%A2%E9%98%85%E4%B8%8E%E5%8F%91%E5%B8%83%EF%BC%88pubsub%EF%BC%89"><span class="toc-number">3.4.5.</span> <span class="toc-text">消息订阅与发布（pubsub）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue%E5%B0%81%E8%A3%85%E7%9A%84%E8%BF%87%E5%BA%A6%E4%B8%8E%E5%8A%A8%E7%94%BB"><span class="toc-number">3.5.</span> <span class="toc-text">Vue封装的过度与动画</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB"><span class="toc-number">3.5.1.</span> <span class="toc-text">动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%87%E5%BA%A6"><span class="toc-number">3.5.2.</span> <span class="toc-text">过度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%AE%8C%E6%88%90%E8%BF%87%E5%BA%A6%E5%92%8C%E5%8A%A8%E7%94%BB"><span class="toc-number">3.5.3.</span> <span class="toc-text">引入第三方库完成过度和动画</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nextTick"><span class="toc-number">3.6.</span> <span class="toc-text">nextTick</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E4%BB%A3%E7%90%86%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="toc-number">3.7.</span> <span class="toc-text">利用代理解决跨域问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80"><span class="toc-number">3.7.1.</span> <span class="toc-text">方法一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-number">3.7.2.</span> <span class="toc-text">方法二</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ref-%E5%BC%95%E7%94%A8"><span class="toc-number">3.8.</span> <span class="toc-text">ref 引用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-ref-%E5%BC%95%E7%94%A8"><span class="toc-number">3.8.1.</span> <span class="toc-text">什么是 ref 引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-ref-%E5%BC%95%E7%94%A8-DOM-%E5%85%83%E7%B4%A0"><span class="toc-number">3.8.2.</span> <span class="toc-text">使用 ref 引用 DOM 元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-ref-%E5%BC%95%E7%94%A8%E7%BB%84%E4%BB%B6%E5%AE%9E%E4%BE%8B"><span class="toc-number">3.8.3.</span> <span class="toc-text">使用 ref 引用组件实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%96%87%E6%9C%AC%E6%A1%86%E5%92%8C%E6%8C%89%E9%92%AE%E7%9A%84%E6%8C%89%E9%9C%80%E5%88%87%E6%8D%A2"><span class="toc-number">3.8.4.</span> <span class="toc-text">控制文本框和按钮的按需切换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A9%E6%96%87%E6%9C%AC%E6%A1%86%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%BE%97%E7%84%A6%E7%82%B9"><span class="toc-number">3.8.5.</span> <span class="toc-text">让文本框自动获得焦点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#this-nextTick-cb-%E6%96%B9%E6%B3%95"><span class="toc-number">3.8.6.</span> <span class="toc-text">this.$nextTick(cb) 方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6"><span class="toc-number">3.9.</span> <span class="toc-text">动态组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6"><span class="toc-number">3.9.1.</span> <span class="toc-text">什么是动态组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-number">3.9.2.</span> <span class="toc-text">如何实现动态组件渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-keep-alive-%E4%BF%9D%E6%8C%81%E7%8A%B6%E6%80%81"><span class="toc-number">3.9.3.</span> <span class="toc-text">使用 keep-alive 保持状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#keep-alive-%E5%AF%B9%E5%BA%94%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-number">3.9.4.</span> <span class="toc-text">keep-alive 对应的生命周期函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#keep-alive-%E7%9A%84-include-%E5%B1%9E%E6%80%A7"><span class="toc-number">3.9.5.</span> <span class="toc-text">keep-alive 的 include 属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mixin-%E6%B7%B7%E5%85%A5"><span class="toc-number">3.10.</span> <span class="toc-text">mixin(混入)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8F%92%E4%BB%B6"><span class="toc-number">3.11.</span> <span class="toc-text">自定义插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-resource"><span class="toc-number">3.12.</span> <span class="toc-text">vue-resource</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E6%A7%BD"><span class="toc-number">3.13.</span> <span class="toc-text">插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%8F%92%E6%A7%BD"><span class="toc-number">3.13.1.</span> <span class="toc-text">什么是插槽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%93%E9%AA%8C%E6%8F%92%E6%A7%BD%E7%9A%84%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95"><span class="toc-number">3.13.2.</span> <span class="toc-text">体验插槽的基础用法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B2%A1%E6%9C%89%E9%A2%84%E7%95%99%E6%8F%92%E6%A7%BD%E7%9A%84%E5%86%85%E5%AE%B9%E4%BC%9A%E8%A2%AB%E4%B8%A2%E5%BC%83"><span class="toc-number">3.13.2.1.</span> <span class="toc-text">没有预留插槽的内容会被丢弃</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8E%E5%A4%87%E5%86%85%E5%AE%B9"><span class="toc-number">3.13.2.2.</span> <span class="toc-text">后备内容</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD"><span class="toc-number">3.13.3.</span> <span class="toc-text">具名插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD%E6%8F%90%E4%BE%9B%E5%86%85%E5%AE%B9"><span class="toc-number">3.13.3.1.</span> <span class="toc-text">为具名插槽提供内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD%E7%9A%84%E7%AE%80%E5%86%99%E5%BD%A2%E5%BC%8F"><span class="toc-number">3.13.3.2.</span> <span class="toc-text">具名插槽的简写形式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD"><span class="toc-number">3.13.4.</span> <span class="toc-text">作用域插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD"><span class="toc-number">3.13.4.1.</span> <span class="toc-text">使用作用域插槽</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E6%8F%92%E6%A7%BD"><span class="toc-number">3.13.4.2.</span> <span class="toc-text">解构插槽</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vuex"><span class="toc-number">3.14.</span> <span class="toc-text">Vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E5%BF%B5"><span class="toc-number">3.14.1.</span> <span class="toc-text">1.概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E4%BD%BF%E7%94%A8-Vuex"><span class="toc-number">3.14.2.</span> <span class="toc-text">2.什么时候使用 Vuex</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%90%AD%E5%BB%BAvuex%E7%8E%AF%E5%A2%83"><span class="toc-number">3.14.3.</span> <span class="toc-text">3.搭建vuex环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.14.4.</span> <span class="toc-text">4.基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-getters%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.14.5.</span> <span class="toc-text">5.getters的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%9B%9B%E4%B8%AAmap%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.14.6.</span> <span class="toc-text">6.四个map方法的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%A8%A1%E5%9D%97%E5%8C%96-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">3.14.7.</span> <span class="toc-text">7.模块化+命名空间</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4-1"><span class="toc-number">3.15.</span> <span class="toc-text">自定义指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">3.15.1.</span> <span class="toc-text">什么是自定义指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.15.2.</span> <span class="toc-text">自定义指令的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%81%E6%9C%89%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">3.15.3.</span> <span class="toc-text">私有自定义指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">3.15.4.</span> <span class="toc-text">使用自定义指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A%E5%8F%82%E6%95%B0%E5%80%BC"><span class="toc-number">3.15.5.</span> <span class="toc-text">为自定义指令动态绑定参数值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-binding-%E8%8E%B7%E5%8F%96%E6%8C%87%E4%BB%A4%E7%9A%84%E5%8F%82%E6%95%B0%E5%80%BC"><span class="toc-number">3.15.6.</span> <span class="toc-text">通过 binding 获取指令的参数值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#update-%E5%87%BD%E6%95%B0"><span class="toc-number">3.15.7.</span> <span class="toc-text">update 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%AE%80%E5%86%99"><span class="toc-number">3.15.8.</span> <span class="toc-text">函数简写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">3.15.9.</span> <span class="toc-text">全局自定义指令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1"><span class="toc-number">3.16.</span> <span class="toc-text">路由</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%8E%9F%E7%90%86"><span class="toc-number">3.16.1.</span> <span class="toc-text">前端路由的概念与原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SPA-%E4%B8%8E%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1"><span class="toc-number">3.16.1.1.</span> <span class="toc-text">SPA 与前端路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%9A%E9%93%BE%E6%8E%A5%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.16.1.2.</span> <span class="toc-text">锚链接实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F"><span class="toc-number">3.16.1.3.</span> <span class="toc-text">前端路由的工作方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E7%AE%80%E6%98%93%E7%9A%84%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1"><span class="toc-number">3.16.1.4.</span> <span class="toc-text">实现简易的前端路由</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-router-%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">3.16.2.</span> <span class="toc-text">vue-router 的基本用法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%AE%89%E8%A3%85-vue-router"><span class="toc-number">3.16.2.1.</span> <span class="toc-text">在项目中安装 vue-router</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%9D%97"><span class="toc-number">3.16.2.2.</span> <span class="toc-text">创建路由模块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E5%B9%B6%E6%8C%82%E8%BD%BD%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%9D%97"><span class="toc-number">3.16.2.3.</span> <span class="toc-text">导入并挂载路由模块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E8%B7%AF%E7%94%B1%E9%93%BE%E6%8E%A5%E5%92%8C%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="toc-number">3.16.2.4.</span> <span class="toc-text">声明路由链接和占位符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E8%B7%AF%E7%94%B1%E7%9A%84%E5%8C%B9%E9%85%8D%E8%A7%84%E5%88%99"><span class="toc-number">3.16.2.5.</span> <span class="toc-text">声明路由的匹配规则</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-router-%E7%9A%84%E5%B8%B8%E8%A7%81%E7%94%A8%E6%B3%95"><span class="toc-number">3.16.3.</span> <span class="toc-text">vue-router 的常见用法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">3.16.3.1.</span> <span class="toc-text">路由重定向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"><span class="toc-number">3.16.3.2.</span> <span class="toc-text">嵌套路由</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%AD%90%E8%B7%AF%E7%94%B1%E9%93%BE%E6%8E%A5%E5%92%8C%E5%AD%90%E8%B7%AF%E7%94%B1%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="toc-number">3.16.3.2.1.</span> <span class="toc-text">声明子路由链接和子路由占位符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-children-%E5%B1%9E%E6%80%A7%E5%A3%B0%E6%98%8E%E5%AD%90%E8%B7%AF%E7%94%B1%E8%A7%84%E5%88%99"><span class="toc-number">3.16.3.2.2.</span> <span class="toc-text">通过 children 属性声明子路由规则</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E5%8C%B9%E9%85%8D"><span class="toc-number">3.16.3.3.</span> <span class="toc-text">动态路由匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">3.16.3.3.1.</span> <span class="toc-text">动态路由的概念</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#route-params-%E5%8F%82%E6%95%B0%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.16.3.3.2.</span> <span class="toc-text">$route.params 参数对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#query%E8%BF%9B%E8%A1%8C%E4%BC%A0%E5%8F%82"><span class="toc-number">3.16.3.3.3.</span> <span class="toc-text">query进行传参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-props-%E6%8E%A5%E6%94%B6%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0"><span class="toc-number">3.16.3.3.4.</span> <span class="toc-text">使用 props 接收路由参数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E5%AF%BC%E8%88%AA-amp-%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA"><span class="toc-number">3.16.3.4.</span> <span class="toc-text">声明式导航 &amp; 编程式导航</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#vue-router-%E4%B8%AD%E7%9A%84%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA-API"><span class="toc-number">3.16.3.4.1.</span> <span class="toc-text">vue-router 中的编程式导航 API</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#router-push"><span class="toc-number">3.16.3.4.1.1.</span> <span class="toc-text">$router.push</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#router-replace"><span class="toc-number">3.16.3.4.1.2.</span> <span class="toc-text">$router.replace</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#router-go"><span class="toc-number">3.16.3.4.1.3.</span> <span class="toc-text">$router.go</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#router-go-%E7%9A%84%E7%AE%80%E5%8C%96%E7%94%A8%E6%B3%95"><span class="toc-number">3.16.3.4.1.4.</span> <span class="toc-text">$router.go 的简化用法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">3.16.3.5.</span> <span class="toc-text">缓存路由组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E6%96%B0%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90"><span class="toc-number">3.16.3.6.</span> <span class="toc-text">两个新的生命周期钩子</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB"><span class="toc-number">3.16.3.7.</span> <span class="toc-text">导航守卫</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%89%8D%E7%BD%AE%E5%AE%88%E5%8D%AB"><span class="toc-number">3.16.3.7.1.</span> <span class="toc-text">全局前置守卫</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%88%E5%8D%AB%E6%96%B9%E6%B3%95%E7%9A%84-3-%E4%B8%AA%E5%BD%A2%E5%8F%82"><span class="toc-number">3.16.3.7.1.1.</span> <span class="toc-text">守卫方法的 3 个形参</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#next-%E5%87%BD%E6%95%B0%E7%9A%84-3-%E7%A7%8D%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">3.16.3.7.1.2.</span> <span class="toc-text">next 函数的 3 种调用方式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%90%8E%E5%8F%B0%E4%B8%BB%E9%A1%B5%E7%9A%84%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90"><span class="toc-number">3.16.3.7.1.3.</span> <span class="toc-text">控制后台主页的访问权限</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%90%8E%E7%BD%AE%E5%AE%88%E5%8D%AB"><span class="toc-number">3.16.3.7.2.</span> <span class="toc-text">全局后置守卫</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%8B%AC%E4%BA%AB%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">3.16.3.7.3.</span> <span class="toc-text">独享路由守卫</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%86%85%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">3.16.3.7.4.</span> <span class="toc-text">组件内路由守卫</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#history%E6%A8%A1%E5%BC%8F%E5%92%8Chash%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.16.3.7.5.</span> <span class="toc-text">history模式和hash模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E7%9A%84%E5%AF%BC%E8%88%AA%E8%A7%A3%E6%9E%90%E6%B5%81%E7%A8%8B"><span class="toc-number">3.16.3.7.6.</span> <span class="toc-text">完整的导航解析流程</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue3"><span class="toc-number">4.</span> <span class="toc-text">Vue3</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%8E%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">ES6模块化与异步编程高级用法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6-%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">4.1.1.</span> <span class="toc-text">ES6 模块化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E9%A1%BE%EF%BC%9Anode-js-%E4%B8%AD%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">4.1.1.1.</span> <span class="toc-text">回顾：node.js 中如何实现模块化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96%E8%A7%84%E8%8C%83%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">4.1.1.2.</span> <span class="toc-text">前端模块化规范的分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-ES6-%E6%A8%A1%E5%9D%97%E5%8C%96%E8%A7%84%E8%8C%83"><span class="toc-number">4.1.1.3.</span> <span class="toc-text">什么是 ES6 模块化规范</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8-node-js-%E4%B8%AD%E4%BD%93%E9%AA%8C-ES6-%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">4.1.1.4.</span> <span class="toc-text">在 node.js 中体验 ES6 模块化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES6-%E6%A8%A1%E5%9D%97%E5%8C%96%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">4.1.1.5.</span> <span class="toc-text">ES6 模块化的基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA"><span class="toc-number">4.1.1.5.1.</span> <span class="toc-text">默认导出</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%85%A5"><span class="toc-number">4.1.1.5.2.</span> <span class="toc-text">默认导入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">4.1.1.5.3.</span> <span class="toc-text">默认导出的注意事项</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%85%A5%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">4.1.1.5.4.</span> <span class="toc-text">默认导入的注意事项</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E9%9C%80%E5%AF%BC%E5%87%BA"><span class="toc-number">4.1.1.5.5.</span> <span class="toc-text">按需导出</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E9%9C%80%E5%AF%BC%E5%85%A5"><span class="toc-number">4.1.1.5.6.</span> <span class="toc-text">按需导入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E9%9C%80%E5%AF%BC%E5%87%BA%E4%B8%8E%E6%8C%89%E9%9C%80%E5%AF%BC%E5%85%A5%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">4.1.1.5.7.</span> <span class="toc-text">按需导出与按需导入的注意事项</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E5%AF%BC%E5%85%A5%E5%B9%B6%E6%89%A7%E8%A1%8C%E6%A8%A1%E5%9D%97%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="toc-number">4.1.1.5.8.</span> <span class="toc-text">直接导入并执行模块中的代码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise"><span class="toc-number">4.1.2.</span> <span class="toc-text">Promise</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1"><span class="toc-number">4.1.2.1.</span> <span class="toc-text">回调地狱</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">4.1.2.1.1.</span> <span class="toc-text">如何解决回调地狱的问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Promise-%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">4.1.2.1.2.</span> <span class="toc-text">Promise 的基本概念</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E6%8C%89%E9%A1%BA%E5%BA%8F%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">4.1.2.2.</span> <span class="toc-text">基于回调函数按顺序读取文件内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E-then-fs-%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">4.1.2.3.</span> <span class="toc-text">基于 then-fs 读取文件内容</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#then-fs-%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">4.1.2.3.1.</span> <span class="toc-text">then-fs 的基本使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#then-%E6%96%B9%E6%B3%95%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">4.1.2.3.2.</span> <span class="toc-text">.then() 方法的特性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E-Promise-%E6%8C%89%E9%A1%BA%E5%BA%8F%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-number">4.1.2.3.3.</span> <span class="toc-text">基于 Promise 按顺序读取文件的内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-catch-%E6%8D%95%E8%8E%B7%E9%94%99%E8%AF%AF"><span class="toc-number">4.1.2.3.4.</span> <span class="toc-text">通过 .catch 捕获错误</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Promise-all-%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.2.3.5.</span> <span class="toc-text">Promise.all() 方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Promise-race-%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.2.3.6.</span> <span class="toc-text">Promise.race() 方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E-Promise-%E5%B0%81%E8%A3%85%E8%AF%BB%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.2.4.</span> <span class="toc-text">基于 Promise 封装读文件的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#getFile-%E6%96%B9%E6%B3%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%AE%9A%E4%B9%89"><span class="toc-number">4.1.2.4.1.</span> <span class="toc-text">getFile 方法的基本定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C"><span class="toc-number">4.1.2.4.2.</span> <span class="toc-text">创建具体的异步操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96-then-%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%AE%9E%E5%8F%82"><span class="toc-number">4.1.2.4.3.</span> <span class="toc-text">获取 .then 的两个实参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B0%83%E7%94%A8-resolve-%E5%92%8C-reject-%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="toc-number">4.1.2.4.4.</span> <span class="toc-text">调用 resolve 和 reject 回调函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#async-x2F-await"><span class="toc-number">4.1.3.</span> <span class="toc-text">async&#x2F;await</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-async-x2F-await"><span class="toc-number">4.1.3.1.</span> <span class="toc-text">什么是 async&#x2F;await</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#async-x2F-await-%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">4.1.3.2.</span> <span class="toc-text">async&#x2F;await 的基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#async-x2F-await-%E7%9A%84%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">4.1.3.3.</span> <span class="toc-text">async&#x2F;await 的使用注意事项</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EventLoop"><span class="toc-number">4.1.4.</span> <span class="toc-text">EventLoop</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JavaScript-%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B%E7%9A%84%E8%AF%AD%E8%A8%80"><span class="toc-number">4.1.4.1.</span> <span class="toc-text">JavaScript 是单线程的语言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1"><span class="toc-number">4.1.4.2.</span> <span class="toc-text">同步任务和异步任务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E7%9A%84%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="toc-number">4.1.4.3.</span> <span class="toc-text">同步任务和异步任务的执行过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EventLoop-%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">4.1.4.4.</span> <span class="toc-text">EventLoop 的基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E5%90%88-EventLoop-%E5%88%86%E6%9E%90%E8%BE%93%E5%87%BA%E7%9A%84%E9%A1%BA%E5%BA%8F"><span class="toc-number">4.1.4.5.</span> <span class="toc-text">结合 EventLoop 分析输出的顺序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8F%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%BE%AE%E4%BB%BB%E5%8A%A1"><span class="toc-number">4.1.5.</span> <span class="toc-text">宏任务和微任务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AE%8F%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%BE%AE%E4%BB%BB%E5%8A%A1"><span class="toc-number">4.1.5.1.</span> <span class="toc-text">什么是宏任务和微任务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8F%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%BE%AE%E4%BB%BB%E5%8A%A1%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-number">4.1.5.2.</span> <span class="toc-text">宏任务和微任务的执行顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%BB%E9%93%B6%E8%A1%8C%E5%8A%9E%E4%B8%9A%E5%8A%A1%E7%9A%84%E5%9C%BA%E6%99%AF"><span class="toc-number">4.1.5.3.</span> <span class="toc-text">去银行办业务的场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E4%BB%A5%E4%B8%8B%E4%BB%A3%E7%A0%81%E8%BE%93%E5%87%BA%E7%9A%84%E9%A1%BA%E5%BA%8F"><span class="toc-number">4.1.5.4.</span> <span class="toc-text">分析以下代码输出的顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%8F%E5%85%B8%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">4.1.5.5.</span> <span class="toc-text">经典面试题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue%E5%BC%95%E5%85%A5%E7%AC%AC%E4%B8%89%E6%96%B9"><span class="toc-number">4.2.</span> <span class="toc-text">Vue引入第三方</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B"><span class="toc-number">5.</span> <span class="toc-text">Vue3快速上手</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Vue3%E7%AE%80%E4%BB%8B"><span class="toc-number">5.1.</span> <span class="toc-text">1.Vue3简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Vue3%E5%B8%A6%E6%9D%A5%E4%BA%86%E4%BB%80%E4%B9%88"><span class="toc-number">5.2.</span> <span class="toc-text">2.Vue3带来了什么</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%80%A7%E8%83%BD%E7%9A%84%E6%8F%90%E5%8D%87"><span class="toc-number">5.2.1.</span> <span class="toc-text">1.性能的提升</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%BA%90%E7%A0%81%E7%9A%84%E5%8D%87%E7%BA%A7"><span class="toc-number">5.2.2.</span> <span class="toc-text">2.源码的升级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%8B%A5%E6%8A%B1TypeScript"><span class="toc-number">5.2.3.</span> <span class="toc-text">3.拥抱TypeScript</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%96%B0%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">5.2.4.</span> <span class="toc-text">4.新的特性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BAVue3-0%E5%B7%A5%E7%A8%8B"><span class="toc-number">6.</span> <span class="toc-text">一、创建Vue3.0工程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8-vue-cli-%E5%88%9B%E5%BB%BA"><span class="toc-number">6.1.</span> <span class="toc-text">1.使用 vue-cli 创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8-vite-%E5%88%9B%E5%BB%BA"><span class="toc-number">6.2.</span> <span class="toc-text">2.使用 vite 创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E5%B7%A5%E7%A8%8B%E7%BB%93%E6%9E%84"><span class="toc-number">6.3.</span> <span class="toc-text">分析工程结构</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8-Composition-API"><span class="toc-number">7.</span> <span class="toc-text">二、常用 Composition API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%8B%89%E5%BC%80%E5%BA%8F%E5%B9%95%E7%9A%84setup"><span class="toc-number">7.1.</span> <span class="toc-text">1.拉开序幕的setup</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-ref%E5%87%BD%E6%95%B0"><span class="toc-number">7.2.</span> <span class="toc-text">2.ref函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-reactive%E5%87%BD%E6%95%B0"><span class="toc-number">7.3.</span> <span class="toc-text">3.reactive函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Vue3-0%E4%B8%AD%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86"><span class="toc-number">7.4.</span> <span class="toc-text">4.Vue3.0中的响应式原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vue2-x%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="toc-number">7.4.1.</span> <span class="toc-text">vue2.x的响应式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue3-0%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="toc-number">7.4.2.</span> <span class="toc-text">Vue3.0的响应式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-reactive%E5%AF%B9%E6%AF%94ref"><span class="toc-number">7.5.</span> <span class="toc-text">5.reactive对比ref</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-setup%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">7.6.</span> <span class="toc-text">6.setup的两个注意点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E4%B8%8E%E7%9B%91%E8%A7%86"><span class="toc-number">7.7.</span> <span class="toc-text">7.计算属性与监视</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-computed%E5%87%BD%E6%95%B0"><span class="toc-number">7.7.1.</span> <span class="toc-text">1.computed函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-watch%E5%87%BD%E6%95%B0"><span class="toc-number">7.7.2.</span> <span class="toc-text">2.watch函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-watchEffect%E5%87%BD%E6%95%B0"><span class="toc-number">7.7.3.</span> <span class="toc-text">3.watchEffect函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">7.8.</span> <span class="toc-text">8.生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E8%87%AA%E5%AE%9A%E4%B9%89hook%E5%87%BD%E6%95%B0"><span class="toc-number">7.9.</span> <span class="toc-text">9.自定义hook函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-toRef"><span class="toc-number">7.10.</span> <span class="toc-text">10.toRef</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%85%B6%E5%AE%83-Composition-API"><span class="toc-number">8.</span> <span class="toc-text">三、其它 Composition API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-shallowReactive-%E4%B8%8E-shallowRef"><span class="toc-number">8.1.</span> <span class="toc-text">1.shallowReactive 与 shallowRef</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-readonly-%E4%B8%8E-shallowReadonly"><span class="toc-number">8.2.</span> <span class="toc-text">2.readonly 与 shallowReadonly</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-toRaw-%E4%B8%8E-markRaw"><span class="toc-number">8.3.</span> <span class="toc-text">3.toRaw 与 markRaw</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-customRef"><span class="toc-number">8.4.</span> <span class="toc-text">4.customRef</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-provide-%E4%B8%8E-inject"><span class="toc-number">8.5.</span> <span class="toc-text">5.provide 与 inject</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E5%88%A4%E6%96%AD"><span class="toc-number">8.6.</span> <span class="toc-text">6.响应式数据的判断</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Composition-API-%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-number">9.</span> <span class="toc-text">四、Composition API 的优势</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Options-API-%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">9.1.</span> <span class="toc-text">1.Options API 存在的问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Composition-API-%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-number">9.2.</span> <span class="toc-text">2.Composition API 的优势</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%96%B0%E7%9A%84%E7%BB%84%E4%BB%B6"><span class="toc-number">10.</span> <span class="toc-text">五、新的组件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Fragment"><span class="toc-number">10.1.</span> <span class="toc-text">1.Fragment</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Teleport"><span class="toc-number">10.2.</span> <span class="toc-text">2.Teleport</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Suspense"><span class="toc-number">10.3.</span> <span class="toc-text">3.Suspense</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E5%85%B6%E4%BB%96"><span class="toc-number">11.</span> <span class="toc-text">六、其他</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%85%A8%E5%B1%80API%E7%9A%84%E8%BD%AC%E7%A7%BB"><span class="toc-number">11.1.</span> <span class="toc-text">1.全局API的转移</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%85%B6%E4%BB%96%E6%94%B9%E5%8F%98"><span class="toc-number">11.2.</span> <span class="toc-text">2.其他改变</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/21/JUC%E4%B8%AD%E7%9A%84%E5%8E%9F%E5%AD%90%E7%B1%BB/" title="JUC中的原子类">JUC中的原子类</a><time datetime="2023-08-21T13:30:52.000Z" title="发表于 2023-08-21 21:30:52">2023-08-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/20/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ReentrantLock/" title="深入理解ReentrantLock">深入理解ReentrantLock</a><time datetime="2023-08-20T12:31:06.000Z" title="发表于 2023-08-20 20:31:06">2023-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/19/%E7%BA%BF%E7%A8%8B%E5%85%AB%E9%94%81/" title="线程八锁">线程八锁</a><time datetime="2023-08-19T08:50:12.000Z" title="发表于 2023-08-19 16:50:12">2023-08-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/18/Java%E9%9B%86%E5%90%88%E8%AF%A6%E8%A7%A3/" title="Java集合详解">Java集合详解</a><time datetime="2023-08-18T07:12:06.000Z" title="发表于 2023-08-18 15:12:06">2023-08-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/08/Redis%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B%E5%85%A8%E9%9D%A2%E6%8F%AD%E7%A7%98/" title="Redis网络模型全面揭秘">Redis网络模型全面揭秘</a><time datetime="2023-08-08T03:29:32.000Z" title="发表于 2023-08-08 11:29:32">2023-08-08</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://raw.githubusercontent.com/Xiaobaicai350/picBed/master/xiaobaicai/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220806101221.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By 小白菜</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">欢迎来到小白菜的blog~</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><script src="/js/sakura.js"></script><script src="https://myhkw.cn/player/js/player.js" id="myhk" key="159611061656" m="1"></script><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>